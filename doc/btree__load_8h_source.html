<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CUBRID Engine: src/storage/btree_load.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CUBRID Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('btree__load_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">btree_load.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="btree__load_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2008 Search Solution Corporation. All rights reserved by Search Solution.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *   (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *  GNU General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *  You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *  along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * btree_load.h: Contains private information of B+tree Module</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef _BTREE_LOAD_H_</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define _BTREE_LOAD_H_</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ident &quot;$Id$&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="btree_8h.html">btree.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="object__representation_8h.html">object_representation.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="error__manager_8h.html">error_manager.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="storage__common_8h.html">storage_common.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="oid_8h.html">oid.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="system__parameter_8h.html">system_parameter.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="object__domain_8h.html">object_domain.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slotted__page_8h.html">slotted_page.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * Constants related to b+tree structure</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a8ae7e5195efd2ab3c3da7ec79023e9f2">   45</a></span>&#160;<span class="preprocessor">#define PEEK_KEY_VALUE PEEK</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="btree__load_8h.html#acdc35a314e1c2b9f7a1beda717a0445a">   46</a></span>&#160;<span class="preprocessor">#define COPY_KEY_VALUE COPY</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/* The revision level of the the Btree should be incremented whenever there</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * is a disk representation change for the Btree structure.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="btree__load_8h.html#aba1c740640e7784458c210a42a098e2f">   51</a></span>&#160;<span class="preprocessor">#define BTREE_CURRENT_REV_LEVEL 0</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">/* each index page is supposed to be left empty as indicated by the</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * UNFILL FACTOR during index loading phase.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a0fd7eb9acd4bbad2be50f2dac272e9bc">   56</a></span>&#160;<span class="preprocessor">#define LOAD_FIXED_EMPTY_FOR_LEAF \</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">  (DB_PAGESIZE * prm_get_float_value (PRM_ID_BT_UNFILL_FACTOR) \</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">   + DISK_VPID_SIZE)</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a71e94361c103678e582dd488c63b2c35">   59</a></span>&#160;<span class="preprocessor">#define LOAD_FIXED_EMPTY_FOR_NONLEAF \</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">  (DB_PAGESIZE * MAX (prm_get_float_value (PRM_ID_BT_UNFILL_FACTOR), 0.1) \</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">   + DISK_VPID_SIZE)</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/* each page is supposed to have around 30% blank area during merge</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">   considerations of a delete operation */</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/* Maximum Alignment */</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a0541a4d8f75d024f4ebc0a9c2898625b">   67</a></span>&#160;<span class="preprocessor">#define BTREE_MAX_ALIGN INT_ALIGNMENT</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/* Maximum Leaf Node Entry Size */</span></div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a2059de8bb2791d510cbb380bf93b2104">   70</a></span>&#160;<span class="preprocessor">#define LEAF_ENTRY_MAX_SIZE(n) \</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">  (LEAF_RECORD_SIZE \</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">   + (2 * OR_OID_SIZE) </span><span class="comment">/* OID + class OID */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">   + (2 * OR_MVCCID_SIZE) </span><span class="comment">/* Insert/delete MVCCID */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">   + BTREE_MAX_ALIGN </span><span class="comment">/* Alignment */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">   + n </span><span class="comment">/* Key disk length. */</span><span class="preprocessor">)</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">/* Maximum size of new fence key. */</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="btree__load_8h.html#ae3c2f9291223c5a6bccb93b491bd37d8">   78</a></span>&#160;<span class="preprocessor">#define LEAF_FENCE_MAX_SIZE(n) \</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">  (LEAF_RECORD_SIZE \</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">   + OR_OID_SIZE </span><span class="comment">/* OID marker for fence key */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">   + BTREE_MAX_ALIGN </span><span class="comment">/* Alignment */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">   + n </span><span class="comment">/* Key disk length. */</span><span class="preprocessor">)</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/* Maximum Non_Leaf Entry Size */</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a38464eb3d80a86dd5c9136b4fe9405e1">   85</a></span>&#160;<span class="preprocessor">#define NON_LEAF_ENTRY_MAX_SIZE(n) \</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">  (NON_LEAF_RECORD_SIZE + BTREE_MAX_ALIGN + n)</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/* New b-tree entry maximum size. */</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a8eb7bb52b95d2c0c67e7cc6b6a860f86">   89</a></span>&#160;<span class="preprocessor">#define BTREE_NEW_ENTRY_MAX_SIZE(key_disk_size, node_type) \</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">  ((node_type) == BTREE_LEAF_NODE ? \</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">   LEAF_ENTRY_MAX_SIZE (key_disk_size) : \</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">   NON_LEAF_ENTRY_MAX_SIZE (key_disk_size))</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/* compare two object identifiers */</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="btree__load_8h.html#af309f77cb9dddaad83a82f89b61fb45c">   95</a></span>&#160;<span class="preprocessor">#define OIDCMP(n1, n2) \</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">  ((n1).volid == (n2).volid \</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">   &amp;&amp; (n1).pageid == (n2).pageid \</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">   &amp;&amp; (n1).slotid == (n2).slotid)</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/* Header (Oth) record of the page */</span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="btree__load_8h.html#ab7770a7f0d95e67620ff6ed347a07a56">  101</a></span>&#160;<span class="preprocessor">#define HEADER 0</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#if !defined(NDEBUG)</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a5fdb5bd2e8ff09594a885ba2c199ab72">  104</a></span>&#160;<span class="preprocessor">#define BTREE_INVALID_INDEX_ID(btid) \</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor"> ((btid)-&gt;vfid.fileid == NULL_FILEID || (btid)-&gt;vfid.volid == NULL_VOLID \</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">  || (btid)-&gt;root_pageid == NULL_PAGEID)</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">/* The size of an object in cases it has fixed size (includes all required</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"> * info).</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"> * In case of unique: OID, class OID, insert and delete MVCCID.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> * In case of non-unique: OID, insert and delete MVCCID.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"> * Fixed size is used when:</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"> * 1. object is saved in overflow page.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"> * 2. object is non-first in leaf record.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"> * 3. object is first in a leaf record that has overflow pages.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="btree__load_8h.html#ac10f8367e2cc5a006e8ca27b628ef1eb">  119</a></span>&#160;<span class="preprocessor">#define BTREE_OBJECT_FIXED_SIZE(btree_info) \</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">  (BTREE_IS_UNIQUE ((btree_info)-&gt;unique_pk) ? \</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">   2 * OR_OID_SIZE + 2 * OR_MVCCID_SIZE : OR_OID_SIZE + 2 * OR_MVCCID_SIZE)</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/* Maximum possible size for one b-tree object including all its information.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a3e66b23873a8364148818188f82db629">  124</a></span>&#160;<span class="preprocessor">#define BTREE_OBJECT_MAX_SIZE (2 * OR_OID_SIZE + 2 * OR_MVCCID_SIZE)</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> * Overflow key related defines</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/* We never want to store keys larger than an eighth of the page size</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> * directly on the btree page since this will make the btree too deep.</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> * Large keys are automatically stored on overflow pages.  With prefix</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> * keys this shouldn&#39;t be much of a problem anyway (when we get them</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> * turned back on).</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a54c55b470d88c45399652d42fa088273">  136</a></span>&#160;<span class="preprocessor">#define BTREE_MAX_KEYLEN_INPAGE ((int)(DB_PAGESIZE / 8))</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">/* in MVCC BTREE_MAX_OIDLEN_INPAGE include MVCC fields too */</span></div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="btree__load_8h.html#aa00daeb8c52eb234c900791a7a2d474e">  138</a></span>&#160;<span class="preprocessor">#define BTREE_MAX_OIDLEN_INPAGE ((int)(DB_PAGESIZE / 8))</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">/* Maximum number of objects that surely fit given size including all info. */</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="btree__load_8h.html#ac0996d52c8cb33a79c8fa0cec8c9f48f">  141</a></span>&#160;<span class="preprocessor">#define BTREE_MAX_OIDCOUNT_IN_SIZE(btid, size) \</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">  ((int) (size) / BTREE_OBJECT_FIXED_SIZE (btid))</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/* Maximum number of objects for a leaf record */</span></div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a532ab871498fc7afb4b9364fd230b438">  144</a></span>&#160;<span class="preprocessor">#define BTREE_MAX_OIDCOUNT_IN_LEAF_RECORD(btid) \</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">  (BTREE_MAX_OIDCOUNT_IN_SIZE (btid, BTREE_MAX_OIDLEN_INPAGE))</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a4eaac953cfdd4d865ce64d9f0459b1d7">  147</a></span>&#160;<span class="preprocessor">#define BTREE_MAX_OVERFLOW_RECORD_SIZE \</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">  (DB_PAGESIZE - DB_ALIGN (spage_header_size (), BTREE_MAX_ALIGN) \</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">   - DB_ALIGN (sizeof (BTREE_OVERFLOW_HEADER), BTREE_MAX_ALIGN))</span></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a30a069879090fc05f64ad74e45ef12b0">  150</a></span>&#160;<span class="preprocessor">#define BTREE_MAX_OIDCOUNT_IN_OVERFLOW_RECORD(btid) \</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">  (BTREE_MAX_OIDCOUNT_IN_SIZE (btid, BTREE_MAX_OVERFLOW_RECORD_SIZE))</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#a7656237a694b29bf8b97192a86fd854e">btree_node_number_of_keys</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#ab77b9a73284daeee9a4c5a377fa2e865">btree_get_next_overflow_vpid</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr, <a class="code" href="structvpid.html">VPID</a> * <a class="code" href="structvpid.html">vpid</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a9246ab837550515f0b79a452044e8adf">  156</a></span>&#160;<span class="preprocessor">#define BTREE_GET_KEY_LEN_IN_PAGE(key_len) \</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">  (((key_len) &gt;= BTREE_MAX_KEYLEN_INPAGE) ? DISK_VPID_SIZE : (key_len))</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">/* for notification log messages */</span></div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a89c94b92b4d8a3a5afb61cf3e6895778">  160</a></span>&#160;<span class="preprocessor">#define BTREE_SET_CREATED_OVERFLOW_KEY_NOTIFICATION(THREAD,KEY,OID,C_OID,BTID,BTNM) \</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">  btree_set_error(THREAD, KEY, OID, C_OID, BTID, BTNM, ER_NOTIFICATION_SEVERITY, \</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">          ER_BTREE_CREATED_OVERFLOW_KEY, __FILE__, __LINE__)</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a2bce3047988aeeb22af12a214ded914a">  164</a></span>&#160;<span class="preprocessor">#define BTREE_SET_CREATED_OVERFLOW_PAGE_NOTIFICATION(THREAD,KEY,OID,C_OID,BTID) \</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">  btree_set_error(THREAD, KEY, OID, C_OID, BTID, NULL, ER_NOTIFICATION_SEVERITY, \</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">          ER_BTREE_CREATED_OVERFLOW_PAGE, __FILE__, __LINE__)</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a264d19c592e1cb28a76dd861625a6c15">  168</a></span>&#160;<span class="preprocessor">#define BTREE_SET_DELETED_OVERFLOW_PAGE_NOTIFICATION(THREAD,KEY,OID,C_OID,BTID) \</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">  btree_set_error(THREAD, KEY, OID, C_OID, BTID, NULL, ER_NOTIFICATION_SEVERITY, \</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">          ER_BTREE_DELETED_OVERFLOW_PAGE, __FILE__, __LINE__)</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">/* set fixed size for MVCC record header */</span></div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a0c9342110bbb88a3db905095a2b5f12d">  173</a></span>&#160;<span class="preprocessor">#define BTREE_MVCC_SET_HEADER_FIXED_SIZE(p_mvcc_rec_header) \</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor">  do \</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">    { \</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">      assert (p_mvcc_rec_header != NULL); \</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">      if (!((p_mvcc_rec_header)-&gt;mvcc_flag &amp; OR_MVCC_FLAG_VALID_INSID)) \</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">        { \</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">          (p_mvcc_rec_header)-&gt;mvcc_flag |= OR_MVCC_FLAG_VALID_INSID; \</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">          (p_mvcc_rec_header)-&gt;mvcc_ins_id = MVCCID_ALL_VISIBLE; \</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">      if (!((p_mvcc_rec_header)-&gt;mvcc_flag &amp; OR_MVCC_FLAG_VALID_DELID)) \</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">        { \</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor">          (p_mvcc_rec_header)-&gt;mvcc_flag |= OR_MVCC_FLAG_VALID_DELID; \</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">          (p_mvcc_rec_header)-&gt;mvcc_del_id = MVCCID_NULL; \</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">    } \</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">  while (0)</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> * Type definitions related to b+tree structure and operations</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">/* Node header information */</span></div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="btree__load_8h.html#aaa471a53b1c20b0d762b1bc4a76263e4">  195</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbtree__node__header.html">btree_node_header</a> <a class="code" href="structbtree__node__header.html">BTREE_NODE_HEADER</a>;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="structbtree__node__header.html">  196</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structbtree__node__header.html">btree_node_header</a></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="structbtree__node__header.html#ae273599203fba6e3f26cf9fc15b3bb63">  198</a></span>&#160;  <a class="code" href="structbtree__node__split__info.html">BTREE_NODE_SPLIT_INFO</a> <a class="code" href="structbtree__node__header.html#ae273599203fba6e3f26cf9fc15b3bb63">split_info</a>; <span class="comment">/* split point info. of the node */</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="structbtree__node__header.html#a3e1d97fe6a9cd263892411c03ffd6bf9">  199</a></span>&#160;  <a class="code" href="structvpid.html">VPID</a> <a class="code" href="structbtree__node__header.html#a3e1d97fe6a9cd263892411c03ffd6bf9">prev_vpid</a>;       <span class="comment">/* Leaf Page Previous Node Pointer */</span></div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structbtree__node__header.html#a26a8fd53308aeec4238054b685eccec4">  200</a></span>&#160;  <a class="code" href="structvpid.html">VPID</a> <a class="code" href="structbtree__node__header.html#a26a8fd53308aeec4238054b685eccec4">next_vpid</a>;       <span class="comment">/* Leaf Page Next Node Pointer */</span></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="structbtree__node__header.html#a8b7d029a8e134743447b8990f329c514">  201</a></span>&#160;  <span class="keywordtype">short</span> <a class="code" href="structbtree__node__header.html#a8b7d029a8e134743447b8990f329c514">node_level</a>;     <span class="comment">/* btree depth; Leaf(= 1), Non_leaf(&gt; 1) */</span></div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structbtree__node__header.html#aa99d469536e6c0af433187d6ef002ed2">  202</a></span>&#160;  <span class="keywordtype">short</span> <a class="code" href="structbtree__node__header.html#aa99d469536e6c0af433187d6ef002ed2">max_key_len</a>;        <span class="comment">/* Maximum key length for the subtree */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;};</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">/* Root header information */</span></div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="btree__load_8h.html#aee3a15838f303ca35224ae3309d22ef2">  206</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbtree__root__header.html">btree_root_header</a> <a class="code" href="structbtree__root__header.html">BTREE_ROOT_HEADER</a>;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="structbtree__root__header.html">  207</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structbtree__root__header.html">btree_root_header</a></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a4fd353ad7bfca16fe96eed28a693cbad">  209</a></span>&#160;  <a class="code" href="structbtree__node__header.html">BTREE_NODE_HEADER</a> <a class="code" href="structbtree__root__header.html#a4fd353ad7bfca16fe96eed28a693cbad">node</a>;</div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a4339a53ed1d0acdfdd850673f53c2bd3">  210</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__root__header.html#a4339a53ed1d0acdfdd850673f53c2bd3">num_oids</a>;         <span class="comment">/* Number of OIDs stored in the Btree */</span></div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a436a9fbfdc94a0ea98cd74ec3f07f29e">  211</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__root__header.html#a436a9fbfdc94a0ea98cd74ec3f07f29e">num_nulls</a>;        <span class="comment">/* Number of NULLs (they aren&#39;t stored) */</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a457b2c2233ac5a9fce336d8210001804">  212</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__root__header.html#a457b2c2233ac5a9fce336d8210001804">num_keys</a>;         <span class="comment">/* Number of unique keys in the Btree */</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a9fe6e90adfa85013e9f206a60b5f5971">  213</a></span>&#160;  <a class="code" href="structdb__identifier.html">OID</a> <a class="code" href="structbtree__root__header.html#a9fe6e90adfa85013e9f206a60b5f5971">topclass_oid</a>;     <span class="comment">/* topclass oid or NULL OID(non unique index) */</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a34928b553065dcfe1de1bbac5bf99ec8">  214</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__root__header.html#a34928b553065dcfe1de1bbac5bf99ec8">unique_pk</a>;        <span class="comment">/* unique or non-unique, is primary key */</span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a531ef0489ca01085de2e725bd50df4c3">  215</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__root__header.html#a531ef0489ca01085de2e725bd50df4c3">reverse_reserved</a>;     <span class="comment">/* reverse or normal */</span><span class="comment">/* not used */</span></div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a6f99eb1bcf19e27627f3d89f6e4cc5ca">  216</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__root__header.html#a6f99eb1bcf19e27627f3d89f6e4cc5ca">rev_level</a>;        <span class="comment">/* Btree revision level */</span></div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#a4b8a609b07e78bb1717f938203853de6">  217</a></span>&#160;  <a class="code" href="structvfid.html">VFID</a> <a class="code" href="structbtree__root__header.html#a4b8a609b07e78bb1717f938203853de6">ovfid</a>;           <span class="comment">/* Overflow file */</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#ac5acc65da8d3fdd45e1fb2d5e6606a4d">  218</a></span>&#160;  <a class="code" href="storage__common_8h.html#a6cdffe739d5149557924b03acf945d1c">MVCCID</a> <a class="code" href="structbtree__root__header.html#ac5acc65da8d3fdd45e1fb2d5e6606a4d">creator_mvccid</a>;    <span class="comment">/* MVCCID of creator transaction. */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">/* Always leave this field last. */</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="structbtree__root__header.html#add6028e236bd3db5fa7e3fb634c0a7a7">  221</a></span>&#160;  <span class="keywordtype">char</span> <a class="code" href="structbtree__root__header.html#add6028e236bd3db5fa7e3fb634c0a7a7">packed_key_domain</a>[1];    <span class="comment">/* The key type for the index */</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;};</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">/* overflow header information */</span></div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="btree__load_8h.html#aa70e2adab60ada0af96efff61a514c81">  225</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbtree__overflow__header.html">btree_overflow_header</a> <a class="code" href="structbtree__overflow__header.html">BTREE_OVERFLOW_HEADER</a>;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="structbtree__overflow__header.html">  226</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structbtree__overflow__header.html">btree_overflow_header</a></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structbtree__overflow__header.html#a1841f941ac92baa87af0694581dff727">  228</a></span>&#160;  <a class="code" href="structvpid.html">VPID</a> <a class="code" href="structbtree__overflow__header.html#a1841f941ac92baa87af0694581dff727">next_vpid</a>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;};</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="btree__load_8h.html#a2d12a95a3cceaca9f74fecc5f31db63b">  231</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbtree__node__info.html">btree_node_info</a> <a class="code" href="structbtree__node__info.html">BTREE_NODE_INFO</a>;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structbtree__node__info.html">  232</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structbtree__node__info.html">btree_node_info</a></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structbtree__node__info.html#a22e7b04b65d2972d66c0cfb141753e44">  234</a></span>&#160;  <span class="keywordtype">short</span> <a class="code" href="structbtree__node__info.html#a22e7b04b65d2972d66c0cfb141753e44">max_key_len</a>;        <span class="comment">/* Maximum key length for the subtree */</span></div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structbtree__node__info.html#a100acaedd500d8416fdd94112800b5cd">  235</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__node__info.html#a100acaedd500d8416fdd94112800b5cd">height</a>;           <span class="comment">/* The height of the subtree */</span></div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="structbtree__node__info.html#ab15a667aeb2a09a1ee97ea95e6bbbec0">  236</a></span>&#160;  INT32 <a class="code" href="structbtree__node__info.html#ab15a667aeb2a09a1ee97ea95e6bbbec0">tot_key_cnt</a>;        <span class="comment">/* Total key count in the subtree */</span></div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structbtree__node__info.html#a77643a9e033d014bf59b9d93d5433ee0">  237</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__node__info.html#a77643a9e033d014bf59b9d93d5433ee0">page_cnt</a>;         <span class="comment">/* Total page count in the subtree */</span></div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="structbtree__node__info.html#a5512d37a66866253f329ccac4fff35c7">  238</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__node__info.html#a5512d37a66866253f329ccac4fff35c7">leafpg_cnt</a>;       <span class="comment">/* Total leaf page count in the subtree */</span></div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="structbtree__node__info.html#a92b47561c431b7402d4cda7b3dc22353">  239</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__node__info.html#a92b47561c431b7402d4cda7b3dc22353">nleafpg_cnt</a>;      <span class="comment">/* Total non_leaf page count */</span></div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="structbtree__node__info.html#ae17e3a1a0d19c640598a8679f4e299c8">  240</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structbtree__node__info.html#ae17e3a1a0d19c640598a8679f4e299c8">key_area_len</a>;     <span class="comment">/* Current max_key area length malloced */</span></div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="structbtree__node__info.html#a548a77487d71db2ca7501bf1ab79e25e">  241</a></span>&#160;  <a class="code" href="structdb__value.html">DB_VALUE</a> <a class="code" href="structbtree__node__info.html#a548a77487d71db2ca7501bf1ab79e25e">max_key</a>;     <span class="comment">/* Largest key in the subtreee */</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;};              <span class="comment">/* contains statistical data for testing purposes */</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> * B+tree load structures</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="btree__load_8h.html#aab045adf7e428f4d8199f44926c3e566">  248</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structbtree__node.html">btree_node</a> <a class="code" href="structbtree__node.html">BTREE_NODE</a>;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structbtree__node.html">  249</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structbtree__node.html">btree_node</a></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structbtree__node.html#af2ceb5aa8163a17b86df9857f33c6ce9">  251</a></span>&#160;  <a class="code" href="structbtree__node.html">BTREE_NODE</a> *<a class="code" href="structbtree__node.html#af2ceb5aa8163a17b86df9857f33c6ce9">next</a>;     <span class="comment">/* Pointer to next node */</span></div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structbtree__node.html#a8724b44cf8d3927957eeef808eed9758">  252</a></span>&#160;  <a class="code" href="structvpid.html">VPID</a> <a class="code" href="structbtree__node.html#a8724b44cf8d3927957eeef808eed9758">pageid</a>;          <span class="comment">/* Identifier of the page */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;};</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">/* Recovery routines */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="btree__load_8h.html#ae733bb9380c232a0be69d546cf04cdd7">btree_rv_nodehdr_dump</a> (FILE * fp, <span class="keywordtype">int</span> length, <span class="keywordtype">void</span> *<a class="code" href="namespacestatdump__to__csv.html#aedcb70fde9c0b07a0732db70deeec616">data</a>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="btree__load_8h.html#a6056cc82d304dfe8b3c43f2bf472d54b">btree_rv_mvcc_save_increments</a> (<a class="code" href="structbtid.html">BTID</a> * <a class="code" href="structbtid.html">btid</a>, <span class="keywordtype">int</span> key_delta, <span class="keywordtype">int</span> oid_delta, <span class="keywordtype">int</span> null_delta, <a class="code" href="structrecdes.html">RECDES</a> * <a class="code" href="structrecdes.html">recdes</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="btree__load_8h.html#a9daf4f78a61bdb2403443a6e8658745e">btree_clear_key_value</a> (<span class="keywordtype">bool</span> * clear_flag, <a class="code" href="structdb__value.html">DB_VALUE</a> * key_value);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#a52baec12ce4ea8df8aa2034717cf6ac9">btree_create_overflow_key_file</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="structbtid__int.html">BTID_INT</a> * <a class="code" href="structbtid.html">btid</a>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#ac20ff717d4cce08b2650340cc4e6873c">btree_init_overflow_header</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr, <a class="code" href="structbtree__overflow__header.html">BTREE_OVERFLOW_HEADER</a> * ovf_header);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#a455eb47f2f45f889ba31f65ee360b04e">btree_init_node_header</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <span class="keyword">const</span> <a class="code" href="structvfid.html">VFID</a> * <a class="code" href="structvfid.html">vfid</a>, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr,</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                   <a class="code" href="structbtree__node__header.html">BTREE_NODE_HEADER</a> * header, <span class="keywordtype">bool</span> redo);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#a1fceb560cbc9c454ec34d49b4930e237">btree_init_root_header</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="structvfid.html">VFID</a> * <a class="code" href="structvfid.html">vfid</a>, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                   <a class="code" href="structbtree__root__header.html">BTREE_ROOT_HEADER</a> * root_header, <a class="code" href="structtp__domain.html">TP_DOMAIN</a> * key_type);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keyword">extern</span> <a class="code" href="structbtree__node__header.html">BTREE_NODE_HEADER</a> *<a class="code" href="btree__load_8h.html#ad4a07a7fc3e4ee0b711833bcdd5dfd88">btree_get_node_header</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keyword">extern</span> <a class="code" href="structbtree__root__header.html">BTREE_ROOT_HEADER</a> *<a class="code" href="btree__load_8h.html#ada7155cec22552d936a993718f8a456f">btree_get_root_header</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keyword">extern</span> <a class="code" href="structbtree__overflow__header.html">BTREE_OVERFLOW_HEADER</a> *<a class="code" href="btree__load_8h.html#a82d449885b221c08d0a82bdc78291821">btree_get_overflow_header</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#ae4fcf8cc5038df7b289720fa9ffcc7fe">btree_node_header_undo_log</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="structvfid.html">VFID</a> * <a class="code" href="structvfid.html">vfid</a>, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#a5b14b331803b51e325b73c73868d7379">btree_node_header_redo_log</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="structvfid.html">VFID</a> * <a class="code" href="structvfid.html">vfid</a>, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#a598e2a5adb786211be99d823772e117d">btree_change_root_header_delta</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="structvfid.html">VFID</a> * <a class="code" href="structvfid.html">vfid</a>, <a class="code" href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a> page_ptr, <span class="keywordtype">int</span> null_delta,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                       <span class="keywordtype">int</span> oid_delta, <span class="keywordtype">int</span> key_delta);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#ab0c0cb421df3b37a9eaddcc55679acb8">btree_get_disk_size_of_key</a> (<a class="code" href="structdb__value.html">DB_VALUE</a> *);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keyword">extern</span> <a class="code" href="structtp__domain.html">TP_DOMAIN</a> *<a class="code" href="btree__load_8h.html#a361d7113292124710ae14f68a7d55b53">btree_generate_prefix_domain</a> (<a class="code" href="structbtid__int.html">BTID_INT</a> * <a class="code" href="structbtid.html">btid</a>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#a873a8121dd7ec1da514c239aacf97e99">btree_glean_root_header_info</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="structbtree__root__header.html">BTREE_ROOT_HEADER</a> * root_header, <a class="code" href="structbtid__int.html">BTID_INT</a> * <a class="code" href="structbtid.html">btid</a>);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keyword">extern</span> <a class="code" href="disk__manager_8h.html#ad0f6aa05a38abf9bbd79623c4ee93a5f">DISK_ISVALID</a> <a class="code" href="btree__load_8h.html#a99cb128e348bd29b4fe77b6290bf9f17">btree_verify_tree</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <span class="keyword">const</span> <a class="code" href="structdb__identifier.html">OID</a> * class_oid_p, <a class="code" href="structbtid__int.html">BTID_INT</a> * <a class="code" href="structbtid.html">btid</a>,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">char</span> *btname);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#af2b56ad2e72abc00bcbb9d98a4cef2d4">btree_get_prefix_separator</a> (<span class="keyword">const</span> <a class="code" href="structdb__value.html">DB_VALUE</a> * key1, <span class="keyword">const</span> <a class="code" href="structdb__value.html">DB_VALUE</a> * key2, <a class="code" href="structdb__value.html">DB_VALUE</a> * prefix_key,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                       <a class="code" href="structtp__domain.html">TP_DOMAIN</a> * key_domain);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="btree__load_8h.html#a06df42e6524214e32f3861ed04596ad9">btree_get_asc_desc</a> (<a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> * thread_p, <a class="code" href="structbtid.html">BTID</a> * <a class="code" href="structbtid.html">btid</a>, <span class="keywordtype">int</span> col_idx, <span class="keywordtype">int</span> *asc_desc);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _BTREE_LOAD_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="storage__common_8h_html_ae4a052db40daa4a44a890bad45d8ecdc"><div class="ttname"><a href="storage__common_8h.html#ae4a052db40daa4a44a890bad45d8ecdc">PAGE_PTR</a></div><div class="ttdeci">char * PAGE_PTR</div><div class="ttdef"><b>Definition:</b> <a href="storage__common_8h_source.html#l00210">storage_common.h:210</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a436a9fbfdc94a0ea98cd74ec3f07f29e"><div class="ttname"><a href="structbtree__root__header.html#a436a9fbfdc94a0ea98cd74ec3f07f29e">btree_root_header::num_nulls</a></div><div class="ttdeci">int num_nulls</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00211">btree_load.h:211</a></div></div>
<div class="ttc" id="structbtree__node__header_html_a8b7d029a8e134743447b8990f329c514"><div class="ttname"><a href="structbtree__node__header.html#a8b7d029a8e134743447b8990f329c514">btree_node_header::node_level</a></div><div class="ttdeci">short node_level</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00201">btree_load.h:201</a></div></div>
<div class="ttc" id="structbtree__node__header_html_aa99d469536e6c0af433187d6ef002ed2"><div class="ttname"><a href="structbtree__node__header.html#aa99d469536e6c0af433187d6ef002ed2">btree_node_header::max_key_len</a></div><div class="ttdeci">short max_key_len</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00202">btree_load.h:202</a></div></div>
<div class="ttc" id="btree__load_8h_html_a9daf4f78a61bdb2403443a6e8658745e"><div class="ttname"><a href="btree__load_8h.html#a9daf4f78a61bdb2403443a6e8658745e">btree_clear_key_value</a></div><div class="ttdeci">bool btree_clear_key_value(bool *clear_flag, DB_VALUE *key_value)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8c_source.html#l01881">btree.c:1881</a></div></div>
<div class="ttc" id="structbtid__int_html"><div class="ttname"><a href="structbtid__int.html">btid_int</a></div><div class="ttdef"><b>Definition:</b> <a href="btree_8h_source.html#l00112">btree.h:112</a></div></div>
<div class="ttc" id="btree__load_8h_html_a598e2a5adb786211be99d823772e117d"><div class="ttname"><a href="btree__load_8h.html#a598e2a5adb786211be99d823772e117d">btree_change_root_header_delta</a></div><div class="ttdeci">int btree_change_root_header_delta(THREAD_ENTRY *thread_p, VFID *vfid, PAGE_PTR page_ptr, int null_delta, int oid_delta, int key_delta)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00389">btree_load.c:389</a></div></div>
<div class="ttc" id="btree_8h_html"><div class="ttname"><a href="btree_8h.html">btree.h</a></div></div>
<div class="ttc" id="structbtree__node__info_html_a548a77487d71db2ca7501bf1ab79e25e"><div class="ttname"><a href="structbtree__node__info.html#a548a77487d71db2ca7501bf1ab79e25e">btree_node_info::max_key</a></div><div class="ttdeci">DB_VALUE max_key</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00241">btree_load.h:241</a></div></div>
<div class="ttc" id="object__representation_8h_html"><div class="ttname"><a href="object__representation_8h.html">object_representation.h</a></div></div>
<div class="ttc" id="structbtree__root__header_html_add6028e236bd3db5fa7e3fb634c0a7a7"><div class="ttname"><a href="structbtree__root__header.html#add6028e236bd3db5fa7e3fb634c0a7a7">btree_root_header::packed_key_domain</a></div><div class="ttdeci">char packed_key_domain[1]</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00221">btree_load.h:221</a></div></div>
<div class="ttc" id="btree__load_8h_html_ad4a07a7fc3e4ee0b711833bcdd5dfd88"><div class="ttname"><a href="btree__load_8h.html#ad4a07a7fc3e4ee0b711833bcdd5dfd88">btree_get_node_header</a></div><div class="ttdeci">BTREE_NODE_HEADER * btree_get_node_header(THREAD_ENTRY *thread_p, PAGE_PTR page_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00203">btree_load.c:203</a></div></div>
<div class="ttc" id="storage__common_8h_html"><div class="ttname"><a href="storage__common_8h.html">storage_common.h</a></div></div>
<div class="ttc" id="btree__load_8h_html_a873a8121dd7ec1da514c239aacf97e99"><div class="ttname"><a href="btree__load_8h.html#a873a8121dd7ec1da514c239aacf97e99">btree_glean_root_header_info</a></div><div class="ttdeci">int btree_glean_root_header_info(THREAD_ENTRY *thread_p, BTREE_ROOT_HEADER *root_header, BTID_INT *btid)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8c_source.html#l05720">btree.c:5720</a></div></div>
<div class="ttc" id="structbtree__node__header_html"><div class="ttname"><a href="structbtree__node__header.html">btree_node_header</a></div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00196">btree_load.h:196</a></div></div>
<div class="ttc" id="structbtree__node__info_html_a5512d37a66866253f329ccac4fff35c7"><div class="ttname"><a href="structbtree__node__info.html#a5512d37a66866253f329ccac4fff35c7">btree_node_info::leafpg_cnt</a></div><div class="ttdeci">int leafpg_cnt</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00238">btree_load.h:238</a></div></div>
<div class="ttc" id="btree__load_8h_html_a361d7113292124710ae14f68a7d55b53"><div class="ttname"><a href="btree__load_8h.html#a361d7113292124710ae14f68a7d55b53">btree_generate_prefix_domain</a></div><div class="ttdeci">TP_DOMAIN * btree_generate_prefix_domain(BTID_INT *btid)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8c_source.html#l05672">btree.c:5672</a></div></div>
<div class="ttc" id="oid_8h_html"><div class="ttname"><a href="oid_8h.html">oid.h</a></div></div>
<div class="ttc" id="btree__load_8h_html_ab77b9a73284daeee9a4c5a377fa2e865"><div class="ttname"><a href="btree__load_8h.html#ab77b9a73284daeee9a4c5a377fa2e865">btree_get_next_overflow_vpid</a></div><div class="ttdeci">int btree_get_next_overflow_vpid(THREAD_ENTRY *thread_p, PAGE_PTR page_ptr, VPID *vpid)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00605">btree_load.c:605</a></div></div>
<div class="ttc" id="structdb__value_html"><div class="ttname"><a href="structdb__value.html">db_value</a></div><div class="ttdef"><b>Definition:</b> <a href="dbtype__def_8h_source.html#l01105">dbtype_def.h:1105</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a457b2c2233ac5a9fce336d8210001804"><div class="ttname"><a href="structbtree__root__header.html#a457b2c2233ac5a9fce336d8210001804">btree_root_header::num_keys</a></div><div class="ttdeci">int num_keys</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00212">btree_load.h:212</a></div></div>
<div class="ttc" id="thread__compat_8hpp_html_a89b282e93055510be0849001ca0561e1"><div class="ttname"><a href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a></div><div class="ttdeci">void THREAD_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="thread__compat_8hpp_source.html#l00044">thread_compat.hpp:44</a></div></div>
<div class="ttc" id="btree__load_8h_html_a06df42e6524214e32f3861ed04596ad9"><div class="ttname"><a href="btree__load_8h.html#a06df42e6524214e32f3861ed04596ad9">btree_get_asc_desc</a></div><div class="ttdeci">int btree_get_asc_desc(THREAD_ENTRY *thread_p, BTID *btid, int col_idx, int *asc_desc)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8c_source.html#l18325">btree.c:18325</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a531ef0489ca01085de2e725bd50df4c3"><div class="ttname"><a href="structbtree__root__header.html#a531ef0489ca01085de2e725bd50df4c3">btree_root_header::reverse_reserved</a></div><div class="ttdeci">int reverse_reserved</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00215">btree_load.h:215</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a4fd353ad7bfca16fe96eed28a693cbad"><div class="ttname"><a href="structbtree__root__header.html#a4fd353ad7bfca16fe96eed28a693cbad">btree_root_header::node</a></div><div class="ttdeci">BTREE_NODE_HEADER node</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00209">btree_load.h:209</a></div></div>
<div class="ttc" id="structvfid_html"><div class="ttname"><a href="structvfid.html">vfid</a></div><div class="ttdef"><b>Definition:</b> <a href="dbtype__def_8h_source.html#l00909">dbtype_def.h:909</a></div></div>
<div class="ttc" id="btree__load_8h_html_a5b14b331803b51e325b73c73868d7379"><div class="ttname"><a href="btree__load_8h.html#a5b14b331803b51e325b73c73868d7379">btree_node_header_redo_log</a></div><div class="ttdeci">int btree_node_header_redo_log(THREAD_ENTRY *thread_p, VFID *vfid, PAGE_PTR page_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00364">btree_load.c:364</a></div></div>
<div class="ttc" id="structbtree__node__header_html_a26a8fd53308aeec4238054b685eccec4"><div class="ttname"><a href="structbtree__node__header.html#a26a8fd53308aeec4238054b685eccec4">btree_node_header::next_vpid</a></div><div class="ttdeci">VPID next_vpid</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00200">btree_load.h:200</a></div></div>
<div class="ttc" id="structrecdes_html"><div class="ttname"><a href="structrecdes.html">recdes</a></div><div class="ttdef"><b>Definition:</b> <a href="storage__common_8h_source.html#l00340">storage_common.h:340</a></div></div>
<div class="ttc" id="btree__load_8h_html_a6056cc82d304dfe8b3c43f2bf472d54b"><div class="ttname"><a href="btree__load_8h.html#a6056cc82d304dfe8b3c43f2bf472d54b">btree_rv_mvcc_save_increments</a></div><div class="ttdeci">void btree_rv_mvcc_save_increments(BTID *btid, int key_delta, int oid_delta, int null_delta, RECDES *recdes)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00573">btree_load.c:573</a></div></div>
<div class="ttc" id="structvpid_html"><div class="ttname"><a href="structvpid.html">vpid</a></div><div class="ttdef"><b>Definition:</b> <a href="dbtype__def_8h_source.html#l00902">dbtype_def.h:902</a></div></div>
<div class="ttc" id="structbtree__node__info_html_a92b47561c431b7402d4cda7b3dc22353"><div class="ttname"><a href="structbtree__node__info.html#a92b47561c431b7402d4cda7b3dc22353">btree_node_info::nleafpg_cnt</a></div><div class="ttdeci">int nleafpg_cnt</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00239">btree_load.h:239</a></div></div>
<div class="ttc" id="structbtree__root__header_html_ac5acc65da8d3fdd45e1fb2d5e6606a4d"><div class="ttname"><a href="structbtree__root__header.html#ac5acc65da8d3fdd45e1fb2d5e6606a4d">btree_root_header::creator_mvccid</a></div><div class="ttdeci">MVCCID creator_mvccid</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00218">btree_load.h:218</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a9fe6e90adfa85013e9f206a60b5f5971"><div class="ttname"><a href="structbtree__root__header.html#a9fe6e90adfa85013e9f206a60b5f5971">btree_root_header::topclass_oid</a></div><div class="ttdeci">OID topclass_oid</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00213">btree_load.h:213</a></div></div>
<div class="ttc" id="storage__common_8h_html_a6cdffe739d5149557924b03acf945d1c"><div class="ttname"><a href="storage__common_8h.html#a6cdffe739d5149557924b03acf945d1c">MVCCID</a></div><div class="ttdeci">UINT64 MVCCID</div><div class="ttdef"><b>Definition:</b> <a href="storage__common_8h_source.html#l00250">storage_common.h:250</a></div></div>
<div class="ttc" id="structtp__domain_html"><div class="ttname"><a href="structtp__domain.html">tp_domain</a></div><div class="ttdef"><b>Definition:</b> <a href="object__domain_8h_source.html#l00074">object_domain.h:74</a></div></div>
<div class="ttc" id="btree__load_8h_html_ae4fcf8cc5038df7b289720fa9ffcc7fe"><div class="ttname"><a href="btree__load_8h.html#ae4fcf8cc5038df7b289720fa9ffcc7fe">btree_node_header_undo_log</a></div><div class="ttdeci">int btree_node_header_undo_log(THREAD_ENTRY *thread_p, VFID *vfid, PAGE_PTR page_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00342">btree_load.c:342</a></div></div>
<div class="ttc" id="namespacestatdump__to__csv_html_aedcb70fde9c0b07a0732db70deeec616"><div class="ttname"><a href="namespacestatdump__to__csv.html#aedcb70fde9c0b07a0732db70deeec616">statdump_to_csv.data</a></div><div class="ttdeci">list data</div><div class="ttdef"><b>Definition:</b> <a href="statdump__to__csv_8py_source.html#l00110">statdump_to_csv.py:110</a></div></div>
<div class="ttc" id="btree__load_8h_html_a1fceb560cbc9c454ec34d49b4930e237"><div class="ttname"><a href="btree__load_8h.html#a1fceb560cbc9c454ec34d49b4930e237">btree_init_root_header</a></div><div class="ttdeci">int btree_init_root_header(THREAD_ENTRY *thread_p, VFID *vfid, PAGE_PTR page_ptr, BTREE_ROOT_HEADER *root_header, TP_DOMAIN *key_type)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00468">btree_load.c:468</a></div></div>
<div class="ttc" id="structbtree__node_html_af2ceb5aa8163a17b86df9857f33c6ce9"><div class="ttname"><a href="structbtree__node.html#af2ceb5aa8163a17b86df9857f33c6ce9">btree_node::next</a></div><div class="ttdeci">BTREE_NODE * next</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00251">btree_load.h:251</a></div></div>
<div class="ttc" id="structbtree__node__split__info_html"><div class="ttname"><a href="structbtree__node__split__info.html">btree_node_split_info</a></div><div class="ttdef"><b>Definition:</b> <a href="storage__common_8h_source.html#l00204">storage_common.h:204</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a4339a53ed1d0acdfdd850673f53c2bd3"><div class="ttname"><a href="structbtree__root__header.html#a4339a53ed1d0acdfdd850673f53c2bd3">btree_root_header::num_oids</a></div><div class="ttdeci">int num_oids</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00210">btree_load.h:210</a></div></div>
<div class="ttc" id="structbtree__node__info_html_ae17e3a1a0d19c640598a8679f4e299c8"><div class="ttname"><a href="structbtree__node__info.html#ae17e3a1a0d19c640598a8679f4e299c8">btree_node_info::key_area_len</a></div><div class="ttdeci">int key_area_len</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00240">btree_load.h:240</a></div></div>
<div class="ttc" id="btree__load_8h_html_a52baec12ce4ea8df8aa2034717cf6ac9"><div class="ttname"><a href="btree__load_8h.html#a52baec12ce4ea8df8aa2034717cf6ac9">btree_create_overflow_key_file</a></div><div class="ttdeci">int btree_create_overflow_key_file(THREAD_ENTRY *thread_p, BTID_INT *btid)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8c_source.html#l01901">btree.c:1901</a></div></div>
<div class="ttc" id="structbtree__node__info_html_a22e7b04b65d2972d66c0cfb141753e44"><div class="ttname"><a href="structbtree__node__info.html#a22e7b04b65d2972d66c0cfb141753e44">btree_node_info::max_key_len</a></div><div class="ttdeci">short max_key_len</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00234">btree_load.h:234</a></div></div>
<div class="ttc" id="structbtree__node__header_html_a3e1d97fe6a9cd263892411c03ffd6bf9"><div class="ttname"><a href="structbtree__node__header.html#a3e1d97fe6a9cd263892411c03ffd6bf9">btree_node_header::prev_vpid</a></div><div class="ttdeci">VPID prev_vpid</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00199">btree_load.h:199</a></div></div>
<div class="ttc" id="btree__load_8h_html_ada7155cec22552d936a993718f8a456f"><div class="ttname"><a href="btree__load_8h.html#ada7155cec22552d936a993718f8a456f">btree_get_root_header</a></div><div class="ttdeci">BTREE_ROOT_HEADER * btree_get_root_header(THREAD_ENTRY *thread_p, PAGE_PTR page_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00237">btree_load.c:237</a></div></div>
<div class="ttc" id="btree__load_8h_html_a455eb47f2f45f889ba31f65ee360b04e"><div class="ttname"><a href="btree__load_8h.html#a455eb47f2f45f889ba31f65ee360b04e">btree_init_node_header</a></div><div class="ttdeci">int btree_init_node_header(THREAD_ENTRY *thread_p, const VFID *vfid, PAGE_PTR page_ptr, BTREE_NODE_HEADER *header, bool redo)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00301">btree_load.c:301</a></div></div>
<div class="ttc" id="structbtree__node__info_html_a100acaedd500d8416fdd94112800b5cd"><div class="ttname"><a href="structbtree__node__info.html#a100acaedd500d8416fdd94112800b5cd">btree_node_info::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00235">btree_load.h:235</a></div></div>
<div class="ttc" id="structbtree__root__header_html"><div class="ttname"><a href="structbtree__root__header.html">btree_root_header</a></div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00207">btree_load.h:207</a></div></div>
<div class="ttc" id="structbtree__node__info_html_ab15a667aeb2a09a1ee97ea95e6bbbec0"><div class="ttname"><a href="structbtree__node__info.html#ab15a667aeb2a09a1ee97ea95e6bbbec0">btree_node_info::tot_key_cnt</a></div><div class="ttdeci">INT32 tot_key_cnt</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00236">btree_load.h:236</a></div></div>
<div class="ttc" id="slotted__page_8h_html"><div class="ttname"><a href="slotted__page_8h.html">slotted_page.h</a></div></div>
<div class="ttc" id="btree__load_8h_html_a7656237a694b29bf8b97192a86fd854e"><div class="ttname"><a href="btree__load_8h.html#a7656237a694b29bf8b97192a86fd854e">btree_node_number_of_keys</a></div><div class="ttdeci">int btree_node_number_of_keys(THREAD_ENTRY *thread_p, PAGE_PTR page_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l03667">btree_load.c:3667</a></div></div>
<div class="ttc" id="structbtree__node__info_html"><div class="ttname"><a href="structbtree__node__info.html">btree_node_info</a></div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00232">btree_load.h:232</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a4b8a609b07e78bb1717f938203853de6"><div class="ttname"><a href="structbtree__root__header.html#a4b8a609b07e78bb1717f938203853de6">btree_root_header::ovfid</a></div><div class="ttdeci">VFID ovfid</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00217">btree_load.h:217</a></div></div>
<div class="ttc" id="structbtree__node_html_a8724b44cf8d3927957eeef808eed9758"><div class="ttname"><a href="structbtree__node.html#a8724b44cf8d3927957eeef808eed9758">btree_node::pageid</a></div><div class="ttdeci">VPID pageid</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00252">btree_load.h:252</a></div></div>
<div class="ttc" id="structbtree__node__info_html_a77643a9e033d014bf59b9d93d5433ee0"><div class="ttname"><a href="structbtree__node__info.html#a77643a9e033d014bf59b9d93d5433ee0">btree_node_info::page_cnt</a></div><div class="ttdeci">int page_cnt</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00237">btree_load.h:237</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a6f99eb1bcf19e27627f3d89f6e4cc5ca"><div class="ttname"><a href="structbtree__root__header.html#a6f99eb1bcf19e27627f3d89f6e4cc5ca">btree_root_header::rev_level</a></div><div class="ttdeci">int rev_level</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00216">btree_load.h:216</a></div></div>
<div class="ttc" id="structbtree__overflow__header_html_a1841f941ac92baa87af0694581dff727"><div class="ttname"><a href="structbtree__overflow__header.html#a1841f941ac92baa87af0694581dff727">btree_overflow_header::next_vpid</a></div><div class="ttdeci">VPID next_vpid</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00228">btree_load.h:228</a></div></div>
<div class="ttc" id="error__manager_8h_html"><div class="ttname"><a href="error__manager_8h.html">error_manager.h</a></div></div>
<div class="ttc" id="structbtree__root__header_html_a34928b553065dcfe1de1bbac5bf99ec8"><div class="ttname"><a href="structbtree__root__header.html#a34928b553065dcfe1de1bbac5bf99ec8">btree_root_header::unique_pk</a></div><div class="ttdeci">int unique_pk</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00214">btree_load.h:214</a></div></div>
<div class="ttc" id="structbtree__node_html"><div class="ttname"><a href="structbtree__node.html">btree_node</a></div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00249">btree_load.h:249</a></div></div>
<div class="ttc" id="btree__load_8h_html_a99cb128e348bd29b4fe77b6290bf9f17"><div class="ttname"><a href="btree__load_8h.html#a99cb128e348bd29b4fe77b6290bf9f17">btree_verify_tree</a></div><div class="ttdeci">DISK_ISVALID btree_verify_tree(THREAD_ENTRY *thread_p, const OID *class_oid_p, BTID_INT *btid, const char *btname)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8c_source.html#l07471">btree.c:7471</a></div></div>
<div class="ttc" id="btree__load_8h_html_ae733bb9380c232a0be69d546cf04cdd7"><div class="ttname"><a href="btree__load_8h.html#ae733bb9380c232a0be69d546cf04cdd7">btree_rv_nodehdr_dump</a></div><div class="ttdeci">void btree_rv_nodehdr_dump(FILE *fp, int length, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l03649">btree_load.c:3649</a></div></div>
<div class="ttc" id="system__parameter_8h_html"><div class="ttname"><a href="system__parameter_8h.html">system_parameter.h</a></div></div>
<div class="ttc" id="btree__load_8h_html_ac20ff717d4cce08b2650340cc4e6873c"><div class="ttname"><a href="btree__load_8h.html#ac20ff717d4cce08b2650340cc4e6873c">btree_init_overflow_header</a></div><div class="ttdeci">int btree_init_overflow_header(THREAD_ENTRY *thread_p, PAGE_PTR page_ptr, BTREE_OVERFLOW_HEADER *ovf_header)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00507">btree_load.c:507</a></div></div>
<div class="ttc" id="btree__load_8h_html_a82d449885b221c08d0a82bdc78291821"><div class="ttname"><a href="btree__load_8h.html#a82d449885b221c08d0a82bdc78291821">btree_get_overflow_header</a></div><div class="ttdeci">BTREE_OVERFLOW_HEADER * btree_get_overflow_header(THREAD_ENTRY *thread_p, PAGE_PTR page_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8c_source.html#l00272">btree_load.c:272</a></div></div>
<div class="ttc" id="object__domain_8h_html"><div class="ttname"><a href="object__domain_8h.html">object_domain.h</a></div></div>
<div class="ttc" id="structbtree__overflow__header_html"><div class="ttname"><a href="structbtree__overflow__header.html">btree_overflow_header</a></div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00226">btree_load.h:226</a></div></div>
<div class="ttc" id="structbtree__node__header_html_ae273599203fba6e3f26cf9fc15b3bb63"><div class="ttname"><a href="structbtree__node__header.html#ae273599203fba6e3f26cf9fc15b3bb63">btree_node_header::split_info</a></div><div class="ttdeci">BTREE_NODE_SPLIT_INFO split_info</div><div class="ttdef"><b>Definition:</b> <a href="btree__load_8h_source.html#l00198">btree_load.h:198</a></div></div>
<div class="ttc" id="structdb__identifier_html"><div class="ttname"><a href="structdb__identifier.html">db_identifier</a></div><div class="ttdef"><b>Definition:</b> <a href="dbtype__def_8h_source.html#l00985">dbtype_def.h:985</a></div></div>
<div class="ttc" id="structbtid_html"><div class="ttname"><a href="structbtid.html">btid</a></div><div class="ttdef"><b>Definition:</b> <a href="storage__common_8h_source.html#l00323">storage_common.h:323</a></div></div>
<div class="ttc" id="btree__load_8h_html_ab0c0cb421df3b37a9eaddcc55679acb8"><div class="ttname"><a href="btree__load_8h.html#ab0c0cb421df3b37a9eaddcc55679acb8">btree_get_disk_size_of_key</a></div><div class="ttdeci">int btree_get_disk_size_of_key(DB_VALUE *)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8c_source.html#l03969">btree.c:3969</a></div></div>
<div class="ttc" id="disk__manager_8h_html_ad0f6aa05a38abf9bbd79623c4ee93a5f"><div class="ttname"><a href="disk__manager_8h.html#ad0f6aa05a38abf9bbd79623c4ee93a5f">DISK_ISVALID</a></div><div class="ttdeci">DISK_ISVALID</div><div class="ttdef"><b>Definition:</b> <a href="disk__manager_8h_source.html#l00053">disk_manager.h:53</a></div></div>
<div class="ttc" id="btree__load_8h_html_af2b56ad2e72abc00bcbb9d98a4cef2d4"><div class="ttname"><a href="btree__load_8h.html#af2b56ad2e72abc00bcbb9d98a4cef2d4">btree_get_prefix_separator</a></div><div class="ttdeci">int btree_get_prefix_separator(const DB_VALUE *key1, const DB_VALUE *key2, DB_VALUE *prefix_key, TP_DOMAIN *key_domain)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8c_source.html#l11661">btree.c:11661</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_452baf35e1d7639c9f2a5ece4ec85855.html">storage</a></li><li class="navelem"><a class="el" href="btree__load_8h.html">btree_load.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
