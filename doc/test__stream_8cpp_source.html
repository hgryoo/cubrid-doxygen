<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CUBRID Engine: unit_tests/stream/test_stream.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CUBRID Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('test__stream_8cpp_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">test_stream.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="test__stream_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2008 Search Solution Corporation. All rights reserved by Search Solution.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *   (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *  GNU General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *  You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *  along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="test__stream_8hpp.html">test_stream.hpp</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="object__representation_8h.html">object_representation.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="multi__thread__stream_8hpp.html">multi_thread_stream.hpp</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thread__compat_8hpp.html">thread_compat.hpp</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thread__manager_8hpp.html">thread_manager.hpp</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thread__task_8hpp.html">thread_task.hpp</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thread__entry_8hpp.html">thread_entry.hpp</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dbtype_8h.html">dbtype.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="namespacetest__stream.html">   30</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetest__stream.html">test_stream</a></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#ab3ec4c4379dff31017bc67be21475c70">   33</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacetest__stream.html#ab3ec4c4379dff31017bc67be21475c70">write_action</a> (<span class="keyword">const</span> <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> pos, <span class="keywordtype">char</span> *<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>, <span class="keyword">const</span> <span class="keywordtype">size_t</span> byte_count)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">char</span> *start_ptr = <a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (byte_count &gt; <a class="code" href="object__representation_8h.html#ad45eb120934965f82b6b3ba84672832d">OR_INT_SIZE</a>);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="object__representation_8h.html#a22b7af061518aa52aaaad64993f13a59">OR_PUT_INT</a> (<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>, byte_count);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a> += <a class="code" href="object__representation_8h.html#ad45eb120934965f82b6b3ba84672832d">OR_INT_SIZE</a>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code" href="mprec_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>) byte_count - <a class="code" href="object__representation_8h.html#ad45eb120934965f82b6b3ba84672832d">OR_INT_SIZE</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    *<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a> = byte_count % 255;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>++;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) (<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a> - start_ptr);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  }</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__read__partial__context.html#aafe878fe63dc2087b24595751a8ec6e6">   52</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__read__partial__context.html#aafe878fe63dc2087b24595751a8ec6e6">stream_read_partial_context::read_action</a> (<span class="keywordtype">char</span> *<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>, <span class="keyword">const</span> <span class="keywordtype">size_t</span> byte_count, <span class="keywordtype">size_t</span> &amp;processed_bytes)</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">size_t</span> to_read;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">size_t</span> byte_count_rem = byte_count;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">while</span> (byte_count_rem &gt; 0)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (m_remaining_to_read &lt;= 0)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">if</span> (byte_count_rem &lt; <a class="code" href="object__representation_8h.html#ad45eb120934965f82b6b3ba84672832d">OR_INT_SIZE</a>)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;          {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="comment">/* not_enough to decode size prefix */</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;          }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        m_remaining_to_read = <a class="code" href="object__representation_8h.html#a0bb837e337b052d9ce57a1b4cdade5b2">OR_GET_INT</a> (<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a> += <a class="code" href="object__representation_8h.html#ad45eb120934965f82b6b3ba84672832d">OR_INT_SIZE</a>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        expected_val = m_remaining_to_read % 255;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        m_remaining_to_read -= <a class="code" href="object__representation_8h.html#ad45eb120934965f82b6b3ba84672832d">OR_INT_SIZE</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        byte_count_rem -= <a class="code" href="object__representation_8h.html#ad45eb120934965f82b6b3ba84672832d">OR_INT_SIZE</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    to_read = <a class="code" href="dict__private_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a> (byte_count_rem, m_remaining_to_read);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code" href="mprec_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>) to_read; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a> != expected_val)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;          {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a51778caf175b7d6bfe9e8977d9a0032e">ER_FAILED</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;          }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>++;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    m_remaining_to_read -= <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span> (to_read &gt; byte_count_rem)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a51778caf175b7d6bfe9e8977d9a0032e">ER_FAILED</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    byte_count_rem -= to_read;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    processed_bytes = byte_count - byte_count_rem;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#afdc6e11847ca54f2d5999b15d0cfd640">  100</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacetest__stream.html#afdc6e11847ca54f2d5999b15d0cfd640">generate_str</a> (<span class="keywordtype">char</span> *str, <span class="keywordtype">size_t</span> <a class="code" href="expat_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> chars[] = <span class="stringliteral">&quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ+_)(*&amp;^%$#@!&quot;</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="expat_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    str[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = chars[std::rand () % <span class="keyword">sizeof</span> (chars)];</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    str[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">/* po1 */</span></div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po1.html#a795194af082c4eec48dc147d05e4b736">  113</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1po1.html#a795194af082c4eec48dc147d05e4b736">po1::pack</a> (<a class="code" href="classcubpacking_1_1packer.html">cubpacking::packer</a> *serializator)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#aeb77c90f1629765c478c21e3cc9565d4">pack_int</a> (<a class="code" href="classtest__stream_1_1po1.html#aac2b51651770bb65ab831b0ebb7b4acd">po1::ID</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#aeb77c90f1629765c478c21e3cc9565d4">pack_int</a> (<a class="code" href="classtest__stream_1_1po1.html#a99111b0079449c1097caf1e8450d2f52">i1</a>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a8cafe1936bd25403adcf83965222e4a4">pack_short</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a69cd3b58cd9783422f5b19cc56a18bad">sh1</a>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a5df6063d7c82a66c5a7e854cbd61fe5a">pack_bigint</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5d66883a59e5ec7720bcd60b88064874">b1</a>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a7378f87fe13600a4d96685a2ed8c0579">pack_int_array</a> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>, <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>[0]));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#aeeda740906cff03874bbd459c8c78d5d">pack_int_vector</a> (<a class="code" href="classtest__stream_1_1po1.html#aa607b9746fde408f99e57bfe261099c0">int_v</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[0]); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a7e7432ec03a2d7be495717f4aa79a160">pack_db_value</a> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a714263a6caaa3ed5b1177d54f7409c6a">pack_small_string</a> (<a class="code" href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">small_str</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a29e9ec86a54c48af6a1a5eba4f82dc09">pack_large_string</a> (<a class="code" href="classtest__stream_1_1po1.html#adc8d98b08c3d4e6f20886654b737c1b1">large_str</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a469d7874b90587f8aa7a77b41d9ba724">pack_string</a> (<a class="code" href="classtest__stream_1_1po1.html#ac7c3c9f6240fd669ea20d0956d51f0bd">str1</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#ae342390cb05ad46a97cc4a2963c2286d">pack_c_string</a> (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>, <a class="code" href="intl__support_8c.html#ab543901c3564a54b2450303d63374f55">strlen</a> (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>));</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po1.html#a67a23a503ff6cee7e7201e414e68ef92">  142</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1po1.html#a67a23a503ff6cee7e7201e414e68ef92">po1::unpack</a> (<a class="code" href="classcubpacking_1_1packer.html">cubpacking::packer</a> *serializator)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">int</span> cnt;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#ae03f70b49ff867c84476fcf898f3ead9">unpack_int</a> (&amp;cnt);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (cnt == <a class="code" href="classtest__stream_1_1po1.html#aac2b51651770bb65ab831b0ebb7b4acd">po1::ID</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#ae03f70b49ff867c84476fcf898f3ead9">unpack_int</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a99111b0079449c1097caf1e8450d2f52">i1</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#afc6103b4b0ae7b5ce2a29a66e79890cb">unpack_short</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a69cd3b58cd9783422f5b19cc56a18bad">sh1</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a0fc5e69af5bf176b85bcafc1aba10c98">unpack_bigint</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5d66883a59e5ec7720bcd60b88064874">b1</a>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a8aa41e19c1b659b387554b8050d3fb0c">unpack_int_array</a> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>, cnt);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (cnt == <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>[0]));</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#ae0212af189ec7b519e9fccc72713f05d">unpack_int_vector</a> (<a class="code" href="classtest__stream_1_1po1.html#aa607b9746fde408f99e57bfe261099c0">int_v</a>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[0]); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a065529ee0e8b3b6f93e401929f17145b">unpack_db_value</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#aa2972357c7994a4acac9078ae7c69167">unpack_small_string</a> (<a class="code" href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">small_str</a>, <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">small_str</a>));</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a2813874f29fde17b327317c2939bb649">unpack_large_string</a> (<a class="code" href="classtest__stream_1_1po1.html#adc8d98b08c3d4e6f20886654b737c1b1">large_str</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a44a221835ed3f7e948bbcfb393fa62a3">unpack_string</a> (<a class="code" href="classtest__stream_1_1po1.html#ac7c3c9f6240fd669ea20d0956d51f0bd">str1</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#ac70307bec79d8062fdc485446ac110a4">unpack_c_string</a> (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>, <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>));</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtest__stream_1_1po1.html#a41bdde9177f64a5745c422d5529cdfc2">po1::is_equal</a> (<span class="keyword">const</span> <a class="code" href="classcubpacking_1_1packable__object.html">cubpacking::packable_object</a> *other)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtest__stream_1_1po1.html">po1</a> *other_po1 = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtest__stream_1_1po1.html">po1</a> *<span class="keyword">&gt;</span> (other);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (other_po1 == <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1po1.html#a99111b0079449c1097caf1e8450d2f52">i1</a> != other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#a99111b0079449c1097caf1e8450d2f52">i1</a></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    || <a class="code" href="classtest__stream_1_1po1.html#a69cd3b58cd9783422f5b19cc56a18bad">sh1</a> != other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#a69cd3b58cd9783422f5b19cc56a18bad">sh1</a></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    || <a class="code" href="classtest__stream_1_1po1.html#a5d66883a59e5ec7720bcd60b88064874">b1</a> != other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#a5d66883a59e5ec7720bcd60b88064874">b1</a>)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>[0]); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[0]); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="db__macro_8c.html#a6852b79b5b24afe4e7639ecb8dc14eaa">db_value_compare</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], &amp;other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) != <a class="code" href="dbtype__def_8h.html#a4b4d6d666ecd8761ce947c6abf952ed9a375312c350357e4c656186e566972fa6">DB_EQ</a>)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (strcmp (<a class="code" href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">small_str</a>, other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">small_str</a>) != 0)</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1po1.html#adc8d98b08c3d4e6f20886654b737c1b1">large_str</a>.compare (other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#adc8d98b08c3d4e6f20886654b737c1b1">large_str</a>) != 0)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1po1.html#ac7c3c9f6240fd669ea20d0956d51f0bd">str1</a>.compare (other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#ac7c3c9f6240fd669ea20d0956d51f0bd">str1</a>) != 0)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (strcmp (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>, other_po1-&gt;<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>) != 0)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po1.html#adf1410e37c714f41b92cb2ea8a28216c">  229</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classtest__stream_1_1po1.html#adf1410e37c714f41b92cb2ea8a28216c">po1::get_packed_size</a> (<a class="code" href="classcubpacking_1_1packer.html">cubpacking::packer</a> *serializator)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordtype">size_t</span> entry_size = 0;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">/* ID :*/</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a8e618eaf7ace5b90484cf0c6aa1f356f">get_packed_int_size</a> (entry_size);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a8e618eaf7ace5b90484cf0c6aa1f356f">get_packed_int_size</a> (entry_size);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a11452e4abbc640c88e65eaa2ab71b937">get_packed_short_size</a> (entry_size);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a77e09bdc41d79982f1d548b84d325c80">get_packed_bigint_size</a> (entry_size);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a5cba6d5d08ea231d10174f17f495f230">get_packed_int_vector_size</a> (entry_size, <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>[0]));</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a5cba6d5d08ea231d10174f17f495f230">get_packed_int_vector_size</a> (entry_size, (<span class="keywordtype">int</span>) <a class="code" href="classtest__stream_1_1po1.html#aa607b9746fde408f99e57bfe261099c0">int_v</a>.size ());</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[0]); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a2b700b1f506f6287b8493a6369660da4">get_packed_db_value_size</a> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], entry_size);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#aa9a5d469105addebfa428e0cc0faa312">get_packed_small_string_size</a> (<a class="code" href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">small_str</a>, entry_size);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a7ffcb9a721d072c9218cedbd3fb3a1b4">get_packed_large_string_size</a> (<a class="code" href="classtest__stream_1_1po1.html#adc8d98b08c3d4e6f20886654b737c1b1">large_str</a>, entry_size);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a44501f30c4cbe6bed90d4986015cc7c8">get_packed_string_size</a> (<a class="code" href="classtest__stream_1_1po1.html#ac7c3c9f6240fd669ea20d0956d51f0bd">str1</a>, entry_size);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#af0c9a66d98d9e0587477331de4b1ac36">get_packed_c_string_size</a> (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>, <a class="code" href="intl__support_8c.html#ab543901c3564a54b2450303d63374f55">strlen</a> (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>), entry_size);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> entry_size;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po1.html#acb9408a695dfdedd206759d157fc6611">  252</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtest__stream_1_1po1.html#acb9408a695dfdedd206759d157fc6611">po1::generate_obj</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordtype">char</span> *tmp_str;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">size_t</span> str_size;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classtest__stream_1_1po1.html#a99111b0079449c1097caf1e8450d2f52">i1</a> = std::rand ();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="classtest__stream_1_1po1.html#a69cd3b58cd9783422f5b19cc56a18bad">sh1</a> = std::rand ();</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="classtest__stream_1_1po1.html#a5d66883a59e5ec7720bcd60b88064874">b1</a> = std::rand ();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>[0]); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">int_a</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = std::rand ();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[0]); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">switch</span> (std::rand () % 5)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="dbtype__function_8h.html#a517705ea2963537e8a1f01d45faa1064">db_make_int</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], std::rand());</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="dbtype__function_8h.html#a5a76d62a5467a1c6c6589e81ce1f8d54">db_make_short</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], std::rand());</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="dbtype__function_8h.html#ab664deb9d1dcfea0795267828ec424bb">db_make_bigint</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], std::rand());</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="dbtype__function_8h.html#a7d46a227511f7e6be3aa2c0f5eda65c1">db_make_double</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], (<span class="keywordtype">double</span>) std::rand() / (std::rand() + 1.0f));</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        str_size = std::rand () % 1000 + 1;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        tmp_str = (<span class="keywordtype">char</span> *) <a class="code" href="memory__alloc_8h.html#a8b903d0a51cce71105b6a706159717e4">db_private_alloc</a> (<a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, str_size + 1);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="dbtype__function_8h.html#a6edd49bcaa0e9845f0218bb182c25051">db_make_char</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], (<span class="keywordtype">int</span>) str_size, tmp_str, (<span class="keywordtype">int</span>) str_size, <a class="code" href="intl__support_8h.html#a62642b38e69c029c39114bb176d2f4b7a2fa979b217b32e45bb1b873aaf7f62a8">INTL_CODESET_ISO88591</a>, <a class="code" href="language__support_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2dafe0d391bdef46a0606356e1818d580a5">LANG_COLL_ISO_BINARY</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structdb__value.html#a5441b09191eaeaa8fb7e9c510e7b51fe">need_clear</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="namespacetest__stream.html#afdc6e11847ca54f2d5999b15d0cfd640">generate_str</a> (<a class="code" href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">small_str</a>, <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">small_str</a>) - 1);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    str_size = std::rand () % 10000 + 1;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    tmp_str = <span class="keyword">new</span> <span class="keywordtype">char</span>[str_size + 1];</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="namespacetest__stream.html#afdc6e11847ca54f2d5999b15d0cfd640">generate_str</a> (tmp_str, str_size);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classtest__stream_1_1po1.html#adc8d98b08c3d4e6f20886654b737c1b1">large_str</a> = std::string (tmp_str);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">delete</span> []tmp_str;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    str_size = std::rand () % 10000 + 1;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    tmp_str = <span class="keyword">new</span> <span class="keywordtype">char</span>[str_size + 1];</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="namespacetest__stream.html#afdc6e11847ca54f2d5999b15d0cfd640">generate_str</a> (tmp_str, str_size);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="classtest__stream_1_1po1.html#ac7c3c9f6240fd669ea20d0956d51f0bd">str1</a> = std::string (tmp_str);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keyword">delete</span> []tmp_str;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="namespacetest__stream.html#afdc6e11847ca54f2d5999b15d0cfd640">generate_str</a> (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>, <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">str2</a>) - 1);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po1.html#a1447e7bade615e74b3f233a9eeeb0901">  306</a></span>&#160;  <a class="code" href="classtest__stream_1_1po1.html#a1447e7bade615e74b3f233a9eeeb0901">po1::~po1</a>()</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>) / <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[0]); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].need_clear)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="object__primitive_8c.html#a7c633c9f87690aa563bdeaf44f340307">pr_clear_value</a> (&amp;<a class="code" href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">values</a>[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">/* po2 */</span></div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po2.html#a9ed6e395bb9c8468a7307525e7a08476">  317</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1po2.html#a9ed6e395bb9c8468a7307525e7a08476">po2::pack</a> (<a class="code" href="classcubpacking_1_1packer.html">cubpacking::packer</a> *serializator)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#aeb77c90f1629765c478c21e3cc9565d4">pack_int</a> (<a class="code" href="classtest__stream_1_1po2.html#a1b031e106a384cff14b5faa9c89c3c75">po2::ID</a>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a29e9ec86a54c48af6a1a5eba4f82dc09">pack_large_string</a> (<a class="code" href="classtest__stream_1_1po2.html#a29837a61bd58b901e845529a33ef5de1">large_str</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po2.html#ac334bdce52fc874c030f178668c95a29">  330</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1po2.html#ac334bdce52fc874c030f178668c95a29">po2::unpack</a> (<a class="code" href="classcubpacking_1_1packer.html">cubpacking::packer</a> *serializator)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordtype">int</span> id;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#ae03f70b49ff867c84476fcf898f3ead9">unpack_int</a> (&amp;<span class="keywordtype">id</span>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keywordtype">id</span> == <a class="code" href="classtest__stream_1_1po2.html#a1b031e106a384cff14b5faa9c89c3c75">po2::ID</a>);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    res = serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a2813874f29fde17b327317c2939bb649">unpack_large_string</a> (<a class="code" href="classtest__stream_1_1po2.html#a29837a61bd58b901e845529a33ef5de1">large_str</a>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 0);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po2.html#aa794b5f9c29236a076be2a8fe8bbe9d3">  344</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtest__stream_1_1po2.html#aa794b5f9c29236a076be2a8fe8bbe9d3">po2::is_equal</a> (<span class="keyword">const</span> <a class="code" href="classcubpacking_1_1packable__object.html">cubpacking::packable_object</a> *other)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtest__stream_1_1po2.html">po2</a> *other_po2 = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtest__stream_1_1po2.html">po2</a> *<span class="keyword">&gt;</span> (other);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (other_po2 == <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1po2.html#a29837a61bd58b901e845529a33ef5de1">large_str</a>.compare (other_po2-&gt;<a class="code" href="classtest__stream_1_1po2.html#a29837a61bd58b901e845529a33ef5de1">large_str</a>) != 0)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po2.html#a2056eff1b04c368102878b7dcb00ac95">  362</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classtest__stream_1_1po2.html#a2056eff1b04c368102878b7dcb00ac95">po2::get_packed_size</a> (<a class="code" href="classcubpacking_1_1packer.html">cubpacking::packer</a> *serializator)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">size_t</span> entry_size = 0;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">/* ID :*/</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a8e618eaf7ace5b90484cf0c6aa1f356f">get_packed_int_size</a> (entry_size);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    entry_size += serializator-&gt;<a class="code" href="classcubpacking_1_1packer.html#a7ffcb9a721d072c9218cedbd3fb3a1b4">get_packed_large_string_size</a> (<a class="code" href="classtest__stream_1_1po2.html#a29837a61bd58b901e845529a33ef5de1">large_str</a>, entry_size);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> entry_size;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="classtest__stream_1_1po2.html#a283d14e39e5528196914bea1ac42f6cf">  374</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtest__stream_1_1po2.html#a283d14e39e5528196914bea1ac42f6cf">po2::generate_obj</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordtype">char</span> *tmp_str;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">size_t</span> str_size;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    str_size = std::rand () % 10000 + 1;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    tmp_str = <span class="keyword">new</span> <span class="keywordtype">char</span>[str_size + 1];</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="namespacetest__stream.html#afdc6e11847ca54f2d5999b15d0cfd640">generate_str</a> (tmp_str, str_size);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classtest__stream_1_1po2.html#a29837a61bd58b901e845529a33ef5de1">large_str</a> = std::string (tmp_str);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keyword">delete</span>[] tmp_str;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1po1.html#aac2b51651770bb65ab831b0ebb7b4acd">po1::ID</a> = 4;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1po2.html#a1b031e106a384cff14b5faa9c89c3c75">po2::ID</a> = 10;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">/* test reading and writing to stream as chunk of bytes with integer header to handle size of chunk */</span></div><div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#a6eb9edd19f26d39d0407577a42a8185d">  390</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacetest__stream.html#a6eb9edd19f26d39d0407577a42a8185d">test_stream1</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> desired_amount = 1 * 1024;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> writted_amount;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> rem_amount;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordtype">int</span> max_data_size = 500;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="classcubstream_1_1multi__thread__stream.html">cubstream::multi_thread_stream</a> *my_stream = <span class="keyword">new</span> <a class="code" href="classcubstream_1_1multi__thread__stream.html">cubstream::multi_thread_stream</a> (10 * 1024 * 1024, 100);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="classcubstream_1_1stream.html#a771bd74b2f99348ef09de4dc85b28b94">cubstream::stream::write_func_t</a> writer_func;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    writer_func = std::bind (&amp;<a class="code" href="namespacetest__stream.html#ab3ec4c4379dff31017bc67be21475c70">write_action</a>, std::placeholders::_1, std::placeholders::_2, std::placeholders::_3);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classtest__stream_1_1stream__read__partial__context.html">stream_read_partial_context</a> reader_context;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Testing stream write/read with bytes&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">/* writing in stream */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">for</span> (rem_amount = desired_amount, <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; rem_amount &gt; 5; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordtype">int</span> amount = 5 + std::rand () % max_data_size;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    rem_amount -= amount;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    res = my_stream-&gt;<a class="code" href="classcubstream_1_1multi__thread__stream.html#a4107f72c35a454a26a6e7148cc81552f">write</a> (amount, writer_func);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> (res &lt;= 0)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    writted_amount = desired_amount - rem_amount;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">/* read from stream */</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> start_read_pos = my_stream-&gt;<a class="code" href="classcubstream_1_1stream.html#af524e51585a5d41aacabfc29f23af374">get_curr_read_position</a> ();</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> curr_read_pos = start_read_pos;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">for</span> (rem_amount = writted_amount; rem_amount &gt; 5; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">int</span> amount = 5 + std::rand () % max_data_size;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordtype">size_t</span> processed_amount;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    amount = <a class="code" href="dict__private_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a> ((<span class="keywordtype">int</span>) (writted_amount - curr_read_pos), amount);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    res = my_stream-&gt;<a class="code" href="classcubstream_1_1multi__thread__stream.html#ab664cefc85ba099e858493488fafe402">read_partial</a> (curr_read_pos, amount, processed_amount, reader_context.<a class="code" href="classtest__stream_1_1stream__read__partial__context.html#ad17111a116c144a40cdb8d5b37e1ca99">m_reader_partial_func</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    curr_read_pos += processed_amount;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    rem_amount -= processed_amount;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">  448</a></span>&#160;  <a class="code" href="classcubthread_1_1manager.html">cubthread::manager</a> *<a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#ac27ba96cf6d59720940da6b1f061fbc1">  450</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacetest__stream.html#ac27ba96cf6d59720940da6b1f061fbc1">init_common_cubrid_modules</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a> *thread_p = <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (initialized)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="language__support_8c.html#aacb13171682312ef3352667c25db37e7">lang_init</a> ();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="object__domain_8c.html#a40722355e901476149a0ede4153c286e">tp_init</a> ();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="error__manager_8c.html#aefbe440effda7544df457fb8ed2eef51">er_init</a> (<span class="stringliteral">&quot;unit_test&quot;</span>, 1);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="language__support_8c.html#a52036720cef62b079b1fa9c2e102e115">lang_set_charset_lang</a> (<span class="stringliteral">&quot;en_US.iso88591&quot;</span>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">//cub_th_m.set_max_thread_count (100);</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">//cubthread::set_manager (&amp;cub_th_m);</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="namespacecubthread.html#a0fe46d939ce37d236bc84ee0bd3319c9">cubthread::initialize</a> (thread_p);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a> = <a class="code" href="namespacecubthread.html#a0b0f629740d5037917c1773030847800">cubthread::get_manager</a> ();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#adfeeac9dab6c7853972d7d036c295688">set_max_thread_count</a> (100);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#a3de3b62b0b2666b57bd1851fecbed985">alloc_entries</a> ();</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#a7753d822d62a23032901b1e3a0cc8180">init_entries</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    initialized = <span class="keyword">true</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="classtest__stream_1_1test__stream__entry.html#a75ea8d1207a7ce741ea6afb5e3935fe3">  480</a></span>&#160;  <a class="code" href="classcubbase_1_1factory.html">cubbase::factory&lt;int, cubpacking::packable_object&gt;</a> *<a class="code" href="classtest__stream_1_1test__stream__entry.html#a75ea8d1207a7ce741ea6afb5e3935fe3">test_stream_entry::get_builder</a> ()</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keyword">static</span> <a class="code" href="classcubbase_1_1factory.html">cubbase::factory&lt;int, cubpacking::packable_object&gt;</a> test_factory_po;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> created = <span class="keyword">false</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (created == <span class="keyword">false</span>)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    test_factory_po.<a class="code" href="classcubbase_1_1factory.html#a9f844442906d6ca7dccc3440449cb120">register_creator</a>&lt;<a class="code" href="classtest__stream_1_1po1.html">po1</a>&gt; (<a class="code" href="classtest__stream_1_1po1.html#aac2b51651770bb65ab831b0ebb7b4acd">po1::ID</a>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    test_factory_po.<a class="code" href="classcubbase_1_1factory.html#a9f844442906d6ca7dccc3440449cb120">register_creator</a>&lt;<a class="code" href="classtest__stream_1_1po2.html">po2</a>&gt; (<a class="code" href="classtest__stream_1_1po2.html#a1b031e106a384cff14b5faa9c89c3c75">po2::ID</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    created = <span class="keyword">true</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">return</span> &amp;test_factory_po;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__mover.html">  495</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classtest__stream_1_1stream__mover.html">stream_mover</a></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> BUF_SIZE = 1024;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="keywordtype">char</span> m_buffer[<a class="code" href="db__vdb_8c.html#a6821bafc3c88dfb2e433a095df9940c6">BUF_SIZE</a>];</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordtype">int</span> read_action (<span class="keywordtype">char</span> *<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>, <span class="keyword">const</span> <span class="keywordtype">size_t</span> byte_count)</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    memcpy (m_buffer, <a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>, byte_count);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) byte_count;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      };</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordtype">int</span> write_action (<span class="keyword">const</span> <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> pos, <span class="keywordtype">char</span> *<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>, <span class="keyword">const</span> <span class="keywordtype">size_t</span> byte_count)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    memcpy (<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>, m_buffer, byte_count);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) byte_count;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      };</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__mover.html#a005d62cf82a9870f2520b4481b44f6e7">  515</a></span>&#160;      <a class="code" href="classtest__stream_1_1stream__mover.html#a005d62cf82a9870f2520b4481b44f6e7">stream_mover</a> ()</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="classtest__stream_1_1stream__mover.html#a604358e0713d910fa8067e9364af86f7">m_reader_func</a> = std::bind (&amp;stream_mover::read_action, std::ref (*<span class="keyword">this</span>),</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                   std::placeholders::_1, std::placeholders::_2);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="classtest__stream_1_1stream__mover.html#a93697fe0f99894b428ba61eabe125875">m_writer_func</a> = std::bind (&amp;stream_mover::write_action, std::ref (*<span class="keyword">this</span>),</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                   std::placeholders::_1, std::placeholders::_2, std::placeholders::_3);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      };</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__mover.html#a005c4e525cf5f3d63512a48be4952476">  524</a></span>&#160;      <span class="keywordtype">size_t</span> <a class="code" href="classtest__stream_1_1stream__mover.html#a005c4e525cf5f3d63512a48be4952476">get_buf_size</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">sizeof</span> (m_buffer);</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__mover.html#a604358e0713d910fa8067e9364af86f7">  527</a></span>&#160;      };</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <a class="code" href="classcubstream_1_1stream.html#a69bb6b643d8afaf9e169871495bb6ebf">cubstream::stream::read_func_t</a> <a class="code" href="classtest__stream_1_1stream__mover.html#a604358e0713d910fa8067e9364af86f7">m_reader_func</a>;</div><div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__mover.html#a93697fe0f99894b428ba61eabe125875">  530</a></span>&#160;      <a class="code" href="classcubstream_1_1stream.html#a771bd74b2f99348ef09de4dc85b28b94">cubstream::stream::write_func_t</a> <a class="code" href="classtest__stream_1_1stream__mover.html#a93697fe0f99894b428ba61eabe125875">m_writer_func</a>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  };</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#a4f6ca8ab38c9e6e995048e25bb44a049">  533</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacetest__stream.html#a4f6ca8ab38c9e6e995048e25bb44a049">test_stream2</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor">#define TEST_OBJ_CNT 1000</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="namespacetest__stream.html#ac27ba96cf6d59720940da6b1f061fbc1">init_common_cubrid_modules</a> ();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">/* create objects */</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Testing packing/unpacking of objects using same stream&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="classcubpacking_1_1packable__object.html">cubpacking::packable_object</a> *test_objects[<a class="code" href="test__stream_8cpp.html#a1c4cdc8badca31f2db5c17b5fe36532c">TEST_OBJ_CNT</a>];</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="test__stream_8cpp.html#a1c4cdc8badca31f2db5c17b5fe36532c">TEST_OBJ_CNT</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (std::rand() %2 == 0)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="classtest__stream_1_1po1.html">po1</a> *obj = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1po1.html">po1</a>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        obj-&gt;<a class="code" href="classtest__stream_1_1po1.html#acb9408a695dfdedd206759d157fc6611">generate_obj</a> ();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        test_objects[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = obj;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="classtest__stream_1_1po2.html">po2</a> *obj = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1po2.html">po2</a>;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        obj-&gt;<a class="code" href="classtest__stream_1_1po2.html#a283d14e39e5528196914bea1ac42f6cf">generate_obj</a> ();</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        test_objects[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = obj;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">/* create a stream for packing and add pack objects to stream */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="classcubstream_1_1multi__thread__stream.html">cubstream::multi_thread_stream</a> test_stream_for_pack (10 * 1024 * 1024, 10);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> se (&amp;test_stream_for_pack);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="test__stream_8cpp.html#a1c4cdc8badca31f2db5c17b5fe36532c">TEST_OBJ_CNT</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    se.<a class="code" href="classcubstream_1_1entry.html#af90efd65406c300c6a9cabbc2a3a3897">add_packable_entry</a> (test_objects[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    res = se.<a class="code" href="classcubstream_1_1entry.html#ac9ef724440b87206a4847ad8d7124593">pack</a> ();</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">/* use same stream for unpack (same buffers) and create another stream::entry */</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> se2 (&amp;test_stream_for_pack);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    res = se2.<a class="code" href="classcubstream_1_1entry.html#a42fe4876ff99b6feac1d75e3db82f490">prepare</a> ();</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    res = se2.<a class="code" href="classcubstream_1_1entry.html#a710a4a9291a5dd006f7350c1405da366">unpack</a> ();</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (se.<a class="code" href="classtest__stream_1_1test__stream__entry.html#ad3571779004ae9a7d27e9927d730e329">is_equal</a> (&amp;se2) == <span class="keyword">false</span>)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    res = -1;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">/* create a new stream and copy buffers */</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Testing packing/unpacking of objects using different streams. Copying stream contents.&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="classcubstream_1_1multi__thread__stream.html">cubstream::multi_thread_stream</a> test_stream_for_unpack (10 * 1024 * 1024, 10);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> last_pos = test_stream_for_pack.<a class="code" href="classcubstream_1_1stream.html#a8db1db6eaf36eac62c89bdebdf3a72fe">get_last_committed_pos</a> ();</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> curr_pos;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="classtest__stream_1_1stream__mover.html">stream_mover</a> test_stream_mover;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordtype">size_t</span> copy_chunk_size = test_stream_mover.<a class="code" href="classtest__stream_1_1stream__mover.html#a005c4e525cf5f3d63512a48be4952476">get_buf_size</a> ();</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordtype">int</span> read_bytes, written_bytes;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">for</span> (curr_pos = 0; curr_pos &lt; last_pos;)</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    copy_chunk_size = <a class="code" href="dict__private_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a> (copy_chunk_size, last_pos - curr_pos);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    read_bytes = test_stream_for_pack.<a class="code" href="classcubstream_1_1multi__thread__stream.html#acfea7a0af0c9274f4310d70a9c58486e">read</a> (curr_pos, copy_chunk_size, test_stream_mover.<a class="code" href="classtest__stream_1_1stream__mover.html#a604358e0713d910fa8067e9364af86f7">m_reader_func</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (read_bytes &lt;= 0)</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    written_bytes = test_stream_for_unpack.<a class="code" href="classcubstream_1_1multi__thread__stream.html#a4107f72c35a454a26a6e7148cc81552f">write</a> (read_bytes, test_stream_mover.<a class="code" href="classtest__stream_1_1stream__mover.html#a93697fe0f99894b428ba61eabe125875">m_writer_func</a>);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (read_bytes == written_bytes);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (written_bytes &lt;= 0)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        res = -1;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    curr_pos += read_bytes;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> se3 (&amp;test_stream_for_unpack);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    res = se3.<a class="code" href="classcubstream_1_1entry.html#a42fe4876ff99b6feac1d75e3db82f490">prepare</a> ();</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    res = se3.<a class="code" href="classcubstream_1_1entry.html#a710a4a9291a5dd006f7350c1405da366">unpack</a> ();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span> (se.<a class="code" href="classtest__stream_1_1test__stream__entry.html#ad3571779004ae9a7d27e9927d730e329">is_equal</a> (&amp;se3) == <span class="keyword">false</span>)</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    res = -1;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="preprocessor">#undef TEST_OBJ_CNT</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#a47242a5254adc1dc6f290ca78499467f">  657</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacetest__stream.html#a47242a5254adc1dc6f290ca78499467f">test_stream3</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="preprocessor">#define TEST_ENTRIES_CNT 300</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#define TEST_OBJS_IN_ENTRIES_CNT 200</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor">#define TEST_DELAY_UNPACK_IN_ENTRIES 10</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="namespacetest__stream.html#ac27ba96cf6d59720940da6b1f061fbc1">init_common_cubrid_modules</a> ();</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">/* create objects */</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Testing packing/unpacking of cubstream::entries with sub-objects using same stream&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="comment">/* create a stream for packing and add pack objects to stream */</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="classcubstream_1_1multi__thread__stream.html">cubstream::multi_thread_stream</a> test_stream_for_pack (10 * 1024 * 1024, 10);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    test_stream_for_pack.<a class="code" href="classcubstream_1_1multi__thread__stream.html#a3121194f8265cbd37ef131ca2a7f1110">set_buffer_reserve_margin</a> (100 * 1024);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Generating stream entries and objects...&quot;</span>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> *se_array[<a class="code" href="test__stream_8cpp.html#a67892fd45e65408e5d5207d1250f5c8a">TEST_ENTRIES_CNT</a>];</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="test__stream_8cpp.html#a67892fd45e65408e5d5207d1250f5c8a">TEST_ENTRIES_CNT</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> (&amp;test_stream_for_pack);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> = 0; <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> &lt; <a class="code" href="test__stream_8cpp.html#a5dc6df5f18eeecafe8d5db9a6a3df9f5">TEST_OBJS_IN_ENTRIES_CNT</a>; <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>++)</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">if</span> (std::rand() %2 == 0)</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <a class="code" href="classtest__stream_1_1po1.html">po1</a> *obj = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1po1.html">po1</a>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        obj-&gt;<a class="code" href="classtest__stream_1_1po1.html#acb9408a695dfdedd206759d157fc6611">generate_obj</a> ();</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classcubstream_1_1entry.html#af90efd65406c300c6a9cabbc2a3a3897">add_packable_entry</a> (obj);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="classtest__stream_1_1po2.html">po2</a> *obj = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1po2.html">po2</a>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        obj-&gt;<a class="code" href="classtest__stream_1_1po2.html#a283d14e39e5528196914bea1ac42f6cf">generate_obj</a> ();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classcubstream_1_1entry.html#af90efd65406c300c6a9cabbc2a3a3897">add_packable_entry</a> (obj);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;          }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Done&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Start test..&quot;</span>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">/* use same stream for unpack (same buffers) and create another stream::entry */</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> *se_array_unpacked[<a class="code" href="test__stream_8cpp.html#a67892fd45e65408e5d5207d1250f5c8a">TEST_ENTRIES_CNT</a>];</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="test__stream_8cpp.html#a67892fd45e65408e5d5207d1250f5c8a">TEST_ENTRIES_CNT</a> + <a class="code" href="test__stream_8cpp.html#ac1d613d12956c98357a9b66496aae0dd">TEST_DELAY_UNPACK_IN_ENTRIES</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="test__stream_8cpp.html#a67892fd45e65408e5d5207d1250f5c8a">TEST_ENTRIES_CNT</a>)</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">/* pack original entry */</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        res = se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classcubstream_1_1entry.html#ac9ef724440b87206a4847ad8d7124593">pack</a> ();</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= <a class="code" href="test__stream_8cpp.html#ac1d613d12956c98357a9b66496aae0dd">TEST_DELAY_UNPACK_IN_ENTRIES</a>)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        se_array_unpacked[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - <a class="code" href="test__stream_8cpp.html#ac1d613d12956c98357a9b66496aae0dd">TEST_DELAY_UNPACK_IN_ENTRIES</a>] = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> (&amp;test_stream_for_pack);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="comment">/* unpack into a copy */</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        res = se_array_unpacked[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - <a class="code" href="test__stream_8cpp.html#ac1d613d12956c98357a9b66496aae0dd">TEST_DELAY_UNPACK_IN_ENTRIES</a>]-&gt;<a class="code" href="classcubstream_1_1entry.html#a42fe4876ff99b6feac1d75e3db82f490">prepare</a> ();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        res = se_array_unpacked[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - <a class="code" href="test__stream_8cpp.html#ac1d613d12956c98357a9b66496aae0dd">TEST_DELAY_UNPACK_IN_ENTRIES</a>]-&gt;<a class="code" href="classcubstream_1_1entry.html#a710a4a9291a5dd006f7350c1405da366">unpack</a> ();</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">if</span> (res != 0)</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;          {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;          }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">if</span> (se_array_unpacked[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - <a class="code" href="test__stream_8cpp.html#ac1d613d12956c98357a9b66496aae0dd">TEST_DELAY_UNPACK_IN_ENTRIES</a>]-&gt;is_equal (se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - <a class="code" href="test__stream_8cpp.html#ac1d613d12956c98357a9b66496aae0dd">TEST_DELAY_UNPACK_IN_ENTRIES</a>]) == <span class="keyword">false</span>)</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        res = -1;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<span class="keyword">false</span>);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Done&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="preprocessor">#undef TEST_ENTRIES_CNT</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">#undef TEST_OBJS_IN_ENTRIES_CNT</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">#undef TEST_DELAY_UNPACK_IN_ENTRIES</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__pack__task.html#ae4f284f70fc16076e52d7d82568760d1">  751</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtest__stream_1_1stream__pack__task.html#ae4f284f70fc16076e52d7d82568760d1">stream_pack_task::execute</a> (<a class="code" href="classcubthread_1_1entry.html">context_type</a> &amp;context)</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordtype">int</span> tran_id = <a class="code" href="classtest__stream_1_1stream__pack__task.html#a6c7c8e5ccad28902c8d2bc6713af82b1">m_tran_id</a>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordtype">int</span> entries_per_tran = <a class="code" href="classtest__stream_1_1stream__context__manager.html#ac7d8afb6a0b8150ee2ddf36b9118e499">stream_context_manager::g_cnt_packing_entries_per_thread</a>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> **se_array = <a class="code" href="classtest__stream_1_1stream__context__manager.html#ad75e64d49d5ad8448f4e472053822d60">stream_context_manager::g_entries</a>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">stream_context_manager::g_running_packers</a>.set (<a class="code" href="classtest__stream_1_1stream__pack__task.html#a6c7c8e5ccad28902c8d2bc6713af82b1">m_tran_id</a>);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Start packing thread &quot;</span> &lt;&lt; tran_id &lt;&lt; std::endl;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">do</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = entries_per_tran * tran_id; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; entries_per_tran * (tran_id + 1); <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#a3eb30e7b7f23554c529e1a22febe885d">stream_context_manager::g_stop_packer</a>)</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;          {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;          }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#a0b0b48aca7075935ffc887388eb8fa6e">stream_context_manager::g_pause_packer</a>)</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;          {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        std::this_thread::sleep_for (std::chrono::microseconds (100));</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <span class="keywordtype">float</span> stream_fill_factor = <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;<a class="code" href="classcubstream_1_1multi__thread__stream.html#abcc39d2c420d054e19eeb78d241aaa8e">stream_fill_factor</a> ();</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <span class="keywordflow">if</span> (stream_fill_factor &lt; 0.45f &amp;&amp; <a class="code" href="classtest__stream_1_1stream__context__manager.html#a0b0b48aca7075935ffc887388eb8fa6e">stream_context_manager::g_pause_packer</a>)</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;              {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;     stream_pack_task : need resume producing;  stream_fill_factor:  &quot;</span> &lt;&lt; stream_fill_factor &lt;&lt; std::endl;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <a class="code" href="classtest__stream_1_1stream__context__manager.html#a0b0b48aca7075935ffc887388eb8fa6e">stream_context_manager::g_pause_packer</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;              }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#a3eb30e7b7f23554c529e1a22febe885d">stream_context_manager::g_stop_packer</a>)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;          {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;          }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;          }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="classtest__stream_1_1stream__context__manager.html#adf77867eacd23493c67a7c3fb3139a30">stream_context_manager::g_packed_entries_cnt</a>++;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classcubstream_1_1entry.html#ac9ef724440b87206a4847ad8d7124593">pack</a> ();</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#a3eb30e7b7f23554c529e1a22febe885d">stream_context_manager::g_stop_packer</a> == <span class="keyword">false</span>);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Stopped packing thread:&quot;</span> &lt;&lt; tran_id &lt;&lt; <span class="stringliteral">&quot; at count: &quot;</span> &lt;&lt; <a class="code" href="classtest__stream_1_1stream__context__manager.html#adf77867eacd23493c67a7c3fb3139a30">stream_context_manager::g_packed_entries_cnt</a></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;          &lt;&lt; std::endl;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">stream_context_manager::g_running_packers</a>.reset (<a class="code" href="classtest__stream_1_1stream__pack__task.html#a6c7c8e5ccad28902c8d2bc6713af82b1">m_tran_id</a>);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#aba4ec1b43471449fa9b6b4c0a8855934">stream_context_manager::g_pause_unpacker</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__unpack__task.html#a4061b7b0e2f3c1ed35d6e263d2d203e9">  800</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtest__stream_1_1stream__unpack__task.html#a4061b7b0e2f3c1ed35d6e263d2d203e9">stream_unpack_task::execute</a> (<a class="code" href="classcubthread_1_1entry.html">context_type</a> &amp;context)</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> **se_unpack_array = <a class="code" href="classtest__stream_1_1stream__context__manager.html#a711a5b920a267cbbe0b26732f077ecfa">stream_context_manager::g_unpacked_entries</a>;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> **se_array = <a class="code" href="classtest__stream_1_1stream__context__manager.html#ad75e64d49d5ad8448f4e472053822d60">stream_context_manager::g_entries</a>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> = <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a13d71473e0bff8e8ea4e8f7562540d0a">stream_context_manager::g_running_readers</a>.set (<a class="code" href="classtest__stream_1_1stream__unpack__task.html#a116c9cb0304b15eb0270f71cf52bd2b7">m_reader_id</a>);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Start unpacking thread &quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; ; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> *se = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">do</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> = se-&gt;<a class="code" href="classcubstream_1_1entry.html#a42fe4876ff99b6feac1d75e3db82f490">prepare</a> ();</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> == <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>)</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="comment">/* unpacking may not have enough data, and could be signalled to block */</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#aba4ec1b43471449fa9b6b4c0a8855934">stream_context_manager::g_pause_unpacker</a> == <span class="keyword">true</span>)</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;          {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        std::this_thread::sleep_for (std::chrono::microseconds (10));</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;          }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">stream_context_manager::g_running_packers</a>.any () == <span class="keyword">false</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        &amp;&amp; <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;get_last_committed_pos ()</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        == <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;get_curr_read_position ())</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;          {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="comment">/* test has finished, we read all data */</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> = <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;          }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> != <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (<a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> == <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">stream_context_manager::g_running_packers</a>.any () == <span class="keyword">false</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        &amp;&amp; <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;get_last_committed_pos ()</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        == <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;get_curr_read_position ())</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="comment">/* test has finished, we read all data */</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keyword">delete</span> se;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">do</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> = se-&gt;<a class="code" href="classcubstream_1_1entry.html#a710a4a9291a5dd006f7350c1405da366">unpack</a> ();</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> == <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>)</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;          {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;          }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="comment">/* unpacking may not have enough data, and could be signalled to block*/</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#aba4ec1b43471449fa9b6b4c0a8855934">stream_context_manager::g_pause_unpacker</a> == <span class="keyword">true</span>)</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        std::this_thread::sleep_for (std::chrono::microseconds (10));</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;          }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> != <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="comment">/*/</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">    if (se_unpack_array[se-&gt;get_mvcc_id()] != NULL)</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">      {</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">        delete se_unpack_array[se-&gt;get_mvcc_id()];</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">      }</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">    se_unpack_array[se-&gt;get_mvcc_id()] = se;</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    res = se-&gt;<a class="code" href="classtest__stream_1_1test__stream__entry.html#ad3571779004ae9a7d27e9927d730e329">is_equal</a> (se_array[se-&gt;<a class="code" href="classtest__stream_1_1test__stream__entry.html#a168b3584066c38fbf76df87cb50465fe">get_mvcc_id</a>()]);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a> (res == 1);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keyword">delete</span> se;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#ad9836bca64ca8759ac450586b7522437">stream_context_manager::g_unpacked_entries_cnt</a>++;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <a class="code" href="classtest__stream_1_1stream__context__manager.html#af2bc5e95c139049e13b508611f37845b">stream_context_manager::update_stream_drop_position</a> ();</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      End of unpacking thread &quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a13d71473e0bff8e8ea4e8f7562540d0a">stream_context_manager::g_running_readers</a>.reset (<a class="code" href="classtest__stream_1_1stream__unpack__task.html#a116c9cb0304b15eb0270f71cf52bd2b7">m_reader_id</a>);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__read__task.html#ab0a945eb37c250fcccb42544e1fb26ce">  888</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtest__stream_1_1stream__read__task.html#ab0a945eb37c250fcccb42544e1fb26ce">stream_read_task::execute</a> (<a class="code" href="classcubthread_1_1entry.html">context_type</a> &amp;context)</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> my_curr_pos = 0;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> last_committed_pos = 0;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordtype">size_t</span> to_read;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordtype">size_t</span> actual_read_bytes;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> = <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="classtest__stream_1_1stream__read__partial__copy__context.html">stream_read_partial_copy_context</a> my_read_handler;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordtype">int</span> my_read_cnt = 0;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a13d71473e0bff8e8ea4e8f7562540d0a">stream_context_manager::g_running_readers</a>.set (<a class="code" href="classtest__stream_1_1stream__read__task.html#abdf1797b088dd8d5b084bc2e57631c83">m_reader_id</a>);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Start reading (as byte stream) thread &quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">stream_context_manager::g_running_packers</a>.any () &amp;&amp; <a class="code" href="classtest__stream_1_1stream__context__manager.html#a3eb30e7b7f23554c529e1a22febe885d">stream_context_manager::g_stop_packer</a> == <span class="keyword">false</span>)</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    to_read = 1 + std::rand () % 1024;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">do</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      {</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        last_committed_pos = <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;<a class="code" href="classcubstream_1_1stream.html#a8db1db6eaf36eac62c89bdebdf3a72fe">get_last_committed_pos</a> ();</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">if</span> (my_curr_pos + to_read &lt;= last_committed_pos)</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;          {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;          }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        std::this_thread::sleep_for (std::chrono::microseconds (10));</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">while</span> (my_curr_pos + to_read &gt; last_committed_pos);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> = <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;<a class="code" href="classcubstream_1_1multi__thread__stream.html#ab664cefc85ba099e858493488fafe402">read_partial</a> (my_curr_pos, to_read, actual_read_bytes,</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;          my_read_handler.<a class="code" href="classtest__stream_1_1stream__read__partial__copy__context.html#ab553e7a7d557f1ed87ea9b161e0fdf99">m_read_action_func</a>);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> != <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>)</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      }</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    my_curr_pos += actual_read_bytes;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    my_read_cnt++;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#ade339cdd1878d0f84f6d2c429081418a">stream_context_manager::g_read_positions</a>[<a class="code" href="classtest__stream_1_1stream__read__task.html#abdf1797b088dd8d5b084bc2e57631c83">m_reader_id</a>] = my_curr_pos;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <a class="code" href="classtest__stream_1_1stream__context__manager.html#af2bc5e95c139049e13b508611f37845b">stream_context_manager::update_stream_drop_position</a> ();</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="comment">//std::this_thread::sleep_for (std::chrono::microseconds (10));</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      End of reading (as byte stream) thread at position:&quot;</span> &lt;&lt;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;          my_curr_pos &lt;&lt; <span class="stringliteral">&quot; count:&quot;</span> &lt;&lt; my_read_cnt &lt;&lt; <span class="stringliteral">&quot;err:&quot;</span> &lt;&lt; <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> &lt;&lt; std::endl;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a13d71473e0bff8e8ea4e8f7562540d0a">stream_context_manager::g_running_readers</a>.reset (<a class="code" href="classtest__stream_1_1stream__read__task.html#abdf1797b088dd8d5b084bc2e57631c83">m_reader_id</a>);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> **<a class="code" href="classtest__stream_1_1stream__context__manager.html#ad75e64d49d5ad8448f4e472053822d60">stream_context_manager::g_entries</a> = <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> **<a class="code" href="classtest__stream_1_1stream__context__manager.html#a711a5b920a267cbbe0b26732f077ecfa">stream_context_manager::g_unpacked_entries</a> = <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#ac7d8afb6a0b8150ee2ddf36b9118e499">stream_context_manager::g_cnt_packing_entries_per_thread</a> = 0;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#afdbc50de3e89cd4fb49cc57ce5ab8f62">stream_context_manager::g_cnt_unpacking_entries_per_thread</a> = 0;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <a class="code" href="classcubstream_1_1multi__thread__stream.html">cubstream::multi_thread_stream</a> *<a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a> = <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#a4acacac90cc8342c2c9ac4a6c804ae94">stream_context_manager::g_pack_threads</a> = 0;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#a360a332d16493c5bd05b410b279efc44">stream_context_manager::g_unpack_threads</a> = 0;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">stream_context_manager::g_read_byte_threads</a> = 0;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#adf77867eacd23493c67a7c3fb3139a30">stream_context_manager::g_packed_entries_cnt</a> = 0;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#ad9836bca64ca8759ac450586b7522437">stream_context_manager::g_unpacked_entries_cnt</a> = 0;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#a0b0b48aca7075935ffc887388eb8fa6e">stream_context_manager::g_pause_packer</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#aba4ec1b43471449fa9b6b4c0a8855934">stream_context_manager::g_pause_unpacker</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#a3eb30e7b7f23554c529e1a22febe885d">stream_context_manager::g_stop_packer</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  std::bitset&lt;1024&gt; <a class="code" href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">stream_context_manager::g_running_packers</a>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  std::bitset&lt;1024&gt; <a class="code" href="classtest__stream_1_1stream__context__manager.html#a13d71473e0bff8e8ea4e8f7562540d0a">stream_context_manager::g_running_readers</a>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> <a class="code" href="classtest__stream_1_1stream__context__manager.html#ade339cdd1878d0f84f6d2c429081418a">stream_context_manager::g_read_positions</a>[200];</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__context__manager.html#af2bc5e95c139049e13b508611f37845b">  960</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classtest__stream_1_1stream__context__manager.html#af2bc5e95c139049e13b508611f37845b">stream_context_manager::update_stream_drop_position</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> drop_pos = <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;<a class="code" href="classcubstream_1_1stream.html#af524e51585a5d41aacabfc29f23af374">get_curr_read_position</a> ();</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> = 0; <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> &lt; <a class="code" href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">stream_context_manager::g_read_byte_threads</a>; <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>++)</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    {</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;          drop_pos = <a class="code" href="dict__private_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a> (drop_pos, <a class="code" href="classtest__stream_1_1stream__context__manager.html#ade339cdd1878d0f84f6d2c429081418a">stream_context_manager::g_read_positions</a>[<a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>]);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    }</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;<a class="code" href="classcubstream_1_1stream.html#a943c929539a3b16ca58739af0e8c50be">set_last_dropable_pos</a> (drop_pos);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__producer__throttling.html">  972</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classtest__stream_1_1stream__producer__throttling.html">stream_producer_throttling</a></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__producer__throttling.html#a67df2d91066449b36004161d88b9921c">  975</a></span>&#160;      <a class="code" href="classtest__stream_1_1stream__producer__throttling.html#a67df2d91066449b36004161d88b9921c">stream_producer_throttling</a> ()</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    m_prev_throttle_pos = 0;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="classtest__stream_1_1stream__producer__throttling.html#a4084075e1755b91a7f9156fac56933e7">m_notify_func</a> = std::bind (&amp;<a class="code" href="classtest__stream_1_1stream__producer__throttling.html#af4297e7051211a299d36e7900627dd77">stream_producer_throttling::notify</a>, std::ref (*<span class="keyword">this</span>),</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                   std::placeholders::_1,</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                   std::placeholders::_2);</div><div class="line"><a name="l00981"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__producer__throttling.html#a4084075e1755b91a7f9156fac56933e7">  981</a></span>&#160;      };</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <a class="code" href="classcubstream_1_1stream.html#a22ec8d0eef848b45d6561e63e1cce192">cubstream::stream::notify_func_t</a> <a class="code" href="classtest__stream_1_1stream__producer__throttling.html#a4084075e1755b91a7f9156fac56933e7">m_notify_func</a>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__producer__throttling.html#af4297e7051211a299d36e7900627dd77">  985</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__producer__throttling.html#af4297e7051211a299d36e7900627dd77">notify</a> (<span class="keyword">const</span> <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> pos, <span class="keyword">const</span> <span class="keywordtype">size_t</span> byte_count)</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span> (pos &gt;= m_prev_throttle_pos)</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        m_prev_throttle_pos = pos;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;      Stream producer throttled position:  &quot;</span> &lt;&lt; pos &lt;&lt; <span class="stringliteral">&quot; bytes: &quot;</span> &lt;&lt; byte_count &lt;&lt; std::endl;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <a class="code" href="classtest__stream_1_1stream__context__manager.html#a0b0b48aca7075935ffc887388eb8fa6e">stream_context_manager::g_pause_packer</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <a class="code" href="classtest__stream_1_1stream__context__manager.html#af2bc5e95c139049e13b508611f37845b">stream_context_manager::update_stream_drop_position</a> ();</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      };</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> m_prev_throttle_pos;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  };</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__ready__notifier.html"> 1002</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classtest__stream_1_1stream__ready__notifier.html">stream_ready_notifier</a></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l01005"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__ready__notifier.html#a7de7aa58f39b316b5939e4483e5dfde8"> 1005</a></span>&#160;      <a class="code" href="classtest__stream_1_1stream__ready__notifier.html#a7de7aa58f39b316b5939e4483e5dfde8">stream_ready_notifier</a> ()</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    m_ready_pos = 0;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="classtest__stream_1_1stream__ready__notifier.html#a438f57a1db1b1b7c992d45681c888b16">m_notify_func</a> = std::bind (&amp;<a class="code" href="classtest__stream_1_1stream__ready__notifier.html#a38a6234c7be54c7cb3b855d810cbb096">stream_ready_notifier::notify</a>, std::ref (*<span class="keyword">this</span>),</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                   std::placeholders::_1,</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                   std::placeholders::_2);</div><div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__ready__notifier.html#a438f57a1db1b1b7c992d45681c888b16"> 1011</a></span>&#160;      };</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <a class="code" href="classcubstream_1_1stream.html#a22ec8d0eef848b45d6561e63e1cce192">cubstream::stream::notify_func_t</a> <a class="code" href="classtest__stream_1_1stream__ready__notifier.html#a438f57a1db1b1b7c992d45681c888b16">m_notify_func</a>;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="classtest__stream_1_1stream__ready__notifier.html#a38a6234c7be54c7cb3b855d810cbb096"> 1015</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="classtest__stream_1_1stream__ready__notifier.html#a38a6234c7be54c7cb3b855d810cbb096">notify</a> (<span class="keyword">const</span> <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> pos, <span class="keyword">const</span> <span class="keywordtype">size_t</span> byte_count)</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">if</span> (pos &gt; m_ready_pos)</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        m_ready_pos = pos;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;      Stream data ready of reading position:  &quot;</span> &lt;&lt; pos &lt;&lt; <span class="stringliteral">&quot; bytes: &quot;</span> &lt;&lt; byte_count &lt;&lt; std::endl;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <a class="code" href="classtest__stream_1_1stream__context__manager.html#aba4ec1b43471449fa9b6b4c0a8855934">stream_context_manager::g_pause_unpacker</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      }</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      };</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> m_ready_pos;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  };</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keyword">class </span>stream_fetcher</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      stream_fetcher ()</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    m_prev_fetch_pos = 0;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    m_fetch_func = std::bind (&amp;stream_fetcher::fetch_action, std::ref (*<span class="keyword">this</span>),</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                  std::placeholders::_1,</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                  std::placeholders::_2,</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                  std::placeholders::_3,</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                  std::placeholders::_4);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      };</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      cubstream::stream::fetch_func_t m_fetch_func;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keywordtype">int</span> fetch_action (<span class="keyword">const</span> <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> pos, <span class="keywordtype">char</span> *<a class="code" href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a>, <span class="keyword">const</span> <span class="keywordtype">size_t</span> byte_count,</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            <span class="keywordtype">size_t</span> &amp;processed_bytes)</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> = <a class="code" href="error__code_8h.html#a51778caf175b7d6bfe9e8977d9a0032e">ER_FAILED</a>;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">/* for this test, hack processed_bytes as byte_count to avoid stream code assert */</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    processed_bytes = byte_count;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span> (pos &gt;= m_prev_fetch_pos)</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        m_prev_fetch_pos = pos;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;stream_fill_factor () &lt; 1.0f)</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;          {</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;      Stream fetch notifier : need resume producing; waiting at position:  &quot;</span> &lt;&lt; pos &lt;&lt; <span class="stringliteral">&quot; bytes: &quot;</span> &lt;&lt;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;              byte_count &lt;&lt; std::endl;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <a class="code" href="classtest__stream_1_1stream__context__manager.html#a0b0b48aca7075935ffc887388eb8fa6e">stream_context_manager::g_pause_packer</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;          }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> pos = <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;<a class="code" href="classcubstream_1_1stream.html#af524e51585a5d41aacabfc29f23af374">get_curr_read_position</a> ();</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> = 0; <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> &lt; <a class="code" href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">stream_context_manager::g_read_byte_threads</a>; <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>++)</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;          {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        pos = <a class="code" href="dict__private_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a> (pos, <a class="code" href="classtest__stream_1_1stream__context__manager.html#ade339cdd1878d0f84f6d2c429081418a">stream_context_manager::g_read_positions</a>[<a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>]);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;          }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;<a class="code" href="classcubstream_1_1stream.html#a943c929539a3b16ca58739af0e8c50be">set_last_dropable_pos</a> (pos);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">if</span> (pos + byte_count &gt;= <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;get_last_committed_pos ())</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;          {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a> = <a class="code" href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;          }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a>;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      }</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      };</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <a class="code" href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a> m_prev_fetch_pos;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      std::mutex <a class="code" href="namespacebrokerstatus__to__csv.html#a7ca0fa27ba263bef35f35ba796ac8973">m</a>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      std::condition_variable <a class="code" href="mprec_8c.html#a66b97d6dee15f33d7b6731ccf48092cf">c</a>;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  };</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div><div class="line"><a name="l01088"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#ab4577bef1f2a87777ae90e029bf100f5"> 1088</a></span>&#160;  <a class="code" href="classtest__stream_1_1stream__context__manager.html">stream_context_manager</a> <a class="code" href="namespacetest__stream.html#ab4577bef1f2a87777ae90e029bf100f5">ctx_m1</a>;</div><div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#a94ec0aebd014d47a26fb60d55ec22259"> 1089</a></span>&#160;  <a class="code" href="classtest__stream_1_1stream__context__manager.html">stream_context_manager</a> <a class="code" href="namespacetest__stream.html#a94ec0aebd014d47a26fb60d55ec22259">ctx_m2</a>;</div><div class="line"><a name="l01090"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#aea10388359e06f7e1fa65bb352f1bd01"> 1090</a></span>&#160;  <a class="code" href="classtest__stream_1_1stream__context__manager.html">stream_context_manager</a> <a class="code" href="namespacetest__stream.html#aea10388359e06f7e1fa65bb352f1bd01">ctx_m3</a>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"><a class="line" href="namespacetest__stream.html#a76c986b410ade63198c05fc6feab5b47"> 1092</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacetest__stream.html#a76c986b410ade63198c05fc6feab5b47">test_stream_mt</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  {</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="preprocessor">#define TEST_PACK_THREADS 5</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="preprocessor">#define TEST_UNPACK_THREADS 1</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="preprocessor">#define TEST_READ_BYTE_THREADS 5</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="preprocessor">#define TEST_ENTRIES (TEST_PACK_THREADS * 20)</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="preprocessor">#define TEST_OBJS_IN_ENTRIES_CNT 20</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="namespacetest__stream.html#ac27ba96cf6d59720940da6b1f061fbc1">init_common_cubrid_modules</a> ();</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">/* create objects */</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Testing packing/unpacking of cubstream::entries with sub-objects using same stream and multithreading &quot;</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;          &lt;&lt; std::endl;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="comment">/* create a stream for packing and add pack objects to stream */</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="classtest__stream_1_1stream__producer__throttling.html">stream_producer_throttling</a> stream_producer_throttling_handler;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="classtest__stream_1_1stream__ready__notifier.html">stream_ready_notifier</a> stream_ready_notify_handler;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="classcubstream_1_1multi__thread__stream.html">cubstream::multi_thread_stream</a> test_stream_for_pack (10 * 1024 * 1024, <a class="code" href="test__stream_8cpp.html#a0e830cac87fbb9e87d1de4bd1e186735">TEST_PACK_THREADS</a>);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    test_stream_for_pack.<a class="code" href="classcubstream_1_1multi__thread__stream.html#a3121194f8265cbd37ef131ca2a7f1110">set_buffer_reserve_margin</a> (100 * 1024);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    test_stream_for_pack.<a class="code" href="classcubstream_1_1stream.html#a0a5d48aa077c6f3c6e4b7d6f9ea758ea">set_filled_stream_handler</a> (stream_producer_throttling_handler.<a class="code" href="classtest__stream_1_1stream__producer__throttling.html#a4084075e1755b91a7f9156fac56933e7">m_notify_func</a>);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    test_stream_for_pack.<a class="code" href="classcubstream_1_1stream.html#a80b2b3dc570d6273aca06516e93a052e">set_ready_pos_handler</a> (stream_ready_notify_handler.<a class="code" href="classtest__stream_1_1stream__ready__notifier.html#a438f57a1db1b1b7c992d45681c888b16">m_notify_func</a>);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Generating stream entries and objects...&quot;</span>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> *se_array[<a class="code" href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a>];</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> *se_unpacked_array[<a class="code" href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a>];</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    memset (se_unpacked_array, 0, <a class="code" href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a> * <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> *));</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    memset (se_array, 0, <a class="code" href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a> * <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> *));</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#ad75e64d49d5ad8448f4e472053822d60">stream_context_manager::g_entries</a> = se_array;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a711a5b920a267cbbe0b26732f077ecfa">stream_context_manager::g_unpacked_entries</a> = se_unpacked_array;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#ac7d8afb6a0b8150ee2ddf36b9118e499">stream_context_manager::g_cnt_packing_entries_per_thread</a> = <a class="code" href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a> / <a class="code" href="test__stream_8cpp.html#a0e830cac87fbb9e87d1de4bd1e186735">TEST_PACK_THREADS</a>;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#afdbc50de3e89cd4fb49cc57ce5ab8f62">stream_context_manager::g_cnt_unpacking_entries_per_thread</a> = <a class="code" href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a> / <a class="code" href="test__stream_8cpp.html#a4a98d21efd290f548f2140493c057296">TEST_UNPACK_THREADS</a>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a4acacac90cc8342c2c9ac4a6c804ae94">stream_context_manager::g_pack_threads</a> = <a class="code" href="test__stream_8cpp.html#a0e830cac87fbb9e87d1de4bd1e186735">TEST_PACK_THREADS</a>;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a360a332d16493c5bd05b410b279efc44">stream_context_manager::g_unpack_threads</a> = <a class="code" href="test__stream_8cpp.html#a4a98d21efd290f548f2140493c057296">TEST_UNPACK_THREADS</a>;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">stream_context_manager::g_read_byte_threads</a> = <a class="code" href="test__stream_8cpp.html#a5ae6ba109cc8cf76ee73dea3615d1178">TEST_READ_BYTE_THREADS</a>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    memset (<a class="code" href="classtest__stream_1_1stream__context__manager.html#ade339cdd1878d0f84f6d2c429081418a">stream_context_manager::g_read_positions</a>, 0, <span class="keyword">sizeof</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#ade339cdd1878d0f84f6d2c429081418a">stream_context_manager::g_read_positions</a>));</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">stream_context_manager::g_running_packers</a>.reset ();</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a13d71473e0bff8e8ea4e8f7562540d0a">stream_context_manager::g_running_readers</a>.reset ();</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      {</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1test__stream__entry.html">test_stream_entry</a> (&amp;test_stream_for_pack);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classtest__stream_1_1test__stream__entry.html#a9b95c09e92abddc94c438c935bad3fd5">set_tran_id</a> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / <a class="code" href="classtest__stream_1_1stream__context__manager.html#ac7d8afb6a0b8150ee2ddf36b9118e499">stream_context_manager::g_cnt_packing_entries_per_thread</a>);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classtest__stream_1_1test__stream__entry.html#acccddf16cb0befbb32c0cfed5168b973">set_mvcc_id</a> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> = 0; <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> &lt; <a class="code" href="test__stream_8cpp.html#a5dc6df5f18eeecafe8d5db9a6a3df9f5">TEST_OBJS_IN_ENTRIES_CNT</a>; <a class="code" href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>++)</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      {</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keywordflow">if</span> (std::rand() %2 == 0)</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;          {</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <a class="code" href="classtest__stream_1_1po1.html">po1</a> *obj = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1po1.html">po1</a>;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        obj-&gt;<a class="code" href="classtest__stream_1_1po1.html#acb9408a695dfdedd206759d157fc6611">generate_obj</a> ();</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classcubstream_1_1entry.html#af90efd65406c300c6a9cabbc2a3a3897">add_packable_entry</a> (obj);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;          }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <a class="code" href="classtest__stream_1_1po2.html">po2</a> *obj = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1po2.html">po2</a>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        obj-&gt;<a class="code" href="classtest__stream_1_1po2.html#a283d14e39e5528196914bea1ac42f6cf">generate_obj</a> ();</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classcubstream_1_1entry.html#af90efd65406c300c6a9cabbc2a3a3897">add_packable_entry</a> (obj);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;          }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      }</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      }</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Done&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a> = &amp;test_stream_for_pack;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <a class="code" href="classcubthread_1_1worker__pool.html">cubthread::entry_workpool</a> *packing_worker_pool =</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#ad86f8a1fe615b31fddda610deb3ac621">create_worker_pool</a> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#a4acacac90cc8342c2c9ac4a6c804ae94">stream_context_manager::g_pack_threads</a>,</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                      <a class="code" href="classtest__stream_1_1stream__context__manager.html#a4acacac90cc8342c2c9ac4a6c804ae94">stream_context_manager::g_pack_threads</a>, <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="namespacetest__stream.html#ab4577bef1f2a87777ae90e029bf100f5">ctx_m1</a>, 1, <span class="keyword">false</span>);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <a class="code" href="classcubthread_1_1worker__pool.html">cubthread::entry_workpool</a> *unpacking_worker_pool =</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#ad86f8a1fe615b31fddda610deb3ac621">create_worker_pool</a> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#a360a332d16493c5bd05b410b279efc44">stream_context_manager::g_unpack_threads</a>,</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                      <a class="code" href="classtest__stream_1_1stream__context__manager.html#a360a332d16493c5bd05b410b279efc44">stream_context_manager::g_unpack_threads</a>, <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="namespacetest__stream.html#a94ec0aebd014d47a26fb60d55ec22259">ctx_m2</a>, 1, <span class="keyword">false</span>);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="classcubthread_1_1worker__pool.html">cubthread::entry_workpool</a> *read_byte_worker_pool =</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#ad86f8a1fe615b31fddda610deb3ac621">create_worker_pool</a> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">stream_context_manager::g_read_byte_threads</a>,</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                      <a class="code" href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">stream_context_manager::g_read_byte_threads</a>, <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="namespacetest__stream.html#aea10388359e06f7e1fa65bb352f1bd01">ctx_m3</a>, 1, <span class="keyword">false</span>);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classtest__stream_1_1stream__context__manager.html#a4acacac90cc8342c2c9ac4a6c804ae94">stream_context_manager::g_pack_threads</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      {</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="classtest__stream_1_1stream__pack__task.html">stream_pack_task</a> *packing_task = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1stream__pack__task.html">stream_pack_task</a> ();</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    packing_task-&gt;<a class="code" href="classtest__stream_1_1stream__pack__task.html#a6c7c8e5ccad28902c8d2bc6713af82b1">m_tran_id</a> = <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    packing_worker_pool-&gt;<a class="code" href="classcubthread_1_1worker__pool.html#a73a3cd00900cf900d4a4e38e5f2a9287">execute</a> (packing_task);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      }</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    std::this_thread::sleep_for (std::chrono::milliseconds (1));</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classtest__stream_1_1stream__context__manager.html#a360a332d16493c5bd05b410b279efc44">stream_context_manager::g_unpack_threads</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="classtest__stream_1_1stream__unpack__task.html">stream_unpack_task</a> *unpacking_task = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1stream__unpack__task.html">stream_unpack_task</a> ();</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    unpacking_task-&gt;<a class="code" href="classtest__stream_1_1stream__unpack__task.html#a116c9cb0304b15eb0270f71cf52bd2b7">m_reader_id</a> = <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">stream_context_manager::g_read_byte_threads</a>;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    unpacking_worker_pool-&gt;<a class="code" href="classcubthread_1_1worker__pool.html#a73a3cd00900cf900d4a4e38e5f2a9287">execute</a> (unpacking_task);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      }</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">stream_context_manager::g_read_byte_threads</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      {</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <a class="code" href="classtest__stream_1_1stream__read__task.html">stream_read_task</a> *read_byte_task = <span class="keyword">new</span> <a class="code" href="classtest__stream_1_1stream__read__task.html">stream_read_task</a> ();</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    read_byte_task-&gt;<a class="code" href="classtest__stream_1_1stream__read__task.html#abdf1797b088dd8d5b084bc2e57631c83">m_reader_id</a> = <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    read_byte_worker_pool-&gt;<a class="code" href="classcubthread_1_1worker__pool.html#a73a3cd00900cf900d4a4e38e5f2a9287">execute</a> (read_byte_task);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      }</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    std::this_thread::sleep_for (std::chrono::seconds (30));</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a3eb30e7b7f23554c529e1a22febe885d">stream_context_manager::g_stop_packer</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#aba4ec1b43471449fa9b6b4c0a8855934">stream_context_manager::g_pause_unpacker</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Stopping packers&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <a class="code" href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">stream_context_manager::g_stream</a>-&gt;<a class="code" href="classcubstream_1_1multi__thread__stream.html#a506d6429825b375b9545e0d740c4e63d">set_stop</a> ();</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">stream_context_manager::g_running_packers</a>.any ()</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;       || <a class="code" href="classtest__stream_1_1stream__context__manager.html#a13d71473e0bff8e8ea4e8f7562540d0a">stream_context_manager::g_running_readers</a>.any ())</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    std::this_thread::sleep_for (std::chrono::milliseconds (100));</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      }</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    packing_worker_pool-&gt;<a class="code" href="classcubthread_1_1worker__pool.html#a9dca7d07be8a01454f66dbffadef8df6">stop_execution</a> ();</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    unpacking_worker_pool-&gt;<a class="code" href="classcubthread_1_1worker__pool.html#a9dca7d07be8a01454f66dbffadef8df6">stop_execution</a> ();</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    read_byte_worker_pool-&gt;<a class="code" href="classcubthread_1_1worker__pool.html#a9dca7d07be8a01454f66dbffadef8df6">stop_execution</a> ();</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="comment">/* wait for thread manager thread to end */</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#a07c7c562496051f31c22f79786a05b14">destroy_worker_pool</a> (packing_worker_pool);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#a07c7c562496051f31c22f79786a05b14">destroy_worker_pool</a> (unpacking_worker_pool);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">cub_th_m</a>-&gt;<a class="code" href="classcubthread_1_1manager.html#a07c7c562496051f31c22f79786a05b14">destroy_worker_pool</a> (read_byte_worker_pool);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a>; <a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">if</span> (se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <span class="keyword">delete</span> se_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (se_unpacked_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      {</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="keyword">delete</span> se_unpacked_array[<a class="code" href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      }</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Done&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  }</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div><div class="ttc" id="classcubpacking_1_1packer_html_a44501f30c4cbe6bed90d4986015cc7c8"><div class="ttname"><a href="classcubpacking_1_1packer.html#a44501f30c4cbe6bed90d4986015cc7c8">cubpacking::packer::get_packed_string_size</a></div><div class="ttdeci">size_t get_packed_string_size(const std::string &amp;str, const size_t curr_offset)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00428">packer.cpp:428</a></div></div>
<div class="ttc" id="namespacetest__stream_html_a76c986b410ade63198c05fc6feab5b47"><div class="ttname"><a href="namespacetest__stream.html#a76c986b410ade63198c05fc6feab5b47">test_stream::test_stream_mt</a></div><div class="ttdeci">int test_stream_mt(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l01092">test_stream.cpp:1092</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_ae03f70b49ff867c84476fcf898f3ead9"><div class="ttname"><a href="classcubpacking_1_1packer.html#ae03f70b49ff867c84476fcf898f3ead9">cubpacking::packer::unpack_int</a></div><div class="ttdeci">int unpack_int(int *value)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00080">packer.cpp:80</a></div></div>
<div class="ttc" id="error__code_8h_html_a258bb72419ef143530a2f8f55e7d57af"><div class="ttname"><a href="error__code_8h.html#a258bb72419ef143530a2f8f55e7d57af">NO_ERROR</a></div><div class="ttdeci">#define NO_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="error__code_8h_source.html#l00042">error_code.h:42</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_afdbc50de3e89cd4fb49cc57ce5ab8f62"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#afdbc50de3e89cd4fb49cc57ce5ab8f62">test_stream::stream_context_manager::g_cnt_unpacking_entries_per_thread</a></div><div class="ttdeci">static int g_cnt_unpacking_entries_per_thread</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00279">test_stream.hpp:279</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__unpack__task_html_a4061b7b0e2f3c1ed35d6e263d2d203e9"><div class="ttname"><a href="classtest__stream_1_1stream__unpack__task.html#a4061b7b0e2f3c1ed35d6e263d2d203e9">test_stream::stream_unpack_task::execute</a></div><div class="ttdeci">void execute(context_type &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00800">test_stream.cpp:800</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a5790d117b71fc9842d9835a05f2610e4"><div class="ttname"><a href="classtest__stream_1_1po1.html#a5790d117b71fc9842d9835a05f2610e4">test_stream::po1::values</a></div><div class="ttdeci">DB_VALUE values[10]</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00107">test_stream.hpp:107</a></div></div>
<div class="ttc" id="mprec_8c_html_abf2bc2545a4a5f5683d9ef3ed0d977e0"><div class="ttname"><a href="mprec_8c.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mprec_8c_source.html#l00540">mprec.c:540</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a469d7874b90587f8aa7a77b41d9ba724"><div class="ttname"><a href="classcubpacking_1_1packer.html#a469d7874b90587f8aa7a77b41d9ba724">cubpacking::packer::pack_string</a></div><div class="ttdeci">int pack_string(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00433">packer.cpp:433</a></div></div>
<div class="ttc" id="thread__compat_8hpp_html"><div class="ttname"><a href="thread__compat_8hpp.html">thread_compat.hpp</a></div></div>
<div class="ttc" id="classcubpacking_1_1packable__object_html"><div class="ttname"><a href="classcubpacking_1_1packable__object.html">cubpacking::packable_object</a></div><div class="ttdef"><b>Definition:</b> <a href="packable__object_8hpp_source.html#l00035">packable_object.hpp:35</a></div></div>
<div class="ttc" id="dbtype_8h_html"><div class="ttname"><a href="dbtype_8h.html">dbtype.h</a></div></div>
<div class="ttc" id="language__support_8c_html_aacb13171682312ef3352667c25db37e7"><div class="ttname"><a href="language__support_8c.html#aacb13171682312ef3352667c25db37e7">lang_init</a></div><div class="ttdeci">int lang_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="language__support_8c_source.html#l00877">language_support.c:877</a></div></div>
<div class="ttc" id="namespacetest__stream_html_a4f6ca8ab38c9e6e995048e25bb44a049"><div class="ttname"><a href="namespacetest__stream.html#a4f6ca8ab38c9e6e995048e25bb44a049">test_stream::test_stream2</a></div><div class="ttdeci">int test_stream2(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00533">test_stream.cpp:533</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_aa2972357c7994a4acac9078ae7c69167"><div class="ttname"><a href="classcubpacking_1_1packer.html#aa2972357c7994a4acac9078ae7c69167">cubpacking::packer::unpack_small_string</a></div><div class="ttdeci">int unpack_small_string(char *string, const size_t max_size)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00344">packer.cpp:344</a></div></div>
<div class="ttc" id="test__stream_8cpp_html_a0e830cac87fbb9e87d1de4bd1e186735"><div class="ttname"><a href="test__stream_8cpp.html#a0e830cac87fbb9e87d1de4bd1e186735">TEST_PACK_THREADS</a></div><div class="ttdeci">#define TEST_PACK_THREADS</div></div>
<div class="ttc" id="classtest__stream_1_1stream__mover_html_a604358e0713d910fa8067e9364af86f7"><div class="ttname"><a href="classtest__stream_1_1stream__mover.html#a604358e0713d910fa8067e9364af86f7">test_stream::stream_mover::m_reader_func</a></div><div class="ttdeci">cubstream::stream::read_func_t m_reader_func</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00527">test_stream.cpp:527</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a795194af082c4eec48dc147d05e4b736"><div class="ttname"><a href="classtest__stream_1_1po1.html#a795194af082c4eec48dc147d05e4b736">test_stream::po1::pack</a></div><div class="ttdeci">int pack(cubpacking::packer *serializator)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00113">test_stream.cpp:113</a></div></div>
<div class="ttc" id="test__stream_8cpp_html_a67892fd45e65408e5d5207d1250f5c8a"><div class="ttname"><a href="test__stream_8cpp.html#a67892fd45e65408e5d5207d1250f5c8a">TEST_ENTRIES_CNT</a></div><div class="ttdeci">#define TEST_ENTRIES_CNT</div></div>
<div class="ttc" id="mprec_8c_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="mprec_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="mprec_8c_source.html#l00252">mprec.c:252</a></div></div>
<div class="ttc" id="language__support_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2dafe0d391bdef46a0606356e1818d580a5"><div class="ttname"><a href="language__support_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2dafe0d391bdef46a0606356e1818d580a5">LANG_COLL_ISO_BINARY</a></div><div class="ttdef"><b>Definition:</b> <a href="language__support_8h_source.html#l00106">language_support.h:106</a></div></div>
<div class="ttc" id="namespacetest__stream_html_afdc6e11847ca54f2d5999b15d0cfd640"><div class="ttname"><a href="namespacetest__stream.html#afdc6e11847ca54f2d5999b15d0cfd640">test_stream::generate_str</a></div><div class="ttdeci">void generate_str(char *str, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00100">test_stream.cpp:100</a></div></div>
<div class="ttc" id="classcubthread_1_1manager_html_a7753d822d62a23032901b1e3a0cc8180"><div class="ttname"><a href="classcubthread_1_1manager.html#a7753d822d62a23032901b1e3a0cc8180">cubthread::manager::init_entries</a></div><div class="ttdeci">void init_entries(bool with_lock_free=false)</div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8cpp_source.html#l00094">thread_manager.cpp:94</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__ready__notifier_html_a38a6234c7be54c7cb3b855d810cbb096"><div class="ttname"><a href="classtest__stream_1_1stream__ready__notifier.html#a38a6234c7be54c7cb3b855d810cbb096">test_stream::stream_ready_notifier::notify</a></div><div class="ttdeci">int notify(const cubstream::stream_position pos, const size_t byte_count)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l01015">test_stream.cpp:1015</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a065529ee0e8b3b6f93e401929f17145b"><div class="ttname"><a href="classcubpacking_1_1packer.html#a065529ee0e8b3b6f93e401929f17145b">cubpacking::packer::unpack_db_value</a></div><div class="ttdeci">int unpack_db_value(DB_VALUE *value)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00293">packer.cpp:293</a></div></div>
<div class="ttc" id="object__domain_8c_html_a40722355e901476149a0ede4153c286e"><div class="ttname"><a href="object__domain_8c.html#a40722355e901476149a0ede4153c286e">tp_init</a></div><div class="ttdeci">int tp_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="object__domain_8c_source.html#l00608">object_domain.c:608</a></div></div>
<div class="ttc" id="object__representation_8h_html_ad45eb120934965f82b6b3ba84672832d"><div class="ttname"><a href="object__representation_8h.html#ad45eb120934965f82b6b3ba84672832d">OR_INT_SIZE</a></div><div class="ttdeci">#define OR_INT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="object__representation_8h_source.html#l00058">object_representation.h:58</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__producer__throttling_html_af4297e7051211a299d36e7900627dd77"><div class="ttname"><a href="classtest__stream_1_1stream__producer__throttling.html#af4297e7051211a299d36e7900627dd77">test_stream::stream_producer_throttling::notify</a></div><div class="ttdeci">int notify(const cubstream::stream_position pos, const size_t byte_count)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00985">test_stream.cpp:985</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_ad9836bca64ca8759ac450586b7522437"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#ad9836bca64ca8759ac450586b7522437">test_stream::stream_context_manager::g_unpacked_entries_cnt</a></div><div class="ttdeci">static volatile int g_unpacked_entries_cnt</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00291">test_stream.hpp:291</a></div></div>
<div class="ttc" id="dbtype__function_8h_html_ab664deb9d1dcfea0795267828ec424bb"><div class="ttname"><a href="dbtype__function_8h.html#ab664deb9d1dcfea0795267828ec424bb">db_make_bigint</a></div><div class="ttdeci">int db_make_bigint(DB_VALUE *value, const DB_BIGINT num)</div></div>
<div class="ttc" id="classtest__stream_1_1stream__read__partial__copy__context_html_ab553e7a7d557f1ed87ea9b161e0fdf99"><div class="ttname"><a href="classtest__stream_1_1stream__read__partial__copy__context.html#ab553e7a7d557f1ed87ea9b161e0fdf99">test_stream::stream_read_partial_copy_context::m_read_action_func</a></div><div class="ttdeci">cubstream::stream::read_partial_func_t m_read_action_func</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00090">test_stream.hpp:90</a></div></div>
<div class="ttc" id="classtest__stream_1_1test__stream__entry_html_acccddf16cb0befbb32c0cfed5168b973"><div class="ttname"><a href="classtest__stream_1_1test__stream__entry.html#acccddf16cb0befbb32c0cfed5168b973">test_stream::test_stream_entry::set_mvcc_id</a></div><div class="ttdeci">void set_mvcc_id(const int mvcc_id)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00187">test_stream.hpp:187</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a44a221835ed3f7e948bbcfb393fa62a3"><div class="ttname"><a href="classcubpacking_1_1packer.html#a44a221835ed3f7e948bbcfb393fa62a3">cubpacking::packer::unpack_string</a></div><div class="ttdeci">int unpack_string(std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00440">packer.cpp:440</a></div></div>
<div class="ttc" id="error__code_8h_html_a51778caf175b7d6bfe9e8977d9a0032e"><div class="ttname"><a href="error__code_8h.html#a51778caf175b7d6bfe9e8977d9a0032e">ER_FAILED</a></div><div class="ttdeci">#define ER_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="error__code_8h_source.html#l00043">error_code.h:43</a></div></div>
<div class="ttc" id="classtest__stream_1_1po2_html_a9ed6e395bb9c8468a7307525e7a08476"><div class="ttname"><a href="classtest__stream_1_1po2.html#a9ed6e395bb9c8468a7307525e7a08476">test_stream::po2::pack</a></div><div class="ttdeci">int pack(cubpacking::packer *serializator)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00317">test_stream.cpp:317</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__ready__notifier_html_a7de7aa58f39b316b5939e4483e5dfde8"><div class="ttname"><a href="classtest__stream_1_1stream__ready__notifier.html#a7de7aa58f39b316b5939e4483e5dfde8">test_stream::stream_ready_notifier::stream_ready_notifier</a></div><div class="ttdeci">stream_ready_notifier()</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l01005">test_stream.cpp:1005</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__mover_html_a005c4e525cf5f3d63512a48be4952476"><div class="ttname"><a href="classtest__stream_1_1stream__mover.html#a005c4e525cf5f3d63512a48be4952476">test_stream::stream_mover::get_buf_size</a></div><div class="ttdeci">size_t get_buf_size(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00524">test_stream.cpp:524</a></div></div>
<div class="ttc" id="namespacetest__stream_html_ab3ec4c4379dff31017bc67be21475c70"><div class="ttname"><a href="namespacetest__stream.html#ab3ec4c4379dff31017bc67be21475c70">test_stream::write_action</a></div><div class="ttdeci">int write_action(const cubstream::stream_position pos, char *ptr, const size_t byte_count)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00033">test_stream.cpp:33</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a0fc5e69af5bf176b85bcafc1aba10c98"><div class="ttname"><a href="classcubpacking_1_1packer.html#a0fc5e69af5bf176b85bcafc1aba10c98">cubpacking::packer::unpack_bigint</a></div><div class="ttdeci">int unpack_bigint(std::int64_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00144">packer.cpp:144</a></div></div>
<div class="ttc" id="classcubstream_1_1entry_html_af90efd65406c300c6a9cabbc2a3a3897"><div class="ttname"><a href="classcubstream_1_1entry.html#af90efd65406c300c6a9cabbc2a3a3897">cubstream::entry::add_packable_entry</a></div><div class="ttdeci">int add_packable_entry(PO *entry)</div><div class="ttdef"><b>Definition:</b> <a href="stream__entry_8hpp_source.html#l00304">stream_entry.hpp:304</a></div></div>
<div class="ttc" id="object__representation_8h_html"><div class="ttname"><a href="object__representation_8h.html">object_representation.h</a></div></div>
<div class="ttc" id="test__stream_8cpp_html_a1c4cdc8badca31f2db5c17b5fe36532c"><div class="ttname"><a href="test__stream_8cpp.html#a1c4cdc8badca31f2db5c17b5fe36532c">TEST_OBJ_CNT</a></div><div class="ttdeci">#define TEST_OBJ_CNT</div></div>
<div class="ttc" id="classcubstream_1_1stream_html_a8db1db6eaf36eac62c89bdebdf3a72fe"><div class="ttname"><a href="classcubstream_1_1stream.html#a8db1db6eaf36eac62c89bdebdf3a72fe">cubstream::stream::get_last_committed_pos</a></div><div class="ttdeci">const stream_position &amp; get_last_committed_pos(void)</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00115">cubstream.hpp:115</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_aba4ec1b43471449fa9b6b4c0a8855934"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#aba4ec1b43471449fa9b6b4c0a8855934">test_stream::stream_context_manager::g_pause_unpacker</a></div><div class="ttdeci">static bool g_pause_unpacker</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00294">test_stream.hpp:294</a></div></div>
<div class="ttc" id="classcubthread_1_1worker__pool_html_a73a3cd00900cf900d4a4e38e5f2a9287"><div class="ttname"><a href="classcubthread_1_1worker__pool.html#a73a3cd00900cf900d4a4e38e5f2a9287">cubthread::worker_pool::execute</a></div><div class="ttdeci">void execute(task_type *work_arg)</div><div class="ttdef"><b>Definition:</b> <a href="thread__worker__pool_8hpp_source.html#l00605">thread_worker_pool.hpp:605</a></div></div>
<div class="ttc" id="classcubthread_1_1manager_html_a3de3b62b0b2666b57bd1851fecbed985"><div class="ttname"><a href="classcubthread_1_1manager.html#a3de3b62b0b2666b57bd1851fecbed985">cubthread::manager::alloc_entries</a></div><div class="ttdeci">void alloc_entries(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8cpp_source.html#l00079">thread_manager.cpp:79</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a7378f87fe13600a4d96685a2ed8c0579"><div class="ttname"><a href="classcubpacking_1_1packer.html#a7378f87fe13600a4d96685a2ed8c0579">cubpacking::packer::pack_int_array</a></div><div class="ttdeci">int pack_int_array(const int *array, const int count)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00177">packer.cpp:177</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__read__task_html_abdf1797b088dd8d5b084bc2e57631c83"><div class="ttname"><a href="classtest__stream_1_1stream__read__task.html#abdf1797b088dd8d5b084bc2e57631c83">test_stream::stream_read_task::m_reader_id</a></div><div class="ttdeci">int m_reader_id</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00324">test_stream.hpp:324</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html">test_stream::stream_context_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00272">test_stream.hpp:272</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_aeeda740906cff03874bbd459c8c78d5d"><div class="ttname"><a href="classcubpacking_1_1packer.html#aeeda740906cff03874bbd459c8c78d5d">cubpacking::packer::pack_int_vector</a></div><div class="ttdeci">int pack_int_vector(const std::vector&lt; int &gt; &amp;array)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00226">packer.cpp:226</a></div></div>
<div class="ttc" id="db__macro_8c_html_a6852b79b5b24afe4e7639ecb8dc14eaa"><div class="ttname"><a href="db__macro_8c.html#a6852b79b5b24afe4e7639ecb8dc14eaa">db_value_compare</a></div><div class="ttdeci">int db_value_compare(const DB_VALUE *value1, const DB_VALUE *value2)</div><div class="ttdef"><b>Definition:</b> <a href="db__macro_8c_source.html#l01850">db_macro.c:1850</a></div></div>
<div class="ttc" id="classcubbase_1_1factory_html"><div class="ttname"><a href="classcubbase_1_1factory.html">cubbase::factory</a></div><div class="ttdef"><b>Definition:</b> <a href="object__factory_8hpp_source.html#l00040">object_factory.hpp:40</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_a81d6181afa48913b935efd3b832ddb4e"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#a81d6181afa48913b935efd3b832ddb4e">test_stream::stream_context_manager::g_stream</a></div><div class="ttdeci">static cubstream::multi_thread_stream * g_stream</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00288">test_stream.hpp:288</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_ae0212af189ec7b519e9fccc72713f05d"><div class="ttname"><a href="classcubpacking_1_1packer.html#ae0212af189ec7b519e9fccc72713f05d">cubpacking::packer::unpack_int_vector</a></div><div class="ttdeci">int unpack_int_vector(std::vector&lt; int &gt; &amp;array)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00245">packer.cpp:245</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a29e9ec86a54c48af6a1a5eba4f82dc09"><div class="ttname"><a href="classcubpacking_1_1packer.html#a29e9ec86a54c48af6a1a5eba4f82dc09">cubpacking::packer::pack_large_string</a></div><div class="ttdeci">int pack_large_string(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00385">packer.cpp:385</a></div></div>
<div class="ttc" id="classcubstream_1_1multi__thread__stream_html_a506d6429825b375b9545e0d740c4e63d"><div class="ttname"><a href="classcubstream_1_1multi__thread__stream.html#a506d6429825b375b9545e0d740c4e63d">cubstream::multi_thread_stream::set_stop</a></div><div class="ttdeci">void set_stop(void)</div><div class="ttdef"><b>Definition:</b> <a href="multi__thread__stream_8hpp_source.html#l00163">multi_thread_stream.hpp:163</a></div></div>
<div class="ttc" id="classcubstream_1_1stream_html_a771bd74b2f99348ef09de4dc85b28b94"><div class="ttname"><a href="classcubstream_1_1stream.html#a771bd74b2f99348ef09de4dc85b28b94">cubstream::stream::write_func_t</a></div><div class="ttdeci">std::function&lt; int(const stream_position &amp;, char *, const size_t)&gt; write_func_t</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00054">cubstream.hpp:54</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__read__partial__copy__context_html"><div class="ttname"><a href="classtest__stream_1_1stream__read__partial__copy__context.html">test_stream::stream_read_partial_copy_context</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00071">test_stream.hpp:71</a></div></div>
<div class="ttc" id="classcubthread_1_1manager_html"><div class="ttname"><a href="classcubthread_1_1manager.html">cubthread::manager</a></div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8hpp_source.html#l00101">thread_manager.hpp:101</a></div></div>
<div class="ttc" id="classcubthread_1_1manager_html_ad86f8a1fe615b31fddda610deb3ac621"><div class="ttname"><a href="classcubthread_1_1manager.html#ad86f8a1fe615b31fddda610deb3ac621">cubthread::manager::create_worker_pool</a></div><div class="ttdeci">entry_workpool * create_worker_pool(std::size_t pool_size, std::size_t task_max_count, const char *name, entry_manager *context_manager, std::size_t core_count, bool debug_logging, bool pool_threads=false, wait_seconds wait_for_task_time=std::chrono::seconds(5))</div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8cpp_source.html#l00142">thread_manager.cpp:142</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__unpack__task_html_a116c9cb0304b15eb0270f71cf52bd2b7"><div class="ttname"><a href="classtest__stream_1_1stream__unpack__task.html#a116c9cb0304b15eb0270f71cf52bd2b7">test_stream::stream_unpack_task::m_reader_id</a></div><div class="ttdeci">int m_reader_id</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00316">test_stream.hpp:316</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__read__partial__context_html_aafe878fe63dc2087b24595751a8ec6e6"><div class="ttname"><a href="classtest__stream_1_1stream__read__partial__context.html#aafe878fe63dc2087b24595751a8ec6e6">test_stream::stream_read_partial_context::read_action</a></div><div class="ttdeci">int read_action(char *ptr, const size_t byte_count, size_t &amp;processed_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00052">test_stream.cpp:52</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_adc8d98b08c3d4e6f20886654b737c1b1"><div class="ttname"><a href="classtest__stream_1_1po1.html#adc8d98b08c3d4e6f20886654b737c1b1">test_stream::po1::large_str</a></div><div class="ttdeci">std::string large_str</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00109">test_stream.hpp:109</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_af0c9a66d98d9e0587477331de4b1ac36"><div class="ttname"><a href="classcubpacking_1_1packer.html#af0c9a66d98d9e0587477331de4b1ac36">cubpacking::packer::get_packed_c_string_size</a></div><div class="ttdeci">size_t get_packed_c_string_size(const char *str, const size_t str_size, const size_t curr_offset)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00466">packer.cpp:466</a></div></div>
<div class="ttc" id="classtest__stream_1_1po2_html_aa794b5f9c29236a076be2a8fe8bbe9d3"><div class="ttname"><a href="classtest__stream_1_1po2.html#aa794b5f9c29236a076be2a8fe8bbe9d3">test_stream::po2::is_equal</a></div><div class="ttdeci">bool is_equal(const packable_object *other)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00344">test_stream.cpp:344</a></div></div>
<div class="ttc" id="thread__task_8hpp_html"><div class="ttname"><a href="thread__task_8hpp.html">thread_task.hpp</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_ade339cdd1878d0f84f6d2c429081418a"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#ade339cdd1878d0f84f6d2c429081418a">test_stream::stream_context_manager::g_read_positions</a></div><div class="ttdeci">static cubstream::stream_position g_read_positions[200]</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00276">test_stream.hpp:276</a></div></div>
<div class="ttc" id="classtest__stream_1_1po2_html_a1b031e106a384cff14b5faa9c89c3c75"><div class="ttname"><a href="classtest__stream_1_1po2.html#a1b031e106a384cff14b5faa9c89c3c75">test_stream::po2::ID</a></div><div class="ttdeci">static int ID</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00128">test_stream.hpp:128</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a1447e7bade615e74b3f233a9eeeb0901"><div class="ttname"><a href="classtest__stream_1_1po1.html#a1447e7bade615e74b3f233a9eeeb0901">test_stream::po1::~po1</a></div><div class="ttdeci">~po1()</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00306">test_stream.cpp:306</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_ae342390cb05ad46a97cc4a2963c2286d"><div class="ttname"><a href="classcubpacking_1_1packer.html#ae342390cb05ad46a97cc4a2963c2286d">cubpacking::packer::pack_c_string</a></div><div class="ttdeci">int pack_c_string(const char *str, const size_t str_size)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00482">packer.cpp:482</a></div></div>
<div class="ttc" id="error__manager_8c_html_aefbe440effda7544df457fb8ed2eef51"><div class="ttname"><a href="error__manager_8c.html#aefbe440effda7544df457fb8ed2eef51">er_init</a></div><div class="ttdeci">int er_init(const char *msglog_filename, int exit_ask)</div><div class="ttdef"><b>Definition:</b> <a href="error__manager_8c_source.html#l00663">error_manager.c:663</a></div></div>
<div class="ttc" id="classtest__stream_1_1test__stream__entry_html_a9b95c09e92abddc94c438c935bad3fd5"><div class="ttname"><a href="classtest__stream_1_1test__stream__entry.html#a9b95c09e92abddc94c438c935bad3fd5">test_stream::test_stream_entry::set_tran_id</a></div><div class="ttdeci">void set_tran_id(const int tr_id)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00182">test_stream.hpp:182</a></div></div>
<div class="ttc" id="test__stream_8cpp_html_a5ae6ba109cc8cf76ee73dea3615d1178"><div class="ttname"><a href="test__stream_8cpp.html#a5ae6ba109cc8cf76ee73dea3615d1178">TEST_READ_BYTE_THREADS</a></div><div class="ttdeci">#define TEST_READ_BYTE_THREADS</div></div>
<div class="ttc" id="namespacetest__stream_html_aea10388359e06f7e1fa65bb352f1bd01"><div class="ttname"><a href="namespacetest__stream.html#aea10388359e06f7e1fa65bb352f1bd01">test_stream::ctx_m3</a></div><div class="ttdeci">stream_context_manager ctx_m3</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l01090">test_stream.cpp:1090</a></div></div>
<div class="ttc" id="namespacetest__stream_html_a6eb9edd19f26d39d0407577a42a8185d"><div class="ttname"><a href="namespacetest__stream.html#a6eb9edd19f26d39d0407577a42a8185d">test_stream::test_stream1</a></div><div class="ttdeci">int test_stream1(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00390">test_stream.cpp:390</a></div></div>
<div class="ttc" id="thread__compat_8hpp_html_a89b282e93055510be0849001ca0561e1"><div class="ttname"><a href="thread__compat_8hpp.html#a89b282e93055510be0849001ca0561e1">THREAD_ENTRY</a></div><div class="ttdeci">void THREAD_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="thread__compat_8hpp_source.html#l00044">thread_compat.hpp:44</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__producer__throttling_html"><div class="ttname"><a href="classtest__stream_1_1stream__producer__throttling.html">test_stream::stream_producer_throttling</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00972">test_stream.cpp:972</a></div></div>
<div class="ttc" id="classcubstream_1_1multi__thread__stream_html"><div class="ttname"><a href="classcubstream_1_1multi__thread__stream.html">cubstream::multi_thread_stream</a></div><div class="ttdef"><b>Definition:</b> <a href="multi__thread__stream_8hpp_source.html#l00069">multi_thread_stream.hpp:69</a></div></div>
<div class="ttc" id="dbtype__function_8h_html_a5a76d62a5467a1c6c6589e81ce1f8d54"><div class="ttname"><a href="dbtype__function_8h.html#a5a76d62a5467a1c6c6589e81ce1f8d54">db_make_short</a></div><div class="ttdeci">int db_make_short(DB_VALUE *value, const DB_C_SHORT num)</div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_adf77867eacd23493c67a7c3fb3139a30"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#adf77867eacd23493c67a7c3fb3139a30">test_stream::stream_context_manager::g_packed_entries_cnt</a></div><div class="ttdeci">static volatile int g_packed_entries_cnt</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00290">test_stream.hpp:290</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a8e618eaf7ace5b90484cf0c6aa1f356f"><div class="ttname"><a href="classcubpacking_1_1packer.html#a8e618eaf7ace5b90484cf0c6aa1f356f">cubpacking::packer::get_packed_int_size</a></div><div class="ttdeci">size_t get_packed_int_size(size_t curr_offset)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00064">packer.cpp:64</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_ac7c3c9f6240fd669ea20d0956d51f0bd"><div class="ttname"><a href="classtest__stream_1_1po1.html#ac7c3c9f6240fd669ea20d0956d51f0bd">test_stream::po1::str1</a></div><div class="ttdeci">std::string str1</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00110">test_stream.hpp:110</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__pack__task_html"><div class="ttname"><a href="classtest__stream_1_1stream__pack__task.html">test_stream::stream_pack_task</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00304">test_stream.hpp:304</a></div></div>
<div class="ttc" id="mprec_8c_html_a66b97d6dee15f33d7b6731ccf48092cf"><div class="ttname"><a href="mprec_8c.html#a66b97d6dee15f33d7b6731ccf48092cf">c</a></div><div class="ttdeci">c</div><div class="ttdef"><b>Definition:</b> <a href="mprec_8c_source.html#l00368">mprec.c:368</a></div></div>
<div class="ttc" id="namespacecubthread_html_a0b0f629740d5037917c1773030847800"><div class="ttname"><a href="namespacecubthread.html#a0b0f629740d5037917c1773030847800">cubthread::get_manager</a></div><div class="ttdeci">manager * get_manager(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8cpp_source.html#l00550">thread_manager.cpp:550</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_aac2b51651770bb65ab831b0ebb7b4acd"><div class="ttname"><a href="classtest__stream_1_1po1.html#aac2b51651770bb65ab831b0ebb7b4acd">test_stream::po1::ID</a></div><div class="ttdeci">static int ID</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00100">test_stream.hpp:100</a></div></div>
<div class="ttc" id="classcubstream_1_1stream_html_a943c929539a3b16ca58739af0e8c50be"><div class="ttname"><a href="classcubstream_1_1stream.html#a943c929539a3b16ca58739af0e8c50be">cubstream::stream::set_last_dropable_pos</a></div><div class="ttdeci">void set_last_dropable_pos(const stream_position &amp;last_dropable_pos)</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00125">cubstream.hpp:125</a></div></div>
<div class="ttc" id="classcubstream_1_1multi__thread__stream_html_a4107f72c35a454a26a6e7148cc81552f"><div class="ttname"><a href="classcubstream_1_1multi__thread__stream.html#a4107f72c35a454a26a6e7148cc81552f">cubstream::multi_thread_stream::write</a></div><div class="ttdeci">int write(const size_t byte_count, write_func_t &amp;write_action)</div><div class="ttdef"><b>Definition:</b> <a href="multi__thread__stream_8cpp_source.html#l00066">multi_thread_stream.cpp:66</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__read__partial__context_html"><div class="ttname"><a href="classtest__stream_1_1stream__read__partial__context.html">test_stream::stream_read_partial_context</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00048">test_stream.hpp:48</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_a3eb30e7b7f23554c529e1a22febe885d"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#a3eb30e7b7f23554c529e1a22febe885d">test_stream::stream_context_manager::g_stop_packer</a></div><div class="ttdeci">static bool g_stop_packer</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00296">test_stream.hpp:296</a></div></div>
<div class="ttc" id="test__stream_8cpp_html_ab638e1a2ff59be980b4b6f1eaebac62e"><div class="ttname"><a href="test__stream_8cpp.html#ab638e1a2ff59be980b4b6f1eaebac62e">TEST_ENTRIES</a></div><div class="ttdeci">#define TEST_ENTRIES</div></div>
<div class="ttc" id="namespacecubstream_html_afddad59e2053fb99f79b9610a9a0540c"><div class="ttname"><a href="namespacecubstream.html#afddad59e2053fb99f79b9610a9a0540c">cubstream::stream_position</a></div><div class="ttdeci">std::uint64_t stream_position</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00038">cubstream.hpp:38</a></div></div>
<div class="ttc" id="classcubstream_1_1stream_html_a80b2b3dc570d6273aca06516e93a052e"><div class="ttname"><a href="classcubstream_1_1stream.html#a80b2b3dc570d6273aca06516e93a052e">cubstream::stream::set_ready_pos_handler</a></div><div class="ttdeci">void set_ready_pos_handler(notify_func_t handler)</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00135">cubstream.hpp:135</a></div></div>
<div class="ttc" id="classcubstream_1_1entry_html_ac9ef724440b87206a4847ad8d7124593"><div class="ttname"><a href="classcubstream_1_1entry.html#ac9ef724440b87206a4847ad8d7124593">cubstream::entry::pack</a></div><div class="ttdeci">int pack(void)</div><div class="ttdef"><b>Definition:</b> <a href="stream__entry_8hpp_source.html#l00234">stream_entry.hpp:234</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_a360a332d16493c5bd05b410b279efc44"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#a360a332d16493c5bd05b410b279efc44">test_stream::stream_context_manager::g_unpack_threads</a></div><div class="ttdeci">static int g_unpack_threads</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00282">test_stream.hpp:282</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a5d66883a59e5ec7720bcd60b88064874"><div class="ttname"><a href="classtest__stream_1_1po1.html#a5d66883a59e5ec7720bcd60b88064874">test_stream::po1::b1</a></div><div class="ttdeci">std::int64_t b1</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00104">test_stream.hpp:104</a></div></div>
<div class="ttc" id="namespacetest__stream_html_a47242a5254adc1dc6f290ca78499467f"><div class="ttname"><a href="namespacetest__stream.html#a47242a5254adc1dc6f290ca78499467f">test_stream::test_stream3</a></div><div class="ttdeci">int test_stream3(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00657">test_stream.cpp:657</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a99111b0079449c1097caf1e8450d2f52"><div class="ttname"><a href="classtest__stream_1_1po1.html#a99111b0079449c1097caf1e8450d2f52">test_stream::po1::i1</a></div><div class="ttdeci">int i1</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00102">test_stream.hpp:102</a></div></div>
<div class="ttc" id="db__vdb_8c_html_a6821bafc3c88dfb2e433a095df9940c6"><div class="ttname"><a href="db__vdb_8c.html#a6821bafc3c88dfb2e433a095df9940c6">BUF_SIZE</a></div><div class="ttdeci">#define BUF_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="db__vdb_8c_source.html#l00056">db_vdb.c:56</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_ab26828627d72423af46a80e34de2ddbe"><div class="ttname"><a href="classtest__stream_1_1po1.html#ab26828627d72423af46a80e34de2ddbe">test_stream::po1::str2</a></div><div class="ttdeci">char str2[300]</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00111">test_stream.hpp:111</a></div></div>
<div class="ttc" id="classcubstream_1_1stream_html_af524e51585a5d41aacabfc29f23af374"><div class="ttname"><a href="classcubstream_1_1stream.html#af524e51585a5d41aacabfc29f23af374">cubstream::stream::get_curr_read_position</a></div><div class="ttdeci">const stream_position &amp; get_curr_read_position(void)</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00105">cubstream.hpp:105</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_ad75e64d49d5ad8448f4e472053822d60"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#ad75e64d49d5ad8448f4e472053822d60">test_stream::stream_context_manager::g_entries</a></div><div class="ttdeci">static test_stream_entry ** g_entries</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00285">test_stream.hpp:285</a></div></div>
<div class="ttc" id="classcubthread_1_1worker__pool_html"><div class="ttname"><a href="classcubthread_1_1worker__pool.html">cubthread::worker_pool</a></div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8hpp_source.html#l00050">thread_manager.hpp:50</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__ready__notifier_html"><div class="ttname"><a href="classtest__stream_1_1stream__ready__notifier.html">test_stream::stream_ready_notifier</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l01002">test_stream.cpp:1002</a></div></div>
<div class="ttc" id="classcubthread_1_1worker__pool_html_a9dca7d07be8a01454f66dbffadef8df6"><div class="ttname"><a href="classcubthread_1_1worker__pool.html#a9dca7d07be8a01454f66dbffadef8df6">cubthread::worker_pool::stop_execution</a></div><div class="ttdeci">void stop_execution(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread__worker__pool_8hpp_source.html#l00623">thread_worker_pool.hpp:623</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a4d8643392f1d995cde8775ae628ffcaa"><div class="ttname"><a href="classtest__stream_1_1po1.html#a4d8643392f1d995cde8775ae628ffcaa">test_stream::po1::int_a</a></div><div class="ttdeci">int int_a[5]</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00105">test_stream.hpp:105</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a41bdde9177f64a5745c422d5529cdfc2"><div class="ttname"><a href="classtest__stream_1_1po1.html#a41bdde9177f64a5745c422d5529cdfc2">test_stream::po1::is_equal</a></div><div class="ttdeci">bool is_equal(const packable_object *other)</div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a5cba6d5d08ea231d10174f17f495f230"><div class="ttname"><a href="classcubpacking_1_1packer.html#a5cba6d5d08ea231d10174f17f495f230">cubpacking::packer::get_packed_int_vector_size</a></div><div class="ttdeci">size_t get_packed_int_vector_size(size_t curr_offset, const int count)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00221">packer.cpp:221</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_aa71c3a68150c9c5c13c15cee3fb21fc6"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#aa71c3a68150c9c5c13c15cee3fb21fc6">test_stream::stream_context_manager::g_running_packers</a></div><div class="ttdeci">static std::bitset&lt; 1024 &gt; g_running_packers</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00298">test_stream.hpp:298</a></div></div>
<div class="ttc" id="dict__private_8h_html_a3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="dict__private_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="dict__private_8h_source.html#l00069">dict_private.h:69</a></div></div>
<div class="ttc" id="classcubstream_1_1multi__thread__stream_html_a3121194f8265cbd37ef131ca2a7f1110"><div class="ttname"><a href="classcubstream_1_1multi__thread__stream.html#a3121194f8265cbd37ef131ca2a7f1110">cubstream::multi_thread_stream::set_buffer_reserve_margin</a></div><div class="ttdeci">void set_buffer_reserve_margin(const size_t margin)</div><div class="ttdef"><b>Definition:</b> <a href="multi__thread__stream_8hpp_source.html#l00147">multi_thread_stream.hpp:147</a></div></div>
<div class="ttc" id="namespacetest__stream_html"><div class="ttname"><a href="namespacetest__stream.html">test_stream</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00030">test_stream.cpp:30</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_afc6103b4b0ae7b5ce2a29a66e79890cb"><div class="ttname"><a href="classcubpacking_1_1packer.html#afc6103b4b0ae7b5ce2a29a66e79890cb">cubpacking::packer::unpack_short</a></div><div class="ttdeci">int unpack_short(short *value)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00117">packer.cpp:117</a></div></div>
<div class="ttc" id="freelistheap_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="freelistheap_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="freelistheap_8h_source.html#l00019">freelistheap.h:19</a></div></div>
<div class="ttc" id="classcubstream_1_1stream_html_a69bb6b643d8afaf9e169871495bb6ebf"><div class="ttname"><a href="classcubstream_1_1stream.html#a69bb6b643d8afaf9e169871495bb6ebf">cubstream::stream::read_func_t</a></div><div class="ttdeci">std::function&lt; int(char *, const size_t)&gt; read_func_t</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00051">cubstream.hpp:51</a></div></div>
<div class="ttc" id="classcubstream_1_1multi__thread__stream_html_acfea7a0af0c9274f4310d70a9c58486e"><div class="ttname"><a href="classcubstream_1_1multi__thread__stream.html#acfea7a0af0c9274f4310d70a9c58486e">cubstream::multi_thread_stream::read</a></div><div class="ttdeci">int read(const stream_position first_pos, const size_t byte_count, read_func_t &amp;read_action)</div><div class="ttdef"><b>Definition:</b> <a href="multi__thread__stream_8cpp_source.html#l00107">multi_thread_stream.cpp:107</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_ac70307bec79d8062fdc485446ac110a4"><div class="ttname"><a href="classcubpacking_1_1packer.html#ac70307bec79d8062fdc485446ac110a4">cubpacking::packer::unpack_c_string</a></div><div class="ttdeci">int unpack_c_string(char *str, const size_t max_str_size)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00499">packer.cpp:499</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_adf1410e37c714f41b92cb2ea8a28216c"><div class="ttname"><a href="classtest__stream_1_1po1.html#adf1410e37c714f41b92cb2ea8a28216c">test_stream::po1::get_packed_size</a></div><div class="ttdeci">size_t get_packed_size(cubpacking::packer *serializator)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00229">test_stream.cpp:229</a></div></div>
<div class="ttc" id="namespacetest__stream_html_ab4577bef1f2a87777ae90e029bf100f5"><div class="ttname"><a href="namespacetest__stream.html#ab4577bef1f2a87777ae90e029bf100f5">test_stream::ctx_m1</a></div><div class="ttdeci">stream_context_manager ctx_m1</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l01088">test_stream.cpp:1088</a></div></div>
<div class="ttc" id="expat_8h_html_aaf0497a3bd20a0066017546af6bf80be"><div class="ttname"><a href="expat_8h.html#aaf0497a3bd20a0066017546af6bf80be">ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="expat_8h_source.html#l00904">expat.h:904</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__producer__throttling_html_a67df2d91066449b36004161d88b9921c"><div class="ttname"><a href="classtest__stream_1_1stream__producer__throttling.html#a67df2d91066449b36004161d88b9921c">test_stream::stream_producer_throttling::stream_producer_throttling</a></div><div class="ttdeci">stream_producer_throttling()</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00975">test_stream.cpp:975</a></div></div>
<div class="ttc" id="porting_8h_html_a69f6453c22e98300405788ae8b207b9f"><div class="ttname"><a href="porting_8h.html#a69f6453c22e98300405788ae8b207b9f">err</a></div><div class="ttdeci">#define err(fd,...)</div><div class="ttdef"><b>Definition:</b> <a href="porting_8h_source.html#l00425">porting.h:425</a></div></div>
<div class="ttc" id="classtest__stream_1_1po2_html_a2056eff1b04c368102878b7dcb00ac95"><div class="ttname"><a href="classtest__stream_1_1po2.html#a2056eff1b04c368102878b7dcb00ac95">test_stream::po2::get_packed_size</a></div><div class="ttdeci">size_t get_packed_size(cubpacking::packer *serializator)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00362">test_stream.cpp:362</a></div></div>
<div class="ttc" id="mprec_8c_html_a4db1c1a80cf2e1dafd165ee7c7bf6aeb"><div class="ttname"><a href="mprec_8c.html#a4db1c1a80cf2e1dafd165ee7c7bf6aeb">assert</a></div><div class="ttdeci">assert(k&lt;=ptr-&gt;_max_k)</div></div>
<div class="ttc" id="classcubthread_1_1entry_html"><div class="ttname"><a href="classcubthread_1_1entry.html">cubthread::entry</a></div><div class="ttdef"><b>Definition:</b> <a href="thread__entry_8hpp_source.html#l00179">thread_entry.hpp:179</a></div></div>
<div class="ttc" id="memory__alloc_8h_html_a8b903d0a51cce71105b6a706159717e4"><div class="ttname"><a href="memory__alloc_8h.html#a8b903d0a51cce71105b6a706159717e4">db_private_alloc</a></div><div class="ttdeci">#define db_private_alloc(thrd, size)</div><div class="ttdef"><b>Definition:</b> <a href="memory__alloc_8h_source.html#l00228">memory_alloc.h:228</a></div></div>
<div class="ttc" id="namespacetest__stream_html_ac27ba96cf6d59720940da6b1f061fbc1"><div class="ttname"><a href="namespacetest__stream.html#ac27ba96cf6d59720940da6b1f061fbc1">test_stream::init_common_cubrid_modules</a></div><div class="ttdeci">int init_common_cubrid_modules(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00450">test_stream.cpp:450</a></div></div>
<div class="ttc" id="structdb__value_html_a5441b09191eaeaa8fb7e9c510e7b51fe"><div class="ttname"><a href="structdb__value.html#a5441b09191eaeaa8fb7e9c510e7b51fe">db_value::need_clear</a></div><div class="ttdeci">need_clear_type need_clear</div><div class="ttdef"><b>Definition:</b> <a href="dbtype__def_8h_source.html#l01109">dbtype_def.h:1109</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_a4acacac90cc8342c2c9ac4a6c804ae94"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#a4acacac90cc8342c2c9ac4a6c804ae94">test_stream::stream_context_manager::g_pack_threads</a></div><div class="ttdeci">static int g_pack_threads</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00281">test_stream.hpp:281</a></div></div>
<div class="ttc" id="object__primitive_8c_html_a7c633c9f87690aa563bdeaf44f340307"><div class="ttname"><a href="object__primitive_8c.html#a7c633c9f87690aa563bdeaf44f340307">pr_clear_value</a></div><div class="ttdeci">int pr_clear_value(DB_VALUE *value)</div><div class="ttdef"><b>Definition:</b> <a href="object__primitive_8c_source.html#l01920">object_primitive.c:1920</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__ready__notifier_html_a438f57a1db1b1b7c992d45681c888b16"><div class="ttname"><a href="classtest__stream_1_1stream__ready__notifier.html#a438f57a1db1b1b7c992d45681c888b16">test_stream::stream_ready_notifier::m_notify_func</a></div><div class="ttdeci">cubstream::stream::notify_func_t m_notify_func</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l01011">test_stream.cpp:1011</a></div></div>
<div class="ttc" id="namespacetest__stream_html_a94ec0aebd014d47a26fb60d55ec22259"><div class="ttname"><a href="namespacetest__stream.html#a94ec0aebd014d47a26fb60d55ec22259">test_stream::ctx_m2</a></div><div class="ttdeci">stream_context_manager ctx_m2</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l01089">test_stream.cpp:1089</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__unpack__task_html"><div class="ttname"><a href="classtest__stream_1_1stream__unpack__task.html">test_stream::stream_unpack_task</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00312">test_stream.hpp:312</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_af2bc5e95c139049e13b508611f37845b"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#af2bc5e95c139049e13b508611f37845b">test_stream::stream_context_manager::update_stream_drop_position</a></div><div class="ttdeci">static void update_stream_drop_position(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00960">test_stream.cpp:960</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__mover_html_a93697fe0f99894b428ba61eabe125875"><div class="ttname"><a href="classtest__stream_1_1stream__mover.html#a93697fe0f99894b428ba61eabe125875">test_stream::stream_mover::m_writer_func</a></div><div class="ttdeci">cubstream::stream::write_func_t m_writer_func</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00530">test_stream.cpp:530</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__pack__task_html_ae4f284f70fc16076e52d7d82568760d1"><div class="ttname"><a href="classtest__stream_1_1stream__pack__task.html#ae4f284f70fc16076e52d7d82568760d1">test_stream::stream_pack_task::execute</a></div><div class="ttdeci">void execute(context_type &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00751">test_stream.cpp:751</a></div></div>
<div class="ttc" id="classcubthread_1_1manager_html_a07c7c562496051f31c22f79786a05b14"><div class="ttname"><a href="classcubthread_1_1manager.html#a07c7c562496051f31c22f79786a05b14">cubthread::manager::destroy_worker_pool</a></div><div class="ttdeci">void destroy_worker_pool(entry_workpool *&amp;worker_pool_arg)</div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8cpp_source.html#l00241">thread_manager.cpp:241</a></div></div>
<div class="ttc" id="intl__support_8h_html_a62642b38e69c029c39114bb176d2f4b7a2fa979b217b32e45bb1b873aaf7f62a8"><div class="ttname"><a href="intl__support_8h.html#a62642b38e69c029c39114bb176d2f4b7a2fa979b217b32e45bb1b873aaf7f62a8">INTL_CODESET_ISO88591</a></div><div class="ttdef"><b>Definition:</b> <a href="intl__support_8h_source.html#l00184">intl_support.h:184</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a11452e4abbc640c88e65eaa2ab71b937"><div class="ttname"><a href="classcubpacking_1_1packer.html#a11452e4abbc640c88e65eaa2ab71b937">cubpacking::packer::get_packed_short_size</a></div><div class="ttdeci">size_t get_packed_short_size(size_t curr_offset)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00101">packer.cpp:101</a></div></div>
<div class="ttc" id="classtest__stream_1_1test__stream__entry_html_a168b3584066c38fbf76df87cb50465fe"><div class="ttname"><a href="classtest__stream_1_1test__stream__entry.html#a168b3584066c38fbf76df87cb50465fe">test_stream::test_stream_entry::get_mvcc_id</a></div><div class="ttdeci">int &amp; get_mvcc_id()</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00196">test_stream.hpp:196</a></div></div>
<div class="ttc" id="language__support_8c_html_a52036720cef62b079b1fa9c2e102e115"><div class="ttname"><a href="language__support_8c.html#a52036720cef62b079b1fa9c2e102e115">lang_set_charset_lang</a></div><div class="ttdeci">int lang_set_charset_lang(const char *lang_charset)</div><div class="ttdef"><b>Definition:</b> <a href="language__support_8c_source.html#l01107">language_support.c:1107</a></div></div>
<div class="ttc" id="test__stream_8cpp_html_a4a98d21efd290f548f2140493c057296"><div class="ttname"><a href="test__stream_8cpp.html#a4a98d21efd290f548f2140493c057296">TEST_UNPACK_THREADS</a></div><div class="ttdeci">#define TEST_UNPACK_THREADS</div></div>
<div class="ttc" id="classtest__stream_1_1stream__mover_html"><div class="ttname"><a href="classtest__stream_1_1stream__mover.html">test_stream::stream_mover</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00495">test_stream.cpp:495</a></div></div>
<div class="ttc" id="thread__manager_8hpp_html"><div class="ttname"><a href="thread__manager_8hpp.html">thread_manager.hpp</a></div></div>
<div class="ttc" id="classcubthread_1_1manager_html_adfeeac9dab6c7853972d7d036c295688"><div class="ttname"><a href="classcubthread_1_1manager.html#adfeeac9dab6c7853972d7d036c295688">cubthread::manager::set_max_thread_count</a></div><div class="ttdeci">void set_max_thread_count(std::size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8cpp_source.html#l00414">thread_manager.cpp:414</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_aeb77c90f1629765c478c21e3cc9565d4"><div class="ttname"><a href="classcubpacking_1_1packer.html#aeb77c90f1629765c478c21e3cc9565d4">cubpacking::packer::pack_int</a></div><div class="ttdeci">int pack_int(const int value)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00069">packer.cpp:69</a></div></div>
<div class="ttc" id="test__stream_8cpp_html_a5dc6df5f18eeecafe8d5db9a6a3df9f5"><div class="ttname"><a href="test__stream_8cpp.html#a5dc6df5f18eeecafe8d5db9a6a3df9f5">TEST_OBJS_IN_ENTRIES_CNT</a></div><div class="ttdeci">#define TEST_OBJS_IN_ENTRIES_CNT</div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a15644631c939d0afbdae0f9350f31ff4"><div class="ttname"><a href="classtest__stream_1_1po1.html#a15644631c939d0afbdae0f9350f31ff4">test_stream::po1::small_str</a></div><div class="ttdeci">char small_str[256]</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00108">test_stream.hpp:108</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a714263a6caaa3ed5b1177d54f7409c6a"><div class="ttname"><a href="classcubpacking_1_1packer.html#a714263a6caaa3ed5b1177d54f7409c6a">cubpacking::packer::pack_small_string</a></div><div class="ttdeci">int pack_small_string(const char *string)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00318">packer.cpp:318</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a67a23a503ff6cee7e7201e414e68ef92"><div class="ttname"><a href="classtest__stream_1_1po1.html#a67a23a503ff6cee7e7201e414e68ef92">test_stream::po1::unpack</a></div><div class="ttdeci">int unpack(cubpacking::packer *serializator)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00142">test_stream.cpp:142</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_acb9408a695dfdedd206759d157fc6611"><div class="ttname"><a href="classtest__stream_1_1po1.html#acb9408a695dfdedd206759d157fc6611">test_stream::po1::generate_obj</a></div><div class="ttdeci">void generate_obj(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00252">test_stream.cpp:252</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__read__task_html_ab0a945eb37c250fcccb42544e1fb26ce"><div class="ttname"><a href="classtest__stream_1_1stream__read__task.html#ab0a945eb37c250fcccb42544e1fb26ce">test_stream::stream_read_task::execute</a></div><div class="ttdeci">void execute(context_type &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00888">test_stream.cpp:888</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__read__task_html"><div class="ttname"><a href="classtest__stream_1_1stream__read__task.html">test_stream::stream_read_task</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00319">test_stream.hpp:319</a></div></div>
<div class="ttc" id="object__representation_8h_html_a0bb837e337b052d9ce57a1b4cdade5b2"><div class="ttname"><a href="object__representation_8h.html#a0bb837e337b052d9ce57a1b4cdade5b2">OR_GET_INT</a></div><div class="ttdeci">#define OR_GET_INT(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="object__representation_8h_source.html#l00184">object_representation.h:184</a></div></div>
<div class="ttc" id="classtest__stream_1_1test__stream__entry_html_a75ea8d1207a7ce741ea6afb5e3935fe3"><div class="ttname"><a href="classtest__stream_1_1test__stream__entry.html#a75ea8d1207a7ce741ea6afb5e3935fe3">test_stream::test_stream_entry::get_builder</a></div><div class="ttdeci">packable_factory * get_builder()</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00480">test_stream.cpp:480</a></div></div>
<div class="ttc" id="multi__thread__stream_8hpp_html"><div class="ttname"><a href="multi__thread__stream_8hpp.html">multi_thread_stream.hpp</a></div></div>
<div class="ttc" id="dbtype__def_8h_html_a4b4d6d666ecd8761ce947c6abf952ed9a375312c350357e4c656186e566972fa6"><div class="ttname"><a href="dbtype__def_8h.html#a4b4d6d666ecd8761ce947c6abf952ed9a375312c350357e4c656186e566972fa6">DB_EQ</a></div><div class="ttdef"><b>Definition:</b> <a href="dbtype__def_8h_source.html#l00232">dbtype_def.h:232</a></div></div>
<div class="ttc" id="intl__support_8c_html_ab543901c3564a54b2450303d63374f55"><div class="ttname"><a href="intl__support_8c.html#ab543901c3564a54b2450303d63374f55">strlen</a></div><div class="ttdeci">#define strlen(s1)</div><div class="ttdef"><b>Definition:</b> <a href="intl__support_8c_source.html#l00045">intl_support.c:45</a></div></div>
<div class="ttc" id="classtest__stream_1_1po2_html_a283d14e39e5528196914bea1ac42f6cf"><div class="ttname"><a href="classtest__stream_1_1po2.html#a283d14e39e5528196914bea1ac42f6cf">test_stream::po2::generate_obj</a></div><div class="ttdeci">void generate_obj(void)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00374">test_stream.cpp:374</a></div></div>
<div class="ttc" id="classcubstream_1_1multi__thread__stream_html_abcc39d2c420d054e19eeb78d241aaa8e"><div class="ttname"><a href="classcubstream_1_1multi__thread__stream.html#abcc39d2c420d054e19eeb78d241aaa8e">cubstream::multi_thread_stream::stream_fill_factor</a></div><div class="ttdeci">float stream_fill_factor(void)</div><div class="ttdef"><b>Definition:</b> <a href="multi__thread__stream_8hpp_source.html#l00158">multi_thread_stream.hpp:158</a></div></div>
<div class="ttc" id="classtest__stream_1_1po2_html"><div class="ttname"><a href="classtest__stream_1_1po2.html">test_stream::po2</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00125">test_stream.hpp:125</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__mover_html_a005d62cf82a9870f2520b4481b44f6e7"><div class="ttname"><a href="classtest__stream_1_1stream__mover.html#a005d62cf82a9870f2520b4481b44f6e7">test_stream::stream_mover::stream_mover</a></div><div class="ttdeci">stream_mover()</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00515">test_stream.cpp:515</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__read__partial__context_html_ad17111a116c144a40cdb8d5b37e1ca99"><div class="ttname"><a href="classtest__stream_1_1stream__read__partial__context.html#ad17111a116c144a40cdb8d5b37e1ca99">test_stream::stream_read_partial_context::m_reader_partial_func</a></div><div class="ttdeci">cubstream::stream::read_partial_func_t m_reader_partial_func</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00064">test_stream.hpp:64</a></div></div>
<div class="ttc" id="test__stream_8hpp_html"><div class="ttname"><a href="test__stream_8hpp.html">test_stream.hpp</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a2b700b1f506f6287b8493a6369660da4"><div class="ttname"><a href="classcubpacking_1_1packer.html#a2b700b1f506f6287b8493a6369660da4">cubpacking::packer::get_packed_db_value_size</a></div><div class="ttdeci">size_t get_packed_db_value_size(const DB_VALUE &amp;value, size_t curr_offset)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00267">packer.cpp:267</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a2813874f29fde17b327317c2939bb649"><div class="ttname"><a href="classcubpacking_1_1packer.html#a2813874f29fde17b327317c2939bb649">cubpacking::packer::unpack_large_string</a></div><div class="ttdeci">int unpack_large_string(std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00405">packer.cpp:405</a></div></div>
<div class="ttc" id="classcubbase_1_1factory_html_a9f844442906d6ca7dccc3440449cb120"><div class="ttname"><a href="classcubbase_1_1factory.html#a9f844442906d6ca7dccc3440449cb120">cubbase::factory::register_creator</a></div><div class="ttdeci">int register_creator(object_key k, std::function&lt; object_base *()&gt; object_creator=default_creator&lt; object_type &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="object__factory_8hpp_source.html#l00044">object_factory.hpp:44</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_ab4aca8cc062b010040565adbdc1578f7"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#ab4aca8cc062b010040565adbdc1578f7">test_stream::stream_context_manager::g_read_byte_threads</a></div><div class="ttdeci">static int g_read_byte_threads</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00283">test_stream.hpp:283</a></div></div>
<div class="ttc" id="object__representation_8h_html_a22b7af061518aa52aaaad64993f13a59"><div class="ttname"><a href="object__representation_8h.html#a22b7af061518aa52aaaad64993f13a59">OR_PUT_INT</a></div><div class="ttdeci">#define OR_PUT_INT(ptr, val)</div><div class="ttdef"><b>Definition:</b> <a href="object__representation_8h_source.html#l00197">object_representation.h:197</a></div></div>
<div class="ttc" id="classcubstream_1_1stream_html_a22ec8d0eef848b45d6561e63e1cce192"><div class="ttname"><a href="classcubstream_1_1stream.html#a22ec8d0eef848b45d6561e63e1cce192">cubstream::stream::notify_func_t</a></div><div class="ttdeci">std::function&lt; int(const stream_position &amp;, const size_t)&gt; notify_func_t</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00055">cubstream.hpp:55</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a8aa41e19c1b659b387554b8050d3fb0c"><div class="ttname"><a href="classcubpacking_1_1packer.html#a8aa41e19c1b659b387554b8050d3fb0c">cubpacking::packer::unpack_int_array</a></div><div class="ttdeci">int unpack_int_array(int *array, int &amp;count)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00195">packer.cpp:195</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a7e7432ec03a2d7be495717f4aa79a160"><div class="ttname"><a href="classcubpacking_1_1packer.html#a7e7432ec03a2d7be495717f4aa79a160">cubpacking::packer::pack_db_value</a></div><div class="ttdeci">int pack_db_value(const DB_VALUE &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00275">packer.cpp:275</a></div></div>
<div class="ttc" id="dbtype__function_8h_html_a6edd49bcaa0e9845f0218bb182c25051"><div class="ttname"><a href="dbtype__function_8h.html#a6edd49bcaa0e9845f0218bb182c25051">db_make_char</a></div><div class="ttdeci">int db_make_char(DB_VALUE *value, const int char_length, const DB_C_CHAR str, const int char_str_byte_size, const int codeset, const int collation_id)</div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_aa9a5d469105addebfa428e0cc0faa312"><div class="ttname"><a href="classcubpacking_1_1packer.html#aa9a5d469105addebfa428e0cc0faa312">cubpacking::packer::get_packed_small_string_size</a></div><div class="ttdeci">size_t get_packed_small_string_size(const char *string, const size_t curr_offset)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00309">packer.cpp:309</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_a711a5b920a267cbbe0b26732f077ecfa"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#a711a5b920a267cbbe0b26732f077ecfa">test_stream::stream_context_manager::g_unpacked_entries</a></div><div class="ttdeci">static test_stream_entry ** g_unpacked_entries</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00286">test_stream.hpp:286</a></div></div>
<div class="ttc" id="dynamic__load_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="dynamic__load_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="dynamic__load_8c_source.html#l00955">dynamic_load.c:955</a></div></div>
<div class="ttc" id="classtest__stream_1_1test__stream__entry_html_ad3571779004ae9a7d27e9927d730e329"><div class="ttname"><a href="classtest__stream_1_1test__stream__entry.html#ad3571779004ae9a7d27e9927d730e329">test_stream::test_stream_entry::is_equal</a></div><div class="ttdeci">bool is_equal(const cubstream::entry&lt; cubpacking::packable_object &gt; *other)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00240">test_stream.hpp:240</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__producer__throttling_html_a4084075e1755b91a7f9156fac56933e7"><div class="ttname"><a href="classtest__stream_1_1stream__producer__throttling.html#a4084075e1755b91a7f9156fac56933e7">test_stream::stream_producer_throttling::m_notify_func</a></div><div class="ttdeci">cubstream::stream::notify_func_t m_notify_func</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00981">test_stream.cpp:981</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a7ffcb9a721d072c9218cedbd3fb3a1b4"><div class="ttname"><a href="classcubpacking_1_1packer.html#a7ffcb9a721d072c9218cedbd3fb3a1b4">cubpacking::packer::get_packed_large_string_size</a></div><div class="ttdeci">size_t get_packed_large_string_size(const std::string &amp;str, const size_t curr_offset)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00376">packer.cpp:376</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__pack__task_html_a6c7c8e5ccad28902c8d2bc6713af82b1"><div class="ttname"><a href="classtest__stream_1_1stream__pack__task.html#a6c7c8e5ccad28902c8d2bc6713af82b1">test_stream::stream_pack_task::m_tran_id</a></div><div class="ttdeci">int m_tran_id</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00309">test_stream.hpp:309</a></div></div>
<div class="ttc" id="dbtype__function_8h_html_a7d46a227511f7e6be3aa2c0f5eda65c1"><div class="ttname"><a href="dbtype__function_8h.html#a7d46a227511f7e6be3aa2c0f5eda65c1">db_make_double</a></div><div class="ttdeci">int db_make_double(DB_VALUE *value, const DB_C_DOUBLE num)</div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_a13d71473e0bff8e8ea4e8f7562540d0a"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#a13d71473e0bff8e8ea4e8f7562540d0a">test_stream::stream_context_manager::g_running_readers</a></div><div class="ttdeci">static std::bitset&lt; 1024 &gt; g_running_readers</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00299">test_stream.hpp:299</a></div></div>
<div class="ttc" id="namespacecubthread_html_a0fe46d939ce37d236bc84ee0bd3319c9"><div class="ttname"><a href="namespacecubthread.html#a0fe46d939ce37d236bc84ee0bd3319c9">cubthread::initialize</a></div><div class="ttdeci">void initialize(entry *&amp;my_entry)</div><div class="ttdef"><b>Definition:</b> <a href="thread__manager_8cpp_source.html#l00455">thread_manager.cpp:455</a></div></div>
<div class="ttc" id="dbtype__function_8h_html_a517705ea2963537e8a1f01d45faa1064"><div class="ttname"><a href="dbtype__function_8h.html#a517705ea2963537e8a1f01d45faa1064">db_make_int</a></div><div class="ttdeci">int db_make_int(DB_VALUE *value, const int num)</div></div>
<div class="ttc" id="classcubstream_1_1entry_html_a710a4a9291a5dd006f7350c1405da366"><div class="ttname"><a href="classcubstream_1_1entry.html#a710a4a9291a5dd006f7350c1405da366">cubstream::entry::unpack</a></div><div class="ttdeci">int unpack(void)</div><div class="ttdef"><b>Definition:</b> <a href="stream__entry_8hpp_source.html#l00269">stream_entry.hpp:269</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_a69cd3b58cd9783422f5b19cc56a18bad"><div class="ttname"><a href="classtest__stream_1_1po1.html#a69cd3b58cd9783422f5b19cc56a18bad">test_stream::po1::sh1</a></div><div class="ttdeci">short sh1</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00103">test_stream.hpp:103</a></div></div>
<div class="ttc" id="test__stream_8cpp_html_ac1d613d12956c98357a9b66496aae0dd"><div class="ttname"><a href="test__stream_8cpp.html#ac1d613d12956c98357a9b66496aae0dd">TEST_DELAY_UNPACK_IN_ENTRIES</a></div><div class="ttdeci">#define TEST_DELAY_UNPACK_IN_ENTRIES</div></div>
<div class="ttc" id="classcubstream_1_1stream_html_a0a5d48aa077c6f3c6e4b7d6f9ea758ea"><div class="ttname"><a href="classcubstream_1_1stream.html#a0a5d48aa077c6f3c6e4b7d6f9ea758ea">cubstream::stream::set_filled_stream_handler</a></div><div class="ttdeci">void set_filled_stream_handler(notify_func_t handler)</div><div class="ttdef"><b>Definition:</b> <a href="cubstream_8hpp_source.html#l00130">cubstream.hpp:130</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_a0b0b48aca7075935ffc887388eb8fa6e"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#a0b0b48aca7075935ffc887388eb8fa6e">test_stream::stream_context_manager::g_pause_packer</a></div><div class="ttdeci">static bool g_pause_packer</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00293">test_stream.hpp:293</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html"><div class="ttname"><a href="classcubpacking_1_1packer.html">cubpacking::packer</a></div><div class="ttdef"><b>Definition:</b> <a href="packer_8hpp_source.html#l00044">packer.hpp:44</a></div></div>
<div class="ttc" id="classtest__stream_1_1test__stream__entry_html"><div class="ttname"><a href="classtest__stream_1_1test__stream__entry.html">test_stream::test_stream_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00153">test_stream.hpp:153</a></div></div>
<div class="ttc" id="classtest__stream_1_1po2_html_a29837a61bd58b901e845529a33ef5de1"><div class="ttname"><a href="classtest__stream_1_1po2.html#a29837a61bd58b901e845529a33ef5de1">test_stream::po2::large_str</a></div><div class="ttdeci">std::string large_str</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00130">test_stream.hpp:130</a></div></div>
<div class="ttc" id="classcubstream_1_1multi__thread__stream_html_ab664cefc85ba099e858493488fafe402"><div class="ttname"><a href="classcubstream_1_1multi__thread__stream.html#ab664cefc85ba099e858493488fafe402">cubstream::multi_thread_stream::read_partial</a></div><div class="ttdeci">int read_partial(const stream_position first_pos, const size_t byte_count, size_t &amp;actual_read_bytes, read_partial_func_t &amp;read_partial_action)</div><div class="ttdef"><b>Definition:</b> <a href="multi__thread__stream_8cpp_source.html#l00269">multi_thread_stream.cpp:269</a></div></div>
<div class="ttc" id="thread__entry_8hpp_html"><div class="ttname"><a href="thread__entry_8hpp.html">thread_entry.hpp</a></div></div>
<div class="ttc" id="classcubstream_1_1entry_html_a42fe4876ff99b6feac1d75e3db82f490"><div class="ttname"><a href="classcubstream_1_1entry.html#a42fe4876ff99b6feac1d75e3db82f490">cubstream::entry::prepare</a></div><div class="ttdeci">int prepare(void)</div><div class="ttdef"><b>Definition:</b> <a href="stream__entry_8hpp_source.html#l00259">stream_entry.hpp:259</a></div></div>
<div class="ttc" id="namespacetest__stream_html_a630a75d16d2173c9847bda64a4c4d57e"><div class="ttname"><a href="namespacetest__stream.html#a630a75d16d2173c9847bda64a4c4d57e">test_stream::cub_th_m</a></div><div class="ttdeci">cubthread::manager * cub_th_m</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00448">test_stream.cpp:448</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a8cafe1936bd25403adcf83965222e4a4"><div class="ttname"><a href="classcubpacking_1_1packer.html#a8cafe1936bd25403adcf83965222e4a4">cubpacking::packer::pack_short</a></div><div class="ttdeci">int pack_short(short *value)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00106">packer.cpp:106</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html_aa607b9746fde408f99e57bfe261099c0"><div class="ttname"><a href="classtest__stream_1_1po1.html#aa607b9746fde408f99e57bfe261099c0">test_stream::po1::int_v</a></div><div class="ttdeci">std::vector&lt; int &gt; int_v</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00106">test_stream.hpp:106</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a77e09bdc41d79982f1d548b84d325c80"><div class="ttname"><a href="classcubpacking_1_1packer.html#a77e09bdc41d79982f1d548b84d325c80">cubpacking::packer::get_packed_bigint_size</a></div><div class="ttdeci">size_t get_packed_bigint_size(size_t curr_offset)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00128">packer.cpp:128</a></div></div>
<div class="ttc" id="classtest__stream_1_1po1_html"><div class="ttname"><a href="classtest__stream_1_1po1.html">test_stream::po1</a></div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00097">test_stream.hpp:97</a></div></div>
<div class="ttc" id="classtest__stream_1_1po2_html_ac334bdce52fc874c030f178668c95a29"><div class="ttname"><a href="classtest__stream_1_1po2.html#ac334bdce52fc874c030f178668c95a29">test_stream::po2::unpack</a></div><div class="ttdeci">int unpack(cubpacking::packer *serializator)</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8cpp_source.html#l00330">test_stream.cpp:330</a></div></div>
<div class="ttc" id="classcubpacking_1_1packer_html_a5df6063d7c82a66c5a7e854cbd61fe5a"><div class="ttname"><a href="classcubpacking_1_1packer.html#a5df6063d7c82a66c5a7e854cbd61fe5a">cubpacking::packer::pack_bigint</a></div><div class="ttdeci">int pack_bigint(std::int64_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="packer_8cpp_source.html#l00133">packer.cpp:133</a></div></div>
<div class="ttc" id="classtest__stream_1_1stream__context__manager_html_ac7d8afb6a0b8150ee2ddf36b9118e499"><div class="ttname"><a href="classtest__stream_1_1stream__context__manager.html#ac7d8afb6a0b8150ee2ddf36b9118e499">test_stream::stream_context_manager::g_cnt_packing_entries_per_thread</a></div><div class="ttdeci">static int g_cnt_packing_entries_per_thread</div><div class="ttdef"><b>Definition:</b> <a href="test__stream_8hpp_source.html#l00278">test_stream.hpp:278</a></div></div>
<div class="ttc" id="expat_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="expat_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">const char int len</div><div class="ttdef"><b>Definition:</b> <a href="expat_8h_source.html#l00713">expat.h:713</a></div></div>
<div class="ttc" id="namespacebrokerstatus__to__csv_html_a7ca0fa27ba263bef35f35ba796ac8973"><div class="ttname"><a href="namespacebrokerstatus__to__csv.html#a7ca0fa27ba263bef35f35ba796ac8973">brokerstatus_to_csv.m</a></div><div class="ttdeci">m</div><div class="ttdef"><b>Definition:</b> <a href="brokerstatus__to__csv_8py_source.html#l00050">brokerstatus_to_csv.py:50</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e7c608ee7a349a990cecd74a7d13d4b1.html">unit_tests</a></li><li class="navelem"><a class="el" href="dir_d0fc12ce647e5ac9e398270bd49be70a.html">stream</a></li><li class="navelem"><a class="el" href="test__stream_8cpp.html">test_stream.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
