<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CUBRID Engine: src/broker/shard_statement.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CUBRID Engine
   &#160;<span id="projectnumber">latest</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('shard__statement_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">shard_statement.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="shard__parser_8h_source.html">shard_parser.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="broker__config_8h_source.html">broker_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shard__proxy__queue_8h_source.html">shard_proxy_queue.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cas__protocol_8h_source.html">cas_protocol.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for shard_statement.h:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h__incl.png" border="0" usemap="#src_2broker_2shard__statement_8h" alt=""/></div>
<map name="src_2broker_2shard__statement_8h" id="src_2broker_2shard__statement_8h">
<area shape="rect" id="node2" href="shard__parser_8h.html" title="shard_parser.h" alt="" coords="247,80,355,107"/>
<area shape="rect" id="node9" href="broker__config_8h.html" title="broker_config.h" alt="" coords="669,80,779,107"/>
<area shape="rect" id="node11" href="cas__protocol_8h.html" title="cas_protocol.h" alt="" coords="577,155,684,181"/>
<area shape="rect" id="node14" href="shard__proxy__queue_8h.html" title="shard_proxy_queue.h" alt="" coords="903,80,1049,107"/>
<area shape="rect" id="node8" href="error__code_8h.html" title="error_code.h" alt="" coords="458,155,553,181"/>
<area shape="rect" id="node12" href="environment__variable_8h.html" title="environment_variable.h" alt="" coords="759,155,915,181"/>
<area shape="rect" id="node13" href="porting_8h.html" title="porting.h" alt="" coords="940,155,1012,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h__dep__incl.png" border="0" usemap="#src_2broker_2shard__statement_8hdep" alt=""/></div>
<map name="src_2broker_2shard__statement_8hdep" id="src_2broker_2shard__statement_8hdep">
<area shape="rect" id="node2" href="shard__proxy__common_8h.html" title="src/broker/shard_proxy\l_common.h" alt="" coords="404,80,559,121"/>
<area shape="rect" id="node5" href="shard__proxy_8h.html" title="src/broker/shard_proxy.h" alt="" coords="721,266,887,293"/>
<area shape="rect" id="node6" href="shard__proxy__function_8c.html" title="src/broker/shard_proxy\l_function.c" alt="" coords="877,348,1032,389"/>
<area shape="rect" id="node7" href="shard__statement_8c.html" title="src/broker/shard_statement.c" alt="" coords="39,355,231,382"/>
<area shape="rect" id="node3" href="shard__shm_8h.html" title="src/broker/shard_shm.h" alt="" coords="106,177,265,203"/>
<area shape="rect" id="node4" href="broker__proxy__conn_8c.html" title="src/broker/broker_proxy\l_conn.c" alt="" coords="55,259,214,300"/>
<area shape="rect" id="node8" href="shard__proxy__handler_8c.html" title="src/broker/shard_proxy\l_handler.c" alt="" coords="533,259,688,300"/>
<area shape="rect" id="node9" href="shard__proxy__io_8h.html" title="src/broker/shard_proxy_io.h" alt="" coords="519,177,702,203"/>
<area shape="rect" id="node10" href="shard__proxy__handler_8h.html" title="src/broker/shard_proxy\l_handler.h" alt="" coords="727,169,881,211"/>
<area shape="rect" id="node11" href="shard__proxy__function_8h.html" title="src/broker/shard_proxy\l_function.h" alt="" coords="905,169,1060,211"/>
<area shape="rect" id="node12" href="shard__proxy__queue_8c.html" title="src/broker/shard_proxy\l_queue.c" alt="" coords="289,169,444,211"/>
</map>
</div>
</div>
<p><a href="shard__statement_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt__shard__stmt.html">t_shard_stmt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt__shard__stmt__global.html">t_shard_stmt_global</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab0dede48ae9f2e86c296e90dc48fe6c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#ab0dede48ae9f2e86c296e90dc48fe6c6">SHARD_STMT_INVALID_HANDLE_ID</a>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:ab0dede48ae9f2e86c296e90dc48fe6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2725445e6e3b6ee3f7e001bf78cab84e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a2725445e6e3b6ee3f7e001bf78cab84e">SHARD_STMT_MAX_NUM_ALLOC</a>&#160;&#160;&#160;(8192)</td></tr>
<tr class="separator:a2725445e6e3b6ee3f7e001bf78cab84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab6d7364fedcd498e332803c69dd4c8c6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structt__shard__stmt.html">t_shard_stmt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a></td></tr>
<tr class="separator:ab6d7364fedcd498e332803c69dd4c8c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd967648ffb2be595122b9439a736bc"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structt__shard__stmt__global.html">t_shard_stmt_global</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#aebd967648ffb2be595122b9439a736bc">T_SHARD_STMT_GLOBAL</a></td></tr>
<tr class="separator:aebd967648ffb2be595122b9439a736bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac205be2172292384dd687b5471a87edd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="shard__statement_8h.html#ac205be2172292384dd687b5471a87eddaeff572faf8cee7aea53eead40e1bac8d">SHARD_STMT_STATUS_UNUSED</a> = 0, 
<a class="el" href="shard__statement_8h.html#ac205be2172292384dd687b5471a87eddad4f953d6a97c0162cff92d6023be82ac">SHARD_STMT_STATUS_IN_PROGRESS</a> = 1, 
<a class="el" href="shard__statement_8h.html#ac205be2172292384dd687b5471a87edda4f128dac36e716be8b0e30f6b69d046b">SHARD_STMT_STATUS_COMPLETE</a> = 2, 
<a class="el" href="shard__statement_8h.html#ac205be2172292384dd687b5471a87edda55c73947bcebb231109780e319039525">SHARD_STMT_STATUS_INVALID</a> = 3
 }</td></tr>
<tr class="separator:ac205be2172292384dd687b5471a87edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157d5577a5b2f5986037d0d09c7dc77d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="shard__statement_8h.html#a157d5577a5b2f5986037d0d09c7dc77da3a90286bf66d55e612c3b5d7b09da47f">SHARD_STMT_TYPE_PREPARED</a> = 0, 
<a class="el" href="shard__statement_8h.html#a157d5577a5b2f5986037d0d09c7dc77da9d1a1bf56dfdeb64ae0d72f89d053858">SHARD_STMT_TYPE_SCHEMA_INFO</a> = 1, 
<a class="el" href="shard__statement_8h.html#a157d5577a5b2f5986037d0d09c7dc77daeb68e30f42884a8839389c15e86e9d06">SHARD_STMT_TYPE_EXCLUSIVE</a> = 2
 }</td></tr>
<tr class="separator:a157d5577a5b2f5986037d0d09c7dc77d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2bca083bc38dff42bf2fa3994c9db5d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a2bca083bc38dff42bf2fa3994c9db5d5">shard_stmt_find_by_sql</a> (char *sql_stmt, <a class="el" href="cnvlex_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *db_user, <a class="el" href="cas__protocol_8h.html#ab63717ee4baef56efb96fb6f5f81fe7a">T_BROKER_VERSION</a> client_version)</td></tr>
<tr class="separator:a2bca083bc38dff42bf2fa3994c9db5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aff41ad99bb609ff2989bb8a16623f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a7aff41ad99bb609ff2989bb8a16623f9">shard_stmt_find_by_stmt_h_id</a> (int stmt_h_id)</td></tr>
<tr class="separator:a7aff41ad99bb609ff2989bb8a16623f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe19e2087c07a870947918e8555d8188"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#afe19e2087c07a870947918e8555d8188">shard_stmt_pin</a> (<a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *stmt_p)</td></tr>
<tr class="separator:afe19e2087c07a870947918e8555d8188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44521406d2f264745709bc8e2807a6b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a44521406d2f264745709bc8e2807a6b1">shard_stmt_unpin</a> (<a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *stmt_p)</td></tr>
<tr class="separator:a44521406d2f264745709bc8e2807a6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7969975423ac3d9ff85eaeb4575abb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#af7969975423ac3d9ff85eaeb4575abb4">shard_stmt_check_waiter_and_wakeup</a> (<a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *stmt_p)</td></tr>
<tr class="separator:af7969975423ac3d9ff85eaeb4575abb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87098b78180800080edd6faf904b84f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a87098b78180800080edd6faf904b84f2">shard_stmt_new_prepared_stmt</a> (char *sql_stmt, int ctx_cid, unsigned int ctx_uid, <a class="el" href="cas__protocol_8h.html#ab63717ee4baef56efb96fb6f5f81fe7a">T_BROKER_VERSION</a> client_version)</td></tr>
<tr class="separator:a87098b78180800080edd6faf904b84f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632307c0bef7db59b6cec6ffc6c2955e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a632307c0bef7db59b6cec6ffc6c2955e">shard_stmt_new_schema_info</a> (int ctx_cid, unsigned int ctx_uid)</td></tr>
<tr class="separator:a632307c0bef7db59b6cec6ffc6c2955e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7e36e535ccea7c8197b4a65d8464ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a6b7e36e535ccea7c8197b4a65d8464ab">shard_stmt_new_exclusive</a> (char *sql_stmt, int ctx_cid, unsigned int ctx_uid, <a class="el" href="cas__protocol_8h.html#ab63717ee4baef56efb96fb6f5f81fe7a">T_BROKER_VERSION</a> client_version)</td></tr>
<tr class="separator:a6b7e36e535ccea7c8197b4a65d8464ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad794fa513234dc2ba369d25e1d537928"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#ad794fa513234dc2ba369d25e1d537928">shard_stmt_free</a> (<a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *stmt_p)</td></tr>
<tr class="separator:ad794fa513234dc2ba369d25e1d537928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf2497644f25b5bfbab3af8e8752231"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a9bf2497644f25b5bfbab3af8e8752231">shard_stmt_destroy</a> (void)</td></tr>
<tr class="separator:a9bf2497644f25b5bfbab3af8e8752231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99739bc79e1da316b8e172687fa1f0cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a99739bc79e1da316b8e172687fa1f0cc">shard_stmt_find_srv_h_id_for_shard_cas</a> (int stmt_h_id, int shard_id, int cas_id)</td></tr>
<tr class="separator:a99739bc79e1da316b8e172687fa1f0cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37f176826e6e1b2f504041ed49de043"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#ab37f176826e6e1b2f504041ed49de043">shard_stmt_add_srv_h_id_for_shard_cas</a> (int stmt_h_id, int shard_id, int cas_id, int srv_h_id)</td></tr>
<tr class="separator:ab37f176826e6e1b2f504041ed49de043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad10e7be1966e981939b98fefb31f13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a8ad10e7be1966e981939b98fefb31f13">shard_stmt_del_srv_h_id_for_shard_cas</a> (int stmt_h_id, int shard_id, int cas_id)</td></tr>
<tr class="separator:a8ad10e7be1966e981939b98fefb31f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57de10f1db5b98d89e654cf3f79ee07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#ae57de10f1db5b98d89e654cf3f79ee07">shard_stmt_del_all_srv_h_id_for_shard_cas</a> (int shard_id, int cas_id)</td></tr>
<tr class="separator:ae57de10f1db5b98d89e654cf3f79ee07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23fefc14f19e234655152950ac0caac6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a23fefc14f19e234655152950ac0caac6">shard_stmt_set_hint_list</a> (<a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *stmt_p)</td></tr>
<tr class="separator:a23fefc14f19e234655152950ac0caac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e410f36ff283835d1baf80df6b2d56e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a7e410f36ff283835d1baf80df6b2d56e">shard_stmt_get_hint_type</a> (<a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *stmt_p)</td></tr>
<tr class="separator:a7e410f36ff283835d1baf80df6b2d56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cef2bd5bca384d745b7ea15d5eb5e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a68cef2bd5bca384d745b7ea15d5eb5e1">shard_stmt_save_prepare_request</a> (<a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *stmt_p, <a class="el" href="dbi__compat_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> has_shard_val_hint, char **prepare_req, int *prepare_req_len, char *argv_sql_stmt, char *argv_remainder, char *orgzd_sql)</td></tr>
<tr class="separator:a68cef2bd5bca384d745b7ea15d5eb5e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1df96d5d29fbfa4e87a625e0af871e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#ade1df96d5d29fbfa4e87a625e0af871e">shard_str_stmt</a> (<a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *stmt_p)</td></tr>
<tr class="separator:ade1df96d5d29fbfa4e87a625e0af871e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77fe89a17aa1d70f2c3484b5ad5b548"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#af77fe89a17aa1d70f2c3484b5ad5b548">shard_stmt_initialize</a> (int initial_size)</td></tr>
<tr class="separator:af77fe89a17aa1d70f2c3484b5ad5b548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fa963afea776def3c65b3aa56b2a812"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a7fa963afea776def3c65b3aa56b2a812">shard_stmt_rewrite_sql</a> (<a class="el" href="dbi__compat_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *has_shard_val_hint, char *sql_stmt, char appl_server)</td></tr>
<tr class="separator:a7fa963afea776def3c65b3aa56b2a812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92335d3c488be8602104eb19902e3e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#aa92335d3c488be8602104eb19902e3e5">shard_statement_wait_timer</a> (void)</td></tr>
<tr class="separator:aa92335d3c488be8602104eb19902e3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699693c586c265d82e65e0432538456b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#a699693c586c265d82e65e0432538456b">shard_stmt_set_status_invalid</a> (int stmt_h_id)</td></tr>
<tr class="separator:a699693c586c265d82e65e0432538456b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1684a3261f23ec53741e8257045d04a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shard__statement_8h.html#ad1684a3261f23ec53741e8257045d04a">shard_stmt_set_status_complete</a> (int stmt_h_id)</td></tr>
<tr class="separator:ad1684a3261f23ec53741e8257045d04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab0dede48ae9f2e86c296e90dc48fe6c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHARD_STMT_INVALID_HANDLE_ID&#160;&#160;&#160;(-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8h_source.html#l00035">35</a> of file <a class="el" href="shard__statement_8h_source.html">shard_statement.h</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l03584">fn_proxy_cas_prepare_and_execute()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l03299">proxy_cas_execute_internal()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01106">proxy_context_clear()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01447">proxy_context_timeout()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l00375">proxy_handler_process_cas_response()</a>, <a class="el" href="shard__statement_8c_source.html#l00777">shard_stmt_del_all_srv_h_id_for_shard_cas()</a>, <a class="el" href="shard__statement_8c_source.html#l00752">shard_stmt_del_srv_h_id_for_shard_cas()</a>, <a class="el" href="shard__statement_8c_source.html#l00557">shard_stmt_destroy()</a>, <a class="el" href="shard__statement_8c_source.html#l00686">shard_stmt_find_srv_h_id_for_shard_cas()</a>, <a class="el" href="shard__statement_8c_source.html#l00618">shard_stmt_free()</a>, <a class="el" href="shard__statement_8c_source.html#l01051">shard_stmt_initialize()</a>, and <a class="el" href="shard__statement_8c_source.html#l00412">shard_stmt_new_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a2725445e6e3b6ee3f7e001bf78cab84e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHARD_STMT_MAX_NUM_ALLOC&#160;&#160;&#160;(8192)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8h_source.html#l00036">36</a> of file <a class="el" href="shard__statement_8h_source.html">shard_statement.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ab6d7364fedcd498e332803c69dd4c8c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structt__shard__stmt.html">t_shard_stmt</a> <a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8h_source.html#l00053">53</a> of file <a class="el" href="shard__statement_8h_source.html">shard_statement.h</a>.</p>

</div>
</div>
<a class="anchor" id="aebd967648ffb2be595122b9439a736bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structt__shard__stmt__global.html">t_shard_stmt_global</a> <a class="el" href="shard__statement_8h.html#aebd967648ffb2be595122b9439a736bc">T_SHARD_STMT_GLOBAL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8h_source.html#l00087">87</a> of file <a class="el" href="shard__statement_8h_source.html">shard_statement.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ac205be2172292384dd687b5471a87edd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ac205be2172292384dd687b5471a87eddaeff572faf8cee7aea53eead40e1bac8d"></a>SHARD_STMT_STATUS_UNUSED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac205be2172292384dd687b5471a87eddad4f953d6a97c0162cff92d6023be82ac"></a>SHARD_STMT_STATUS_IN_PROGRESS&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac205be2172292384dd687b5471a87edda4f128dac36e716be8b0e30f6b69d046b"></a>SHARD_STMT_STATUS_COMPLETE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac205be2172292384dd687b5471a87edda55c73947bcebb231109780e319039525"></a>SHARD_STMT_STATUS_INVALID&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="shard__statement_8h_source.html#l00038">38</a> of file <a class="el" href="shard__statement_8h_source.html">shard_statement.h</a>.</p>

</div>
</div>
<a class="anchor" id="a157d5577a5b2f5986037d0d09c7dc77d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a157d5577a5b2f5986037d0d09c7dc77da3a90286bf66d55e612c3b5d7b09da47f"></a>SHARD_STMT_TYPE_PREPARED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a157d5577a5b2f5986037d0d09c7dc77da9d1a1bf56dfdeb64ae0d72f89d053858"></a>SHARD_STMT_TYPE_SCHEMA_INFO&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a157d5577a5b2f5986037d0d09c7dc77daeb68e30f42884a8839389c15e86e9d06"></a>SHARD_STMT_TYPE_EXCLUSIVE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="shard__statement_8h_source.html#l00046">46</a> of file <a class="el" href="shard__statement_8h_source.html">shard_statement.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa92335d3c488be8602104eb19902e3e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shard_statement_wait_timer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l01404">1404</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="dynamic__load_8c_source.html#l00954">i</a>, <a class="el" href="shard__statement_8h_source.html#l00090">t_shard_stmt_global::max_num_stmt</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l00199">proxy_waiter_timeout()</a>, <a class="el" href="shard__statement_8h_source.html#l00040">SHARD_STMT_STATUS_UNUSED</a>, <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>, <a class="el" href="shard__statement_8h_source.html#l00098">t_shard_stmt_global::stmt_ent</a>, <a class="el" href="broker__shm_8h_source.html#l00480">t_proxy_info::stmt_waiter_count</a>, and <a class="el" href="shard__statement_8h_source.html#l00082">t_shard_stmt::waitq</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__handler_8c_source.html#l01935">proxy_timer_process()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_aa92335d3c488be8602104eb19902e3e5_icgraph.png" border="0" usemap="#shard__statement_8h_aa92335d3c488be8602104eb19902e3e5_icgraph" alt=""/></div>
<map name="shard__statement_8h_aa92335d3c488be8602104eb19902e3e5_icgraph" id="shard__statement_8h_aa92335d3c488be8602104eb19902e3e5_icgraph">
<area shape="rect" id="node2" href="shard__proxy__handler_8h.html#aac1822128b1cc74160782511663afa5c" title="proxy_timer_process" alt="" coords="204,13,347,39"/>
<area shape="rect" id="node3" href="shard__proxy_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="395,13,445,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab37f176826e6e1b2f504041ed49de043"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shard_stmt_add_srv_h_id_for_shard_cas </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stmt_h_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cas_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>srv_h_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00715">715</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="gencat_8c_source.html#l00331">error()</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00097">PROXY_DEBUG_LOG</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__statement_8c_source.html#l00368">shard_stmt_check_waiter_and_wakeup()</a>, <a class="el" href="shard__statement_8c_source.html#l00272">shard_stmt_find_by_stmt_h_id()</a>, <a class="el" href="shard__statement_8c_source.html#l00183">shard_stmt_set_srv_h_id()</a>, <a class="el" href="shard__statement_8c_source.html#l01432">shard_stmt_set_status_complete()</a>, <a class="el" href="shard__statement_8h_source.html#l00041">SHARD_STMT_STATUS_IN_PROGRESS</a>, <a class="el" href="shard__statement_8c_source.html#l01030">shard_str_stmt()</a>, and <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l03016">fn_proxy_cas_prepare()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l03584">fn_proxy_cas_prepare_and_execute()</a>, and <a class="el" href="shard__proxy__function_8c_source.html#l03467">fn_proxy_cas_schema_info()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_ab37f176826e6e1b2f504041ed49de043_icgraph.png" border="0" usemap="#shard__statement_8h_ab37f176826e6e1b2f504041ed49de043_icgraph" alt=""/></div>
<map name="shard__statement_8h_ab37f176826e6e1b2f504041ed49de043_icgraph" id="shard__statement_8h_ab37f176826e6e1b2f504041ed49de043_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#aecdb57a783bffc4f067a7931e8872525" title="fn_proxy_cas_prepare" alt="" coords="211,5,362,32"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#ac888edbb86b1408f235a33d0132d610e" title="fn_proxy_cas_prepare\l_and_execute" alt="" coords="211,57,362,98"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#a818351d6751490b290d168f2fa604bba" title="fn_proxy_cas_schema_info" alt="" coords="196,123,377,149"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af7969975423ac3d9ff85eaeb4575abb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shard_stmt_check_waiter_and_wakeup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td>
          <td class="paramname"><em>stmt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00368">368</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="malloc__2__8__3_8c_source.html#l01204">assert</a>, <a class="el" href="shard__statement_8h_source.html#l00065">t_shard_stmt::ctx_cid</a>, <a class="el" href="shard__proxy__common_8h_source.html#l00097">t_wait_context::ctx_cid</a>, <a class="el" href="shard__statement_8h_source.html#l00066">t_shard_stmt::ctx_uid</a>, <a class="el" href="shard__proxy__common_8h_source.html#l00098">t_wait_context::ctx_uid</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00112">ENTER_FUNC</a>, <a class="el" href="gencat_8c_source.html#l00331">error()</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00118">EXIT_FUNC</a>, <a class="el" href="cas__common_8h_source.html#l00058">FREE_MEM</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00097">PROXY_DEBUG_LOG</a>, <a class="el" href="shard__proxy__common_8h_source.html#l00051">PROXY_INVALID_CONTEXT</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01650">proxy_wakeup_context_by_statement()</a>, <a class="el" href="shard__proxy__queue_8c_source.html#l00132">shard_queue_dequeue()</a>, <a class="el" href="shard__statement_8h_source.html#l00048">SHARD_STMT_TYPE_PREPARED</a>, <a class="el" href="shard__statement_8c_source.html#l01030">shard_str_stmt()</a>, <a class="el" href="shard__statement_8h_source.html#l00061">t_shard_stmt::stmt_type</a>, <a class="el" href="broker__shm_8h_source.html#l00480">t_proxy_info::stmt_waiter_count</a>, and <a class="el" href="shard__statement_8h_source.html#l00082">t_shard_stmt::waitq</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l03016">fn_proxy_cas_prepare()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l03467">fn_proxy_cas_schema_info()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l02616">fn_proxy_client_prepare_and_execute()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01106">proxy_context_clear()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01447">proxy_context_timeout()</a>, and <a class="el" href="shard__statement_8c_source.html#l00715">shard_stmt_add_srv_h_id_for_shard_cas()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_af7969975423ac3d9ff85eaeb4575abb4_icgraph.png" border="0" usemap="#shard__statement_8h_af7969975423ac3d9ff85eaeb4575abb4_icgraph" alt=""/></div>
<map name="shard__statement_8h_af7969975423ac3d9ff85eaeb4575abb4_icgraph" id="shard__statement_8h_af7969975423ac3d9ff85eaeb4575abb4_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#aecdb57a783bffc4f067a7931e8872525" title="fn_proxy_cas_prepare" alt="" coords="447,5,598,32"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#a818351d6751490b290d168f2fa604bba" title="fn_proxy_cas_schema_info" alt="" coords="432,133,613,160"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="224,123,384,149"/>
<area shape="rect" id="node5" href="shard__proxy__function_8h.html#a311b744e4b544961d2d2f9e8e85bc6dc" title="fn_proxy_client_prepare\l_and_execute" alt="" coords="224,174,384,215"/>
<area shape="rect" id="node6" href="shard__proxy__handler_8c.html#a6983e3735299cf70641ac2509a4c751c" title="proxy_context_clear" alt="" coords="235,291,373,317"/>
<area shape="rect" id="node10" href="shard__proxy__handler_8h.html#a86838f575fd30c5fbbd1af7a5f3f577c" title="proxy_context_timeout" alt="" coords="227,345,381,372"/>
<area shape="rect" id="node12" href="shard__statement_8h.html#ab37f176826e6e1b2f504041ed49de043" title="shard_stmt_add_srv\l_h_id_for_shard_cas" alt="" coords="233,57,375,98"/>
<area shape="rect" id="node7" href="shard__proxy__handler_8h.html#ad47624c26abea442faf5abe0f241adaf" title="proxy_context_free" alt="" coords="456,280,589,307"/>
<area shape="rect" id="node8" href="shard__proxy__handler_8c.html#a59229032b84f12d4bb10fe36f392dd82" title="proxy_context_initialize" alt="" coords="443,331,602,357"/>
<area shape="rect" id="node9" href="shard__proxy__handler_8h.html#ab3b7dbc74c3d6cf94ce046a4fcfaa1db" title="proxy_context_new" alt="" coords="455,205,590,232"/>
<area shape="rect" id="node11" href="shard__proxy__handler_8h.html#a78c628da2868a1445fe48e8752446ebd" title="proxy_waiter_timeout" alt="" coords="449,381,596,408"/>
<area shape="rect" id="node13" href="shard__proxy__function_8h.html#ac888edbb86b1408f235a33d0132d610e" title="fn_proxy_cas_prepare\l_and_execute" alt="" coords="447,57,598,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae57de10f1db5b98d89e654cf3f79ee07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shard_stmt_del_all_srv_h_id_for_shard_cas </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cas_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00777">777</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="shard__proxy__log_8h_source.html#l00112">ENTER_FUNC</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00118">EXIT_FUNC</a>, <a class="el" href="dynamic__load_8c_source.html#l00954">i</a>, <a class="el" href="shard__statement_8h_source.html#l00090">t_shard_stmt_global::max_num_stmt</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00035">SHARD_STMT_INVALID_HANDLE_ID</a>, <a class="el" href="shard__statement_8c_source.html#l00147">shard_stmt_pos_srv_h_id()</a>, <a class="el" href="shard__statement_8h_source.html#l00040">SHARD_STMT_STATUS_UNUSED</a>, <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>, and <a class="el" href="shard__statement_8h_source.html#l00098">t_shard_stmt_global::stmt_ent</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__io_8c_source.html#l03426">proxy_cas_io_free()</a>, <a class="el" href="shard__proxy__io_8c_source.html#l03486">proxy_cas_io_free_by_ctx()</a>, and <a class="el" href="shard__proxy__io_8c_source.html#l04575">proxy_set_conn_info()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_ae57de10f1db5b98d89e654cf3f79ee07_icgraph.png" border="0" usemap="#shard__statement_8h_ae57de10f1db5b98d89e654cf3f79ee07_icgraph" alt=""/></div>
<map name="shard__statement_8h_ae57de10f1db5b98d89e654cf3f79ee07_icgraph" id="shard__statement_8h_ae57de10f1db5b98d89e654cf3f79ee07_icgraph">
<area shape="rect" id="node2" href="shard__proxy__io_8c.html#afd8b3006c4a294f7b125f3d11a9a5180" title="proxy_cas_io_free" alt="" coords="243,97,371,123"/>
<area shape="rect" id="node6" href="shard__proxy__io_8c.html#acd4c8208e5e6aac1121f57709338637f" title="proxy_cas_io_free_by_ctx" alt="" coords="220,181,395,207"/>
<area shape="rect" id="node8" href="shard__proxy__io_8c.html#aa9229ea15f33067b00ac5a272f78d428" title="proxy_set_conn_info" alt="" coords="236,235,379,262"/>
<area shape="rect" id="node3" href="shard__proxy__io_8c.html#a6cd5f4c2ee4e3bbc10ac11b912d93d09" title="proxy_process_cas_conn\l_error" alt="" coords="455,5,625,47"/>
<area shape="rect" id="node4" href="shard__proxy__io_8c.html#aafb0cf99242ce0ad1674778debf4dc3e" title="proxy_process_cas_register" alt="" coords="447,71,633,98"/>
<area shape="rect" id="node5" href="shard__proxy__io_8c.html#a70f18e9cbd54b9090ae417ed4a1240d2" title="proxy_process_cas_response" alt="" coords="443,122,637,149"/>
<area shape="rect" id="node7" href="shard__proxy__handler_8c.html#a57d8b1826ce543874e720e82819ed5c2" title="proxy_context_free\l_shard" alt="" coords="473,173,607,215"/>
<area shape="rect" id="node9" href="shard__proxy__io_8h.html#aa34e072553d768be5d8a6f7117edf722" title="proxy_cas_alloc_by_ctx" alt="" coords="459,239,621,266"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8ad10e7be1966e981939b98fefb31f13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shard_stmt_del_srv_h_id_for_shard_cas </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stmt_h_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cas_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00752">752</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="shard__proxy__log_8h_source.html#l00112">ENTER_FUNC</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00118">EXIT_FUNC</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__statement_8c_source.html#l00272">shard_stmt_find_by_stmt_h_id()</a>, <a class="el" href="shard__statement_8h_source.html#l00035">SHARD_STMT_INVALID_HANDLE_ID</a>, and <a class="el" href="shard__statement_8c_source.html#l00147">shard_stmt_pos_srv_h_id()</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l01849">fn_proxy_client_close_req_handle()</a>, and <a class="el" href="shard__proxy__function_8c_source.html#l03299">proxy_cas_execute_internal()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a8ad10e7be1966e981939b98fefb31f13_icgraph.png" border="0" usemap="#shard__statement_8h_a8ad10e7be1966e981939b98fefb31f13_icgraph" alt=""/></div>
<map name="shard__statement_8h_a8ad10e7be1966e981939b98fefb31f13_icgraph" id="shard__statement_8h_a8ad10e7be1966e981939b98fefb31f13_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#af13e59aea5d93ed2372e208df6affd42" title="fn_proxy_client_close\l_req_handle" alt="" coords="214,5,362,47"/>
<area shape="rect" id="node3" href="shard__proxy__function_8c.html#ac044d2d1f930db973b1646e0fb1fb45b" title="proxy_cas_execute_internal" alt="" coords="196,71,380,98"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#aabf8ebb5eb0da01ce48ba0f0d3283a6f" title="fn_proxy_cas_execute" alt="" coords="428,42,581,69"/>
<area shape="rect" id="node5" href="shard__proxy__function_8h.html#a27476fd33bcbf783fd85b4a63cc32e64" title="fn_proxy_cas_execute\l_array" alt="" coords="428,93,581,135"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9bf2497644f25b5bfbab3af8e8752231"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shard_stmt_destroy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00557">557</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="shard__statement_8h_source.html#l00065">t_shard_stmt::ctx_cid</a>, <a class="el" href="shard__statement_8h_source.html#l00066">t_shard_stmt::ctx_uid</a>, <a class="el" href="cas__common_8h_source.html#l00058">FREE_MEM</a>, <a class="el" href="dynamic__load_8c_source.html#l00954">i</a>, <a class="el" href="shard__statement_8h_source.html#l00095">t_shard_stmt_global::lru</a>, <a class="el" href="shard__statement_8h_source.html#l00070">t_shard_stmt::lru_next</a>, <a class="el" href="shard__statement_8h_source.html#l00071">t_shard_stmt::lru_prev</a>, <a class="el" href="shard__statement_8h_source.html#l00092">t_shard_stmt_global::max_num_shard</a>, <a class="el" href="shard__statement_8h_source.html#l00090">t_shard_stmt_global::max_num_stmt</a>, <a class="el" href="memory__hash_8c_source.html#l01140">mht_destroy()</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00093">t_shard_stmt_global::num_cas_per_shard</a>, <a class="el" href="shard__statement_8h_source.html#l00069">t_shard_stmt::num_pinned</a>, <a class="el" href="shard__statement_8h_source.html#l00075">t_shard_stmt::parser</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00097">PROXY_DEBUG_LOG</a>, <a class="el" href="shard__proxy__common_8h_source.html#l00051">PROXY_INVALID_CONTEXT</a>, <a class="el" href="shard__statement_8h_source.html#l00080">t_shard_stmt::reply_buffer</a>, <a class="el" href="shard__statement_8h_source.html#l00079">t_shard_stmt::reply_buffer_length</a>, <a class="el" href="shard__statement_8h_source.html#l00078">t_shard_stmt::request_buffer</a>, <a class="el" href="shard__statement_8h_source.html#l00077">t_shard_stmt::request_buffer_length</a>, <a class="el" href="shard__proxy__queue_8c_source.html#l00188">shard_queue_destroy()</a>, <a class="el" href="shard__statement_8h_source.html#l00035">SHARD_STMT_INVALID_HANDLE_ID</a>, <a class="el" href="shard__statement_8c_source.html#l00100">shard_stmt_lru_delete()</a>, <a class="el" href="shard__statement_8h_source.html#l00040">SHARD_STMT_STATUS_UNUSED</a>, <a class="el" href="shard__statement_8c_source.html#l01030">shard_str_stmt()</a>, <a class="el" href="shard__parser_8c_source.html#l00116">sp_destroy_parser()</a>, <a class="el" href="shard__statement_8h_source.html#l00084">t_shard_stmt::srv_h_id_ent</a>, <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>, <a class="el" href="shard__statement_8h_source.html#l00098">t_shard_stmt_global::stmt_ent</a>, <a class="el" href="shard__statement_8h_source.html#l00059">t_shard_stmt::stmt_h_id</a>, <a class="el" href="shard__statement_8h_source.html#l00100">t_shard_stmt_global::stmt_map</a>, and <a class="el" href="shard__statement_8h_source.html#l00082">t_shard_stmt::waitq</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy_8c_source.html#l00065">proxy_term()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a9bf2497644f25b5bfbab3af8e8752231_icgraph.png" border="0" usemap="#shard__statement_8h_a9bf2497644f25b5bfbab3af8e8752231_icgraph" alt=""/></div>
<map name="shard__statement_8h_a9bf2497644f25b5bfbab3af8e8752231_icgraph" id="shard__statement_8h_a9bf2497644f25b5bfbab3af8e8752231_icgraph">
<area shape="rect" id="node2" href="shard__proxy__io_8c.html#af8dabac7299257b7ee280e9b9df2e7d2" title="proxy_term" alt="" coords="191,31,277,57"/>
<area shape="rect" id="node3" href="shard__proxy_8c.html#a7bcc474b7fe83d33f3ca92a93bb61403" title="cleanup" alt="" coords="325,5,392,32"/>
<area shape="rect" id="node4" href="shard__proxy_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="440,31,491,57"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2bca083bc38dff42bf2fa3994c9db5d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a>* shard_stmt_find_by_sql </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sql_stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cnvlex_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>db_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cas__protocol_8h.html#ab63717ee4baef56efb96fb6f5f81fe7a">T_BROKER_VERSION</a>&#160;</td>
          <td class="paramname"><em>client_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00222">222</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="broker__shm_8h_source.html#l00470">t_proxy_info::appl_server</a>, <a class="el" href="broker__config_8h_source.html#l00037">APPL_SERVER_CAS_MYSQL</a>, <a class="el" href="malloc__2__8__3_8c_source.html#l01204">assert</a>, <a class="el" href="shard__statement_8h_source.html#l00063">t_shard_stmt::client_version</a>, <a class="el" href="shard__statement_8h_source.html#l00067">t_shard_stmt::database_user</a>, <a class="el" href="shard__statement_8h_source.html#l00072">t_shard_stmt::hash_next</a>, <a class="el" href="memory__hash_8c_source.html#l01419">mht_get()</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00075">t_shard_stmt::parser</a>, <a class="el" href="shard__statement_8c_source.html#l00198">shard_stmt_make_protocol_version()</a>, <a class="el" href="shard__statement_8h_source.html#l00043">SHARD_STMT_STATUS_INVALID</a>, <a class="el" href="shard__statement_8h_source.html#l00040">SHARD_STMT_STATUS_UNUSED</a>, <a class="el" href="shard__statement_8h_source.html#l00048">SHARD_STMT_TYPE_PREPARED</a>, <a class="el" href="shard__parser_8c_source.html#l00197">sp_get_sql_stmt()</a>, <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>, <a class="el" href="shard__statement_8h_source.html#l00100">t_shard_stmt_global::stmt_map</a>, and <a class="el" href="shard__statement_8h_source.html#l00061">t_shard_stmt::stmt_type</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>, and <a class="el" href="shard__statement_8c_source.html#l00412">shard_stmt_new_internal()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a2bca083bc38dff42bf2fa3994c9db5d5_icgraph.png" border="0" usemap="#shard__statement_8h_a2bca083bc38dff42bf2fa3994c9db5d5_icgraph" alt=""/></div>
<map name="shard__statement_8h_a2bca083bc38dff42bf2fa3994c9db5d5_icgraph" id="shard__statement_8h_a2bca083bc38dff42bf2fa3994c9db5d5_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="684,31,844,57"/>
<area shape="rect" id="node3" href="shard__statement_8c.html#a75e0c7bd932262fc450b9bb2418a1f34" title="shard_stmt_new_internal" alt="" coords="213,56,380,83"/>
<area shape="rect" id="node4" href="shard__statement_8h.html#a6b7e36e535ccea7c8197b4a65d8464ab" title="shard_stmt_new_exclusive" alt="" coords="442,31,622,57"/>
<area shape="rect" id="node5" href="shard__statement_8h.html#a87098b78180800080edd6faf904b84f2" title="shard_stmt_new_prepared_stmt" alt="" coords="428,81,636,108"/>
<area shape="rect" id="node6" href="shard__statement_8h.html#a632307c0bef7db59b6cec6ffc6c2955e" title="shard_stmt_new_schema_info" alt="" coords="433,132,631,159"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7aff41ad99bb609ff2989bb8a16623f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a>* shard_stmt_find_by_stmt_h_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stmt_h_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00272">272</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="shard__statement_8h_source.html#l00090">t_shard_stmt_global::max_num_stmt</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00040">SHARD_STMT_STATUS_UNUSED</a>, <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>, <a class="el" href="shard__statement_8h_source.html#l00098">t_shard_stmt_global::stmt_ent</a>, and <a class="el" href="shard__statement_8h_source.html#l00059">t_shard_stmt::stmt_h_id</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l01335">proxy_client_execute_internal()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01410">proxy_context_free_stmt()</a>, <a class="el" href="shard__statement_8c_source.html#l00715">shard_stmt_add_srv_h_id_for_shard_cas()</a>, <a class="el" href="shard__statement_8c_source.html#l00752">shard_stmt_del_srv_h_id_for_shard_cas()</a>, <a class="el" href="shard__statement_8c_source.html#l00686">shard_stmt_find_srv_h_id_for_shard_cas()</a>, and <a class="el" href="shard__statement_8c_source.html#l01517">shard_stmt_set_status()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a7aff41ad99bb609ff2989bb8a16623f9_icgraph.png" border="0" usemap="#shard__statement_8h_a7aff41ad99bb609ff2989bb8a16623f9_icgraph" alt=""/></div>
<map name="shard__statement_8h_a7aff41ad99bb609ff2989bb8a16623f9_icgraph" id="shard__statement_8h_a7aff41ad99bb609ff2989bb8a16623f9_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8c.html#affba070c8d56d9b5d6f48c7202361d29" title="proxy_client_execute\l_internal" alt="" coords="423,122,569,163"/>
<area shape="rect" id="node5" href="shard__proxy__handler_8h.html#a76203ead4a78a3ecbb485645e245ff34" title="proxy_context_free_stmt" alt="" coords="189,355,356,381"/>
<area shape="rect" id="node10" href="shard__statement_8h.html#ab37f176826e6e1b2f504041ed49de043" title="shard_stmt_add_srv\l_h_id_for_shard_cas" alt="" coords="201,515,344,557"/>
<area shape="rect" id="node14" href="shard__statement_8h.html#a8ad10e7be1966e981939b98fefb31f13" title="shard_stmt_del_srv\l_h_id_for_shard_cas" alt="" coords="201,57,344,98"/>
<area shape="rect" id="node17" href="shard__statement_8h.html#a99739bc79e1da316b8e172687fa1f0cc" title="shard_stmt_find_srv\l_h_id_for_shard_cas" alt="" coords="201,187,344,229"/>
<area shape="rect" id="node20" href="shard__statement_8c.html#a0b12a8c277b28bdc06cd993247651199" title="shard_stmt_set_status" alt="" coords="195,581,350,608"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#a851780c664a397663a77ea0526af3bb8" title="fn_proxy_client_execute" alt="" coords="636,159,799,185"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#aaf67694dfc5305b1cb2d75304c9e1379" title="fn_proxy_client_execute\l_array" alt="" coords="636,93,799,134"/>
<area shape="rect" id="node6" href="shard__proxy__function_8h.html#a9881fb7cfbeb24fcf8a38ca468e6a33e" title="fn_proxy_client_con\l_close" alt="" coords="648,238,787,279"/>
<area shape="rect" id="node7" href="shard__proxy__function_8h.html#a7215f635835b26790f2195f18d7e71d0" title="fn_proxy_client_end_tran" alt="" coords="413,355,579,381"/>
<area shape="rect" id="node8" href="shard__proxy__handler_8c.html#a6983e3735299cf70641ac2509a4c751c" title="proxy_context_clear" alt="" coords="427,405,565,432"/>
<area shape="rect" id="node9" href="shard__proxy__handler_8c.html#a5e714f8f4e4f864e6c21864b71e4cea9" title="proxy_handler_process\l_cas_response" alt="" coords="418,457,574,498"/>
<area shape="rect" id="node11" href="shard__proxy__function_8h.html#aecdb57a783bffc4f067a7931e8872525" title="fn_proxy_cas_prepare" alt="" coords="421,523,571,549"/>
<area shape="rect" id="node12" href="shard__proxy__function_8h.html#ac888edbb86b1408f235a33d0132d610e" title="fn_proxy_cas_prepare\l_and_execute" alt="" coords="421,574,571,615"/>
<area shape="rect" id="node13" href="shard__proxy__function_8h.html#a818351d6751490b290d168f2fa604bba" title="fn_proxy_cas_schema_info" alt="" coords="405,640,587,667"/>
<area shape="rect" id="node15" href="shard__proxy__function_8h.html#af13e59aea5d93ed2372e208df6affd42" title="fn_proxy_client_close\l_req_handle" alt="" coords="422,57,570,98"/>
<area shape="rect" id="node16" href="shard__proxy__function_8c.html#ac044d2d1f930db973b1646e0fb1fb45b" title="proxy_cas_execute_internal" alt="" coords="404,5,588,32"/>
<area shape="rect" id="node18" href="shard__proxy__function_8c.html#a3c3fc344b70b0c846f51c8dd349a0c4d" title="proxy_send_request\l_to_cas_with_new_event" alt="" coords="411,187,581,229"/>
<area shape="rect" id="node19" href="shard__proxy__function_8h.html#a7a2ebff0aac70941f2c10ff5630dcec3" title="fn_proxy_client_cursor" alt="" coords="419,253,573,280"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a99739bc79e1da316b8e172687fa1f0cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shard_stmt_find_srv_h_id_for_shard_cas </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stmt_h_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cas_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00686">686</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="broker__config_8h_source.html#l00160">PROXY_LOG_MODE_SHARD_DETAIL</a>, <a class="el" href="shard__statement_8c_source.html#l00272">shard_stmt_find_by_stmt_h_id()</a>, <a class="el" href="shard__statement_8c_source.html#l00169">shard_stmt_find_srv_h_id()</a>, <a class="el" href="shard__statement_8h_source.html#l00035">SHARD_STMT_INVALID_HANDLE_ID</a>, and <a class="el" href="shard__statement_8c_source.html#l01030">shard_str_stmt()</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l01849">fn_proxy_client_close_req_handle()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l01943">fn_proxy_client_cursor()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l02466">fn_proxy_client_cursor_close()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l02033">fn_proxy_client_fetch()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l01335">proxy_client_execute_internal()</a>, and <a class="el" href="shard__proxy__function_8c_source.html#l00169">proxy_send_request_to_cas_with_new_event()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a99739bc79e1da316b8e172687fa1f0cc_icgraph.png" border="0" usemap="#shard__statement_8h_a99739bc79e1da316b8e172687fa1f0cc_icgraph" alt=""/></div>
<map name="shard__statement_8h_a99739bc79e1da316b8e172687fa1f0cc_icgraph" id="shard__statement_8h_a99739bc79e1da316b8e172687fa1f0cc_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#af13e59aea5d93ed2372e208df6affd42" title="fn_proxy_client_close\l_req_handle" alt="" coords="207,5,355,47"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#a7a2ebff0aac70941f2c10ff5630dcec3" title="fn_proxy_client_cursor" alt="" coords="204,71,357,98"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#a5381a1ca58433e667b280a7f6c04cf22" title="fn_proxy_client_cursor\l_close" alt="" coords="204,123,357,164"/>
<area shape="rect" id="node5" href="shard__proxy__function_8h.html#a3fc0210fc4dd041fe12616604d1acc8b" title="fn_proxy_client_fetch" alt="" coords="207,189,354,215"/>
<area shape="rect" id="node6" href="shard__proxy__function_8c.html#affba070c8d56d9b5d6f48c7202361d29" title="proxy_client_execute\l_internal" alt="" coords="208,240,353,281"/>
<area shape="rect" id="node9" href="shard__proxy__function_8c.html#a3c3fc344b70b0c846f51c8dd349a0c4d" title="proxy_send_request\l_to_cas_with_new_event" alt="" coords="196,305,365,347"/>
<area shape="rect" id="node7" href="shard__proxy__function_8h.html#a851780c664a397663a77ea0526af3bb8" title="fn_proxy_client_execute" alt="" coords="413,189,576,215"/>
<area shape="rect" id="node8" href="shard__proxy__function_8h.html#aaf67694dfc5305b1cb2d75304c9e1379" title="fn_proxy_client_execute\l_array" alt="" coords="413,240,576,281"/>
<area shape="rect" id="node10" href="shard__proxy__function_8h.html#a9881fb7cfbeb24fcf8a38ca468e6a33e" title="fn_proxy_client_con\l_close" alt="" coords="425,305,564,347"/>
<area shape="rect" id="node11" href="shard__proxy__function_8h.html#a50159964e935390cf0589d2481ec4db3" title="fn_proxy_client_conn\l_error" alt="" coords="422,371,567,412"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad794fa513234dc2ba369d25e1d537928"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shard_stmt_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td>
          <td class="paramname"><em>stmt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00618">618</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="malloc__2__8__3_8c_source.html#l01204">assert</a>, <a class="el" href="shard__statement_8h_source.html#l00063">t_shard_stmt::client_version</a>, <a class="el" href="shard__statement_8h_source.html#l00065">t_shard_stmt::ctx_cid</a>, <a class="el" href="shard__statement_8h_source.html#l00066">t_shard_stmt::ctx_uid</a>, <a class="el" href="shard__statement_8h_source.html#l00067">t_shard_stmt::database_user</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00112">ENTER_FUNC</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00118">EXIT_FUNC</a>, <a class="el" href="cas__common_8h_source.html#l00058">FREE_MEM</a>, <a class="el" href="shard__statement_8h_source.html#l00072">t_shard_stmt::hash_next</a>, <a class="el" href="shard__statement_8h_source.html#l00073">t_shard_stmt::hash_prev</a>, <a class="el" href="dynamic__load_8c_source.html#l00954">i</a>, <a class="el" href="shard__statement_8h_source.html#l00095">t_shard_stmt_global::lru</a>, <a class="el" href="shard__statement_8h_source.html#l00070">t_shard_stmt::lru_next</a>, <a class="el" href="shard__statement_8h_source.html#l00071">t_shard_stmt::lru_prev</a>, <a class="el" href="shard__statement_8h_source.html#l00092">t_shard_stmt_global::max_num_shard</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00093">t_shard_stmt_global::num_cas_per_shard</a>, <a class="el" href="shard__statement_8h_source.html#l00069">t_shard_stmt::num_pinned</a>, <a class="el" href="shard__statement_8h_source.html#l00075">t_shard_stmt::parser</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00097">PROXY_DEBUG_LOG</a>, <a class="el" href="shard__proxy__common_8h_source.html#l00051">PROXY_INVALID_CONTEXT</a>, <a class="el" href="shard__statement_8h_source.html#l00080">t_shard_stmt::reply_buffer</a>, <a class="el" href="shard__statement_8h_source.html#l00079">t_shard_stmt::reply_buffer_length</a>, <a class="el" href="shard__statement_8h_source.html#l00078">t_shard_stmt::request_buffer</a>, <a class="el" href="shard__statement_8h_source.html#l00077">t_shard_stmt::request_buffer_length</a>, <a class="el" href="shard__proxy__queue_8c_source.html#l00188">shard_queue_destroy()</a>, <a class="el" href="shard__statement_8c_source.html#l01465">shard_stmt_del_statement_from_map()</a>, <a class="el" href="shard__statement_8h_source.html#l00035">SHARD_STMT_INVALID_HANDLE_ID</a>, <a class="el" href="shard__statement_8c_source.html#l00100">shard_stmt_lru_delete()</a>, <a class="el" href="shard__statement_8h_source.html#l00040">SHARD_STMT_STATUS_UNUSED</a>, <a class="el" href="shard__statement_8h_source.html#l00048">SHARD_STMT_TYPE_PREPARED</a>, <a class="el" href="shard__statement_8c_source.html#l01030">shard_str_stmt()</a>, <a class="el" href="shard__parser_8c_source.html#l00116">sp_destroy_parser()</a>, <a class="el" href="shard__statement_8h_source.html#l00084">t_shard_stmt::srv_h_id_ent</a>, <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>, <a class="el" href="shard__statement_8h_source.html#l00059">t_shard_stmt::stmt_h_id</a>, <a class="el" href="shard__statement_8h_source.html#l00061">t_shard_stmt::stmt_type</a>, and <a class="el" href="shard__statement_8h_source.html#l00082">t_shard_stmt::waitq</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l03016">fn_proxy_cas_prepare()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l03584">fn_proxy_cas_prepare_and_execute()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l03467">fn_proxy_cas_schema_info()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l02616">fn_proxy_client_prepare_and_execute()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l02122">fn_proxy_client_schema_info()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01106">proxy_context_clear()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01410">proxy_context_free_stmt()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01447">proxy_context_timeout()</a>, and <a class="el" href="shard__statement_8c_source.html#l00412">shard_stmt_new_internal()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_ad794fa513234dc2ba369d25e1d537928_icgraph.png" border="0" usemap="#shard__statement_8h_ad794fa513234dc2ba369d25e1d537928_icgraph" alt=""/></div>
<map name="shard__statement_8h_ad794fa513234dc2ba369d25e1d537928_icgraph" id="shard__statement_8h_ad794fa513234dc2ba369d25e1d537928_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#aecdb57a783bffc4f067a7931e8872525" title="fn_proxy_cas_prepare" alt="" coords="189,5,340,32"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#ac888edbb86b1408f235a33d0132d610e" title="fn_proxy_cas_prepare\l_and_execute" alt="" coords="189,57,340,98"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#a818351d6751490b290d168f2fa604bba" title="fn_proxy_cas_schema_info" alt="" coords="174,123,355,149"/>
<area shape="rect" id="node5" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="664,191,824,217"/>
<area shape="rect" id="node6" href="shard__proxy__function_8h.html#a311b744e4b544961d2d2f9e8e85bc6dc" title="fn_proxy_client_prepare\l_and_execute" alt="" coords="664,242,824,283"/>
<area shape="rect" id="node7" href="shard__proxy__function_8h.html#ad8b98cbe0ac69b5c147cc24152cca1ab" title="fn_proxy_client_schema_info" alt="" coords="169,351,360,377"/>
<area shape="rect" id="node8" href="shard__proxy__handler_8c.html#a6983e3735299cf70641ac2509a4c751c" title="proxy_context_clear" alt="" coords="443,401,581,428"/>
<area shape="rect" id="node13" href="shard__proxy__handler_8h.html#a76203ead4a78a3ecbb485645e245ff34" title="proxy_context_free_stmt" alt="" coords="181,484,348,511"/>
<area shape="rect" id="node16" href="shard__proxy__handler_8h.html#a86838f575fd30c5fbbd1af7a5f3f577c" title="proxy_context_timeout" alt="" coords="187,593,342,620"/>
<area shape="rect" id="node18" href="shard__statement_8c.html#a75e0c7bd932262fc450b9bb2418a1f34" title="shard_stmt_new_internal" alt="" coords="181,249,348,276"/>
<area shape="rect" id="node9" href="shard__proxy__handler_8h.html#ad47624c26abea442faf5abe0f241adaf" title="proxy_context_free" alt="" coords="677,332,811,359"/>
<area shape="rect" id="node11" href="shard__proxy__handler_8c.html#a59229032b84f12d4bb10fe36f392dd82" title="proxy_context_initialize" alt="" coords="665,383,823,409"/>
<area shape="rect" id="node12" href="shard__proxy__handler_8h.html#ab3b7dbc74c3d6cf94ce046a4fcfaa1db" title="proxy_context_new" alt="" coords="677,433,811,460"/>
<area shape="rect" id="node10" href="shard__proxy__handler_8c.html#a5e714f8f4e4f864e6c21864b71e4cea9" title="proxy_handler_process\l_cas_response" alt="" coords="872,401,1028,442"/>
<area shape="rect" id="node14" href="shard__proxy__function_8h.html#a9881fb7cfbeb24fcf8a38ca468e6a33e" title="fn_proxy_client_con\l_close" alt="" coords="443,535,581,577"/>
<area shape="rect" id="node15" href="shard__proxy__function_8h.html#a7215f635835b26790f2195f18d7e71d0" title="fn_proxy_client_end_tran" alt="" coords="429,601,595,628"/>
<area shape="rect" id="node17" href="shard__proxy__handler_8h.html#a78c628da2868a1445fe48e8752446ebd" title="proxy_waiter_timeout" alt="" coords="439,652,585,679"/>
<area shape="rect" id="node19" href="shard__statement_8h.html#a6b7e36e535ccea7c8197b4a65d8464ab" title="shard_stmt_new_exclusive" alt="" coords="422,249,602,276"/>
<area shape="rect" id="node20" href="shard__statement_8h.html#a87098b78180800080edd6faf904b84f2" title="shard_stmt_new_prepared_stmt" alt="" coords="408,199,616,225"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7e410f36ff283835d1baf80df6b2d56e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shard_stmt_get_hint_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td>
          <td class="paramname"><em>stmt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00854">854</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="malloc__2__8__3_8c_source.html#l01204">assert</a>, <a class="el" href="shard__parser_8h_source.html#l00122">sp_parser_hint::hint_type</a>, <a class="el" href="shard__parser_8h_source.html#l00051">HT_INVAL</a>, <a class="el" href="shard__parser_8h_source.html#l00052">HT_NONE</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00075">t_shard_stmt::parser</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__statement_8h_source.html#l00048">SHARD_STMT_TYPE_PREPARED</a>, <a class="el" href="shard__statement_8h_source.html#l00049">SHARD_STMT_TYPE_SCHEMA_INFO</a>, <a class="el" href="shard__parser_8c_source.html#l00155">sp_get_first_hint()</a>, and <a class="el" href="shard__statement_8h_source.html#l00061">t_shard_stmt::stmt_type</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l02616">fn_proxy_client_prepare_and_execute()</a>, and <a class="el" href="shard__proxy__function_8c_source.html#l01335">proxy_client_execute_internal()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a7e410f36ff283835d1baf80df6b2d56e_icgraph.png" border="0" usemap="#shard__statement_8h_a7e410f36ff283835d1baf80df6b2d56e_icgraph" alt=""/></div>
<map name="shard__statement_8h_a7e410f36ff283835d1baf80df6b2d56e_icgraph" id="shard__statement_8h_a7e410f36ff283835d1baf80df6b2d56e_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#a311b744e4b544961d2d2f9e8e85bc6dc" title="fn_proxy_client_prepare\l_and_execute" alt="" coords="225,5,385,47"/>
<area shape="rect" id="node3" href="shard__proxy__function_8c.html#affba070c8d56d9b5d6f48c7202361d29" title="proxy_client_execute\l_internal" alt="" coords="233,71,378,112"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#a851780c664a397663a77ea0526af3bb8" title="fn_proxy_client_execute" alt="" coords="433,49,596,75"/>
<area shape="rect" id="node5" href="shard__proxy__function_8h.html#aaf67694dfc5305b1cb2d75304c9e1379" title="fn_proxy_client_execute\l_array" alt="" coords="433,100,596,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af77fe89a17aa1d70f2c3484b5ad5b548"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shard_stmt_initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initial_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l01051">1051</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="shard__statement_8h_source.html#l00063">t_shard_stmt::client_version</a>, <a class="el" href="shard__statement_8h_source.html#l00065">t_shard_stmt::ctx_cid</a>, <a class="el" href="shard__statement_8h_source.html#l00066">t_shard_stmt::ctx_uid</a>, <a class="el" href="shard__statement_8h_source.html#l00067">t_shard_stmt::database_user</a>, <a class="el" href="dynamic__load_8c_source.html#l00954">i</a>, <a class="el" href="shard__statement_8h_source.html#l00056">t_shard_stmt::index</a>, <a class="el" href="shard__statement_8h_source.html#l00095">t_shard_stmt_global::lru</a>, <a class="el" href="broker__shm_8h_source.html#l00416">t_shard_info::max_appl_server</a>, <a class="el" href="shard__statement_8h_source.html#l00092">t_shard_stmt_global::max_num_shard</a>, <a class="el" href="shard__statement_8h_source.html#l00090">t_shard_stmt_global::max_num_stmt</a>, <a class="el" href="broker__shm_8h_source.html#l00465">t_proxy_info::max_shard</a>, <a class="el" href="memory__hash_8c_source.html#l00447">mht_1strhash()</a>, <a class="el" href="memory__hash_8c_source.html#l00767">mht_compare_strings_are_equal()</a>, <a class="el" href="memory__hash_8c_source.html#l00894">mht_create()</a>, <a class="el" href="shard__statement_8h_source.html#l00096">t_shard_stmt_global::mru</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00093">t_shard_stmt_global::num_cas_per_shard</a>, <a class="el" href="shard__proxy__common_8h_source.html#l00051">PROXY_INVALID_CONTEXT</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__shm_8c_source.html#l00433">shard_shm_find_shard_info()</a>, <a class="el" href="shard__statement_8h_source.html#l00035">SHARD_STMT_INVALID_HANDLE_ID</a>, <a class="el" href="shard__statement_8c_source.html#l00069">shard_Stmt_max_num_alloc</a>, <a class="el" href="shard__statement_8h_source.html#l00084">t_shard_stmt::srv_h_id_ent</a>, <a class="el" href="shard__statement_8h_source.html#l00098">t_shard_stmt_global::stmt_ent</a>, and <a class="el" href="shard__statement_8h_source.html#l00100">t_shard_stmt_global::stmt_map</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy_8c_source.html#l00163">main()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_af77fe89a17aa1d70f2c3484b5ad5b548_icgraph.png" border="0" usemap="#shard__statement_8h_af77fe89a17aa1d70f2c3484b5ad5b548_icgraph" alt=""/></div>
<map name="shard__statement_8h_af77fe89a17aa1d70f2c3484b5ad5b548_icgraph" id="shard__statement_8h_af77fe89a17aa1d70f2c3484b5ad5b548_icgraph">
<area shape="rect" id="node2" href="shard__proxy_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="195,5,245,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6b7e36e535ccea7c8197b4a65d8464ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a>* shard_stmt_new_exclusive </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sql_stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ctx_cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ctx_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cas__protocol_8h.html#ab63717ee4baef56efb96fb6f5f81fe7a">T_BROKER_VERSION</a>&#160;</td>
          <td class="paramname"><em>client_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00548">548</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8c_source.html#l00412">shard_stmt_new_internal()</a>, and <a class="el" href="shard__statement_8h_source.html#l00050">SHARD_STMT_TYPE_EXCLUSIVE</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>, and <a class="el" href="shard__proxy__function_8c_source.html#l02616">fn_proxy_client_prepare_and_execute()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a6b7e36e535ccea7c8197b4a65d8464ab_icgraph.png" border="0" usemap="#shard__statement_8h_a6b7e36e535ccea7c8197b4a65d8464ab_icgraph" alt=""/></div>
<map name="shard__statement_8h_a6b7e36e535ccea7c8197b4a65d8464ab_icgraph" id="shard__statement_8h_a6b7e36e535ccea7c8197b4a65d8464ab_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="233,5,393,32"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#a311b744e4b544961d2d2f9e8e85bc6dc" title="fn_proxy_client_prepare\l_and_execute" alt="" coords="233,57,393,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a87098b78180800080edd6faf904b84f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a>* shard_stmt_new_prepared_stmt </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sql_stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ctx_cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ctx_uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cas__protocol_8h.html#ab63717ee4baef56efb96fb6f5f81fe7a">T_BROKER_VERSION</a>&#160;</td>
          <td class="paramname"><em>client_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00530">530</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8c_source.html#l00412">shard_stmt_new_internal()</a>, and <a class="el" href="shard__statement_8h_source.html#l00048">SHARD_STMT_TYPE_PREPARED</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a87098b78180800080edd6faf904b84f2_icgraph.png" border="0" usemap="#shard__statement_8h_a87098b78180800080edd6faf904b84f2_icgraph" alt=""/></div>
<map name="shard__statement_8h_a87098b78180800080edd6faf904b84f2_icgraph" id="shard__statement_8h_a87098b78180800080edd6faf904b84f2_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="261,5,421,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a632307c0bef7db59b6cec6ffc6c2955e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a>* shard_stmt_new_schema_info </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ctx_cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ctx_uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00539">539</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8c_source.html#l00412">shard_stmt_new_internal()</a>, and <a class="el" href="shard__statement_8h_source.html#l00049">SHARD_STMT_TYPE_SCHEMA_INFO</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l02122">fn_proxy_client_schema_info()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a632307c0bef7db59b6cec6ffc6c2955e_icgraph.png" border="0" usemap="#shard__statement_8h_a632307c0bef7db59b6cec6ffc6c2955e_icgraph" alt=""/></div>
<map name="shard__statement_8h_a632307c0bef7db59b6cec6ffc6c2955e_icgraph" id="shard__statement_8h_a632307c0bef7db59b6cec6ffc6c2955e_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#ad8b98cbe0ac69b5c147cc24152cca1ab" title="fn_proxy_client_schema_info" alt="" coords="252,5,443,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe19e2087c07a870947918e8555d8188"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shard_stmt_pin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td>
          <td class="paramname"><em>stmt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00309">309</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="malloc__2__8__3_8c_source.html#l01204">assert</a>, <a class="el" href="gencat_8c_source.html#l00331">error()</a>, <a class="el" href="shard__statement_8h_source.html#l00095">t_shard_stmt_global::lru</a>, <a class="el" href="shard__statement_8h_source.html#l00070">t_shard_stmt::lru_next</a>, <a class="el" href="shard__statement_8h_source.html#l00071">t_shard_stmt::lru_prev</a>, <a class="el" href="shard__statement_8h_source.html#l00069">t_shard_stmt::num_pinned</a>, <a class="el" href="shard__proxy__log_8h_source.html#l00097">PROXY_DEBUG_LOG</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__statement_8c_source.html#l00100">shard_stmt_lru_delete()</a>, <a class="el" href="shard__statement_8h_source.html#l00040">SHARD_STMT_STATUS_UNUSED</a>, <a class="el" href="shard__statement_8c_source.html#l01030">shard_str_stmt()</a>, and <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__handler_8c_source.html#l01372">proxy_context_add_stmt()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_afe19e2087c07a870947918e8555d8188_icgraph.png" border="0" usemap="#shard__statement_8h_afe19e2087c07a870947918e8555d8188_icgraph" alt=""/></div>
<map name="shard__statement_8h_afe19e2087c07a870947918e8555d8188_icgraph" id="shard__statement_8h_afe19e2087c07a870947918e8555d8188_icgraph">
<area shape="rect" id="node2" href="shard__proxy__handler_8h.html#a0af84b84038ddcbfb2c4f694fcd6c58a" title="proxy_context_add_stmt" alt="" coords="164,93,329,120"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="393,5,553,32"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#a311b744e4b544961d2d2f9e8e85bc6dc" title="fn_proxy_client_prepare\l_and_execute" alt="" coords="393,57,553,98"/>
<area shape="rect" id="node5" href="shard__proxy__function_8h.html#ad8b98cbe0ac69b5c147cc24152cca1ab" title="fn_proxy_client_schema_info" alt="" coords="377,123,568,149"/>
<area shape="rect" id="node6" href="shard__proxy__function_8c.html#affba070c8d56d9b5d6f48c7202361d29" title="proxy_client_execute\l_internal" alt="" coords="400,174,545,215"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7fa963afea776def3c65b3aa56b2a812"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* shard_stmt_rewrite_sql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dbi__compat_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>has_shard_val_hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sql_stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>appl_server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The 'shard_val(n)' is changed to 'shard_id(N)'. a minimum number of chipers of n is 1; a maximum number of chipers of N is 3; so length of organized sql can be larger than length of original sql.</p>

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l01133">1133</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="gencat_8c_source.html#l00331">error()</a>, <a class="el" href="shard__parser_8h_source.html#l00052">HT_NONE</a>, <a class="el" href="shard__parser_8h_source.html#l00054">HT_VAL</a>, <a class="el" href="error__code_8h_source.html#l00046">NO_ERROR</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="dynamic__load_8c_source.html#l00945">p</a>, <a class="el" href="shard__statement_8c_source.html#l01314">shard_stmt_change_shard_val_to_id()</a>, <a class="el" href="shard__statement_8c_source.html#l01380">shard_stmt_write_buf_to_sql()</a>, <a class="el" href="shard__parser_8c_source.html#l00575">sp_get_hint_type()</a>, <a class="el" href="shard__parser_8c_source.html#l00489">sp_get_token_type()</a>, <a class="el" href="shard__parser_8c_source.html#l00852">sp_is_exist_pair_token()</a>, <a class="el" href="shard__parser_8c_source.html#l00203">sp_is_pair_token()</a>, <a class="el" href="intl__support_8c_source.html#l00043">strlen</a>, <a class="el" href="shard__parser_8h_source.html#l00081">TT_CPP_COMMENT</a>, <a class="el" href="shard__parser_8h_source.html#l00080">TT_CSQL_COMMENT</a>, <a class="el" href="shard__parser_8h_source.html#l00079">TT_DOUBLE_QUOTED</a>, <a class="el" href="shard__parser_8h_source.html#l00086">TT_HINT</a>, <a class="el" href="shard__parser_8h_source.html#l00083">TT_NEWLINE</a>, <a class="el" href="shard__parser_8h_source.html#l00077">TT_NONE</a>, <a class="el" href="shard__parser_8h_source.html#l00078">TT_SINGLE_QUOTED</a>, and <a class="el" href="shard__parser_8h_source.html#l00082">TT_WHITESPACE</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a7fa963afea776def3c65b3aa56b2a812_icgraph.png" border="0" usemap="#shard__statement_8h_a7fa963afea776def3c65b3aa56b2a812_icgraph" alt=""/></div>
<map name="shard__statement_8h_a7fa963afea776def3c65b3aa56b2a812_icgraph" id="shard__statement_8h_a7fa963afea776def3c65b3aa56b2a812_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="211,5,371,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a68cef2bd5bca384d745b7ea15d5eb5e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shard_stmt_save_prepare_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td>
          <td class="paramname"><em>stmt_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dbi__compat_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>has_shard_val_hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>prepare_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>prepare_req_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv_sql_stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv_remainder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>orgzd_sql</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00888">888</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="malloc__2__8__3_8c_source.html#l01204">assert</a>, <a class="el" href="cas__common_8h_source.html#l00058">FREE_MEM</a>, <a class="el" href="shard__proxy__io_8c_source.html#l00250">get_msg_length()</a>, <a class="el" href="object__representation_8c_source.html#l07773">htonl()</a>, <a class="el" href="dynamic__load_8c_source.html#l00954">i</a>, <a class="el" href="shard__statement_8h_source.html#l00056">t_shard_stmt::index</a>, <a class="el" href="shard__statement_8h_source.html#l00070">t_shard_stmt::lru_next</a>, <a class="el" href="shard__statement_8h_source.html#l00071">t_shard_stmt::lru_prev</a>, <a class="el" href="shard__statement_8h_source.html#l00092">t_shard_stmt_global::max_num_shard</a>, <a class="el" href="shard__statement_8h_source.html#l00090">t_shard_stmt_global::max_num_stmt</a>, <a class="el" href="cas__protocol_8h_source.html#l00114">MSG_HEADER_SIZE</a>, <a class="el" href="cas__net__buf_8c_source.html#l00528">net_arg_get_str()</a>, <a class="el" href="cas__network_8h_source.html#l00043">NET_SIZE_INT</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00057">t_shard_stmt::num_alloc</a>, <a class="el" href="shard__statement_8h_source.html#l00093">t_shard_stmt_global::num_cas_per_shard</a>, <a class="el" href="shard__statement_8h_source.html#l00069">t_shard_stmt::num_pinned</a>, <a class="el" href="shard__proxy__io_8c_source.html#l00440">proxy_dup_msg()</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__statement_8h_source.html#l00078">t_shard_stmt::request_buffer</a>, <a class="el" href="shard__statement_8h_source.html#l00077">t_shard_stmt::request_buffer_length</a>, <a class="el" href="shard__proxy__io_8c_source.html#l00228">set_data_length()</a>, <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>, <a class="el" href="shard__statement_8h_source.html#l00098">t_shard_stmt_global::stmt_ent</a>, <a class="el" href="shard__statement_8h_source.html#l00059">t_shard_stmt::stmt_h_id</a>, and <a class="el" href="intl__support_8c_source.html#l00043">strlen</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a68cef2bd5bca384d745b7ea15d5eb5e1_icgraph.png" border="0" usemap="#shard__statement_8h_a68cef2bd5bca384d745b7ea15d5eb5e1_icgraph" alt=""/></div>
<map name="shard__statement_8h_a68cef2bd5bca384d745b7ea15d5eb5e1_icgraph" id="shard__statement_8h_a68cef2bd5bca384d745b7ea15d5eb5e1_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="225,13,385,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23fefc14f19e234655152950ac0caac6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shard_stmt_set_hint_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td>
          <td class="paramname"><em>stmt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00806">806</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="malloc__2__8__3_8c_source.html#l01204">assert</a>, <a class="el" href="shard__parser_8h_source.html#l00122">sp_parser_hint::hint_type</a>, <a class="el" href="shard__parser_8h_source.html#l00056">HT_ID</a>, <a class="el" href="shard__parser_8h_source.html#l00053">HT_KEY</a>, <a class="el" href="shard__parser_8h_source.html#l00052">HT_NONE</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00075">t_shard_stmt::parser</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__statement_8h_source.html#l00048">SHARD_STMT_TYPE_PREPARED</a>, <a class="el" href="shard__statement_8h_source.html#l00049">SHARD_STMT_TYPE_SCHEMA_INFO</a>, <a class="el" href="shard__statement_8c_source.html#l01030">shard_str_stmt()</a>, <a class="el" href="shard__parser_8c_source.html#l00155">sp_get_first_hint()</a>, <a class="el" href="shard__parser_8c_source.html#l00161">sp_get_next_hint()</a>, <a class="el" href="shard__parser_8c_source.html#l00096">sp_parse_sql()</a>, and <a class="el" href="shard__statement_8h_source.html#l00061">t_shard_stmt::stmt_type</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>, and <a class="el" href="shard__proxy__function_8c_source.html#l02616">fn_proxy_client_prepare_and_execute()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a23fefc14f19e234655152950ac0caac6_icgraph.png" border="0" usemap="#shard__statement_8h_a23fefc14f19e234655152950ac0caac6_icgraph" alt=""/></div>
<map name="shard__statement_8h_a23fefc14f19e234655152950ac0caac6_icgraph" id="shard__statement_8h_a23fefc14f19e234655152950ac0caac6_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#a1129ea179bc5b956c36d68cb474abd99" title="fn_proxy_client_prepare" alt="" coords="217,5,377,32"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#a311b744e4b544961d2d2f9e8e85bc6dc" title="fn_proxy_client_prepare\l_and_execute" alt="" coords="217,57,377,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad1684a3261f23ec53741e8257045d04a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shard_stmt_set_status_complete </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stmt_h_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l01432">1432</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="shard__statement_8c_source.html#l01517">shard_stmt_set_status()</a>, and <a class="el" href="shard__statement_8h_source.html#l00042">SHARD_STMT_STATUS_COMPLETE</a>.</p>

<p>Referenced by <a class="el" href="shard__statement_8c_source.html#l00715">shard_stmt_add_srv_h_id_for_shard_cas()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_ad1684a3261f23ec53741e8257045d04a_icgraph.png" border="0" usemap="#shard__statement_8h_ad1684a3261f23ec53741e8257045d04a_icgraph" alt=""/></div>
<map name="shard__statement_8h_ad1684a3261f23ec53741e8257045d04a_icgraph" id="shard__statement_8h_ad1684a3261f23ec53741e8257045d04a_icgraph">
<area shape="rect" id="node2" href="shard__statement_8h.html#ab37f176826e6e1b2f504041ed49de043" title="shard_stmt_add_srv\l_h_id_for_shard_cas" alt="" coords="208,57,351,98"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#aecdb57a783bffc4f067a7931e8872525" title="fn_proxy_cas_prepare" alt="" coords="414,5,565,32"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#ac888edbb86b1408f235a33d0132d610e" title="fn_proxy_cas_prepare\l_and_execute" alt="" coords="414,57,565,98"/>
<area shape="rect" id="node5" href="shard__proxy__function_8h.html#a818351d6751490b290d168f2fa604bba" title="fn_proxy_cas_schema_info" alt="" coords="399,123,580,149"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a699693c586c265d82e65e0432538456b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shard_stmt_set_status_invalid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stmt_h_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l01426">1426</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="shard__statement_8c_source.html#l01517">shard_stmt_set_status()</a>, and <a class="el" href="shard__statement_8h_source.html#l00043">SHARD_STMT_STATUS_INVALID</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l03016">fn_proxy_cas_prepare()</a>, and <a class="el" href="shard__proxy__function_8c_source.html#l03299">proxy_cas_execute_internal()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a699693c586c265d82e65e0432538456b_icgraph.png" border="0" usemap="#shard__statement_8h_a699693c586c265d82e65e0432538456b_icgraph" alt=""/></div>
<map name="shard__statement_8h_a699693c586c265d82e65e0432538456b_icgraph" id="shard__statement_8h_a699693c586c265d82e65e0432538456b_icgraph">
<area shape="rect" id="node2" href="shard__proxy__function_8h.html#aecdb57a783bffc4f067a7931e8872525" title="fn_proxy_cas_prepare" alt="" coords="225,5,375,32"/>
<area shape="rect" id="node3" href="shard__proxy__function_8c.html#ac044d2d1f930db973b1646e0fb1fb45b" title="proxy_cas_execute_internal" alt="" coords="208,56,392,83"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#aabf8ebb5eb0da01ce48ba0f0d3283a6f" title="fn_proxy_cas_execute" alt="" coords="440,27,593,53"/>
<area shape="rect" id="node5" href="shard__proxy__function_8h.html#a27476fd33bcbf783fd85b4a63cc32e64" title="fn_proxy_cas_execute\l_array" alt="" coords="440,78,593,119"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44521406d2f264745709bc8e2807a6b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shard_stmt_unpin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td>
          <td class="paramname"><em>stmt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l00338">338</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="malloc__2__8__3_8c_source.html#l01204">assert</a>, <a class="el" href="gencat_8c_source.html#l00331">error()</a>, <a class="el" href="shard__statement_8h_source.html#l00069">t_shard_stmt::num_pinned</a>, <a class="el" href="shard__key__func_8c_source.html#l00040">PROXY_LOG</a>, <a class="el" href="broker__config_8h_source.html#l00157">PROXY_LOG_MODE_ERROR</a>, <a class="el" href="shard__statement_8c_source.html#l00072">shard_stmt_lru_insert()</a>, <a class="el" href="shard__statement_8h_source.html#l00040">SHARD_STMT_STATUS_UNUSED</a>, <a class="el" href="shard__statement_8c_source.html#l01030">shard_str_stmt()</a>, and <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__handler_8c_source.html#l01410">proxy_context_free_stmt()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shard__statement_8h_a44521406d2f264745709bc8e2807a6b1_icgraph.png" border="0" usemap="#shard__statement_8h_a44521406d2f264745709bc8e2807a6b1_icgraph" alt=""/></div>
<map name="shard__statement_8h_a44521406d2f264745709bc8e2807a6b1_icgraph" id="shard__statement_8h_a44521406d2f264745709bc8e2807a6b1_icgraph">
<area shape="rect" id="node2" href="shard__proxy__handler_8h.html#a76203ead4a78a3ecbb485645e245ff34" title="proxy_context_free_stmt" alt="" coords="179,97,345,123"/>
<area shape="rect" id="node3" href="shard__proxy__function_8h.html#a9881fb7cfbeb24fcf8a38ca468e6a33e" title="fn_proxy_client_con\l_close" alt="" coords="407,5,546,47"/>
<area shape="rect" id="node4" href="shard__proxy__function_8h.html#a7215f635835b26790f2195f18d7e71d0" title="fn_proxy_client_end_tran" alt="" coords="393,71,560,98"/>
<area shape="rect" id="node5" href="shard__proxy__handler_8c.html#a6983e3735299cf70641ac2509a4c751c" title="proxy_context_clear" alt="" coords="407,122,546,149"/>
<area shape="rect" id="node6" href="shard__proxy__handler_8c.html#a5e714f8f4e4f864e6c21864b71e4cea9" title="proxy_handler_process\l_cas_response" alt="" coords="399,173,555,215"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ade1df96d5d29fbfa4e87a625e0af871e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* shard_str_stmt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shard__statement_8h.html#ab6d7364fedcd498e332803c69dd4c8c6">T_SHARD_STMT</a> *&#160;</td>
          <td class="paramname"><em>stmt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shard__statement_8c_source.html#l01030">1030</a> of file <a class="el" href="shard__statement_8c_source.html">shard_statement.c</a>.</p>

<p>References <a class="el" href="shard__statement_8h_source.html#l00065">t_shard_stmt::ctx_cid</a>, <a class="el" href="shard__statement_8h_source.html#l00066">t_shard_stmt::ctx_uid</a>, <a class="el" href="shard__statement_8h_source.html#l00067">t_shard_stmt::database_user</a>, <a class="el" href="shard__statement_8h_source.html#l00072">t_shard_stmt::hash_next</a>, <a class="el" href="shard__statement_8h_source.html#l00073">t_shard_stmt::hash_prev</a>, <a class="el" href="shard__statement_8h_source.html#l00056">t_shard_stmt::index</a>, <a class="el" href="shard__statement_8h_source.html#l00070">t_shard_stmt::lru_next</a>, <a class="el" href="shard__statement_8h_source.html#l00071">t_shard_stmt::lru_prev</a>, <a class="el" href="freelistheap_8h_source.html#l00034">NULL</a>, <a class="el" href="shard__statement_8h_source.html#l00057">t_shard_stmt::num_alloc</a>, <a class="el" href="shard__statement_8h_source.html#l00069">t_shard_stmt::num_pinned</a>, <a class="el" href="shard__statement_8h_source.html#l00075">t_shard_stmt::parser</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01964">shard_str_sqls()</a>, <a class="el" href="shard__parser_8h_source.html#l00140">sp_parser_ctx::sql_stmt</a>, <a class="el" href="shard__statement_8h_source.html#l00060">t_shard_stmt::status</a>, <a class="el" href="shard__statement_8h_source.html#l00059">t_shard_stmt::stmt_h_id</a>, and <a class="el" href="shard__statement_8h_source.html#l00061">t_shard_stmt::stmt_type</a>.</p>

<p>Referenced by <a class="el" href="shard__proxy__function_8c_source.html#l03016">fn_proxy_cas_prepare()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l03584">fn_proxy_cas_prepare_and_execute()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l03467">fn_proxy_cas_schema_info()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l00891">fn_proxy_client_prepare()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l02616">fn_proxy_client_prepare_and_execute()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l02122">fn_proxy_client_schema_info()</a>, <a class="el" href="shard__proxy__function_8c_source.html#l01335">proxy_client_execute_internal()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01372">proxy_context_add_stmt()</a>, <a class="el" href="shard__proxy__handler_8c_source.html#l01410">proxy_context_free_stmt()</a>, <a class="el" href="shard__statement_8c_source.html#l00715">shard_stmt_add_srv_h_id_for_shard_cas()</a>, <a class="el" href="shard__statement_8c_source.html#l00368">shard_stmt_check_waiter_and_wakeup()</a>, <a class="el" href="shard__statement_8c_source.html#l00557">shard_stmt_destroy()</a>, <a class="el" href="shard__statement_8c_source.html#l00686">shard_stmt_find_srv_h_id_for_shard_cas()</a>, <a class="el" href="shard__statement_8c_source.html#l00618">shard_stmt_free()</a>, <a class="el" href="shard__statement_8c_source.html#l00100">shard_stmt_lru_delete()</a>, <a class="el" href="shard__statement_8c_source.html#l00072">shard_stmt_lru_insert()</a>, <a class="el" href="shard__statement_8c_source.html#l00412">shard_stmt_new_internal()</a>, <a class="el" href="shard__statement_8c_source.html#l00309">shard_stmt_pin()</a>, <a class="el" href="shard__statement_8c_source.html#l00147">shard_stmt_pos_srv_h_id()</a>, <a class="el" href="shard__statement_8c_source.html#l01438">shard_stmt_put_statement_to_map()</a>, <a class="el" href="shard__statement_8c_source.html#l00806">shard_stmt_set_hint_list()</a>, and <a class="el" href="shard__statement_8c_source.html#l00338">shard_stmt_unpin()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_910b69700b9bcd353bf4b208afda622c.html">broker</a></li><li class="navelem"><a class="el" href="shard__statement_8h.html">shard_statement.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
